[
    {
      "title": "initial commit · MystenLabs/sui@20f3abf · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/20f3abf07435759b6a3aa111ac4909c6bc4de0a9",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\ninitial commit\nBrowse files\nremove deprecated comments for markdown generation\n\nupdate README\n\nfix licence line in python files\n\nclean up .pyc file\n\nRename Libra into Primary\n\nupdate cargo dependencies (except ed25519-dalek and rand)\n\nTiny cleanups / wart-removal\n\nRemoving env_logger from fastpay_core\n\nRemoving log from fastpay_core\n\nUpdate version dependencies\n\nAlso introduces a workaround to dalek-cryptography/ed25519-dalek#126 (see workspace Cargo.toml)\n\nUpdate license\n main\n testnet-v1.25.0 \n…\n devnet-0.1.0\nma2bd authored and Alberto Sonnino committed  \n0 parents\ncommit 20f3abf\n \nShowing 50 changed files with 8,985 additions and 0 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\n.assets\ncalibra.png\n.gitignore\nCODE_OF_CONDUCT.md\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nrust\nfastpay\nCargo.toml\nsrc\nbench.rs\nclient.rs\nconfig.rs\nlib.rs\nnetwork.rs\nserver.rs\ntransport.rs\nunit_tests\ntransport_tests.rs\nfastpay_core\nCargo.toml\nsrc\nauthority.rs\nbase_types.rs\nclient.rs\ncommittee.rs\ndownloader.rs\nerror.rs\nfastpay_smart_contract.rs\nlib.rs\nmessages.rs\nserialize.rs\nunit_tests\nauthority_tests.rs\nbase_types_tests.rs\nclient_tests.rs\ndownloader_tests.rs\nfastpay_smart_contract_tests.rs\nmessages_tests.rs\nserialize_tests.rs\nrust-toolchain\nscripts\naggregated_parsed_logs\naggregated_latency_log.txt\ntaskset - x-1000000-z-4-aggregated_tps_log.txt\nx-1000000-z-4-aggregated_tps_log.txt\nx-z-1000-4-aggregated_tps_log.txt\nz-1000000-1000-x-aggregated_tps_log.txt\naggregated_tps_log.txt\naws_plot.py\nbench.sh\nfabfile.py\nlatency.py\nlatency_with_crash.py\nmicrobenchmark.py\nthroughput.py\n \nBinary file added\nBIN +31 KB \n.assets/calibra.png\n \n13 changes: 13 additions & 0 deletions\n13  \n.gitignore\n\t\t@@ -0,0 +1,13 @@\n\t\t/target\n\t\t\n\n\t\t.DS_Store\n\t\t\n\n\t\t# Thumbnails\n\t\t._*\n\t\t\n\n\t\t# Emacs\n\t\t\\#*\\#\n\t\t.\\#*\n\t\t\n\n\t\t# Python\n\t\t.pyc\n \n5 changes: 5 additions & 0 deletions\n5  \nCODE_OF_CONDUCT.md\n\t\t@@ -0,0 +1,5 @@\n\t\t# Code of Conduct\n\t\t\n\n\t\tPlease see Libra's\n\t\t[Code of Conduct](https://developers.libra.org/docs/policies/code-of-conduct),\n\t\twhich describes the expectations for interactions within the community.\n \n46 changes: 46 additions & 0 deletions\n46  \nCONTRIBUTING.md\n\t\t@@ -0,0 +1,46 @@\n\t\t# Contribution Guide\n\t\t\n\n\t\tOur goal is to make contributing to the Libra and Calibra projects easy and transparent.\n\t\t\n\n\t\t<blockquote class=\"block_note\">\n\t\tThe repository Calibra Research is meant to share content related to the research projects of Calibra.\n\t\t</blockquote>\n\t\t\n\n\t\t## Contributing to Calibra Research\n\t\t\n\n\t\tTo contribute, ensure that you have the latest version of the codebase. To clone the repository, run the following:\n\t\t```bash\n\t\t$ git clone https://github.com/calibra/research.git calibra-research\n\t\t$ cd calibra-research\n\t\t$ cargo build --all --all-targets\n\t\t$ cargo test\n\t\t```\n\t\t\n\n\t\t## Coding Guidelines for Rust code\n\t\t\n\n\t\tFor detailed guidance on how to contribute to the Rust code in the Calibra Research repository refer to [Coding Guidelines](https://developers.libra.org/docs/coding-guidelines).\n\t\t\n\n\t\t## Pull Requests\n\t\t\n\n\t\tPlease refer to the documentation to determine the status of each project (e.g. actively developed vs. archived) before submitting a pull request.\n\t\t\n\n\t\tTo submit your pull request:\n\t\t\n\n\t\t1. Fork Calibra's `research` repository and create your branch from `master`.\n\t\t2. If you have added code that should be tested, add unit tests.\n\t\t3. If you have made changes to APIs, update the relevant documentation, and build and test the developer site.\n\t\t4. Verify and ensure that the test suite passes.\n\t\t5. Make sure your code passes both linters.\n\t\t6. Complete the Contributor License Agreement (CLA), if you haven't already done so.\n\t\t7. Submit your pull request.\n\t\t\n\n\t\t## Contributor License Agreement\n\t\t\n\n\t\tFor your pull requests to be accepted by any Libra and Calibra project, you will need to sign a CLA. You will need to do this only once to work on any Libra open source project. Individuals contributing on their own behalf can sign the [Individual CLA](https://github.com/libra/libra/blob/master/contributing/individual-cla.pdf). If you are contributing on behalf of your employer, please ask them to sign the [Corporate CLA](https://github.com/libra/libra/blob/master/contributing/corporate-cla.pdf).\n\t\t\n\n\t\t## Code of Conduct\n\t\tPlease refer to the [Code of Conduct](https://github.com/libra/libra/blob/master/CODE_OF_CONDUCT.md) for guidelines on interacting with the community.\n\t\t\n\n\t\t## Issues\n\t\t\n\n\t\tCalibra uses [GitHub issues](https://github.com/calibra/research/issues) to track bugs. Please include necessary information and instructions to reproduce your issue.\n \n960 changes: 960 additions & 0 deletions\n960  \nCargo.lock\nLoad diff\n\nLarge diffs are not rendered by default.\n\n \n22 changes: 22 additions & 0 deletions\n22  \nCargo.toml\n\t\t@@ -0,0 +1,22 @@\n\t\t[workspace]\n\t\tmembers = [\n\t\t        \"rust/fastpay_core\",\n\t\t        \"rust/fastpay\",\n\t\t]\n\t\t\n\n\t\t[profile.release]\n\t\tdebug = true\n\t\t\n\n\t\t[profile.bench]\n\t\tdebug = true\n\t\t\n\n\t\t# This is a workaround to the following ed25519 issue\n\t\t# https://github.com/dalek-cryptography/ed25519-dalek/issues/126\n\t\t# It forces cargo resolution for ed25519 to follow the \"git\" flavor over\n\t\t# version numbers, depending on the particular patched merlin that \"works\"\n\t\t# given our usage of the \"batch\" feature. This comment and the following two\n\t\t# lines should just be deleted once #126 above is fixed, along with updating\n\t\t# the verison requirement of ed25519-dalek to the (presumptive) version\n\t\t# 1.0.0-pre.4\n\t\t[patch.crates-io]\n\t\ted25519-dalek = { git = \"http://github.com/dalek-cryptography/ed25519-dalek\" }\n \n201 changes: 201 additions & 0 deletions\n201  \nLICENSE\n\t\t@@ -0,0 +1,201 @@\n\t\t                                 Apache License\n\t\t                           Version 2.0, January 2004\n\t\t                        http://www.apache.org/licenses/\n\t\t\n\n\t\t   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\t\t\n\n\t\t   1. Definitions.\n\t\t\n\n\t\t      \"License\" shall mean the terms and conditions for use, reproduction,\n\t\t      and distribution as defined by Sections 1 through 9 of this document.\n\t\t\n\n\t\t      \"Licensor\" shall mean the copyright owner or entity authorized by\n\t\t      the copyright owner that is granting the License.\n\t\t\n\n\t\t      \"Legal Entity\" shall mean the union of the acting entity and all\n\t\t      other entities that control, are controlled by, or are under common\n\t\t      control with that entity. For the purposes of this definition,\n\t\t      \"control\" means (i) the power, direct or indirect, to cause the\n\t\t      direction or management of such entity, whether by contract or\n\t\t      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n\t\t      outstanding shares, or (iii) beneficial ownership of such entity.\n\t\t\n\n\t\t      \"You\" (or \"Your\") shall mean an individual or Legal Entity\n\t\t      exercising permissions granted by this License.\n\t\t\n\n\t\t      \"Source\" form shall mean the preferred form for making modifications,\n\t\t      including but not limited to software source code, documentation\n\t\t      source, and configuration files.\n\t\t\n\n\t\t      \"Object\" form shall mean any form resulting from mechanical\n\t\t      transformation or translation of a Source form, including but\n\t\t      not limited to compiled object code, generated documentation,\n\t\t      and conversions to other media types.\n\t\t\n\n\t\t      \"Work\" shall mean the work of authorship, whether in Source or\n\t\t      Object form, made available under the License, as indicated by a\n\t\t      copyright notice that is included in or attached to the work\n\t\t      (an example is provided in the Appendix below).\n\t\t\n\n\t\t      \"Derivative Works\" shall mean any work, whether in Source or Object\n\t\t      form, that is based on (or derived from) the Work and for which the\n\t\t      editorial revisions, annotations, elaborations, or other modifications\n\t\t      represent, as a whole, an original work of authorship. For the purposes\n\t\t      of this License, Derivative Works shall not include works that remain\n\t\t      separable from, or merely link (or bind by name) to the interfaces of,\n\t\t      the Work and Derivative Works thereof.\n\t\t\n\n\t\t      \"Contribution\" shall mean any work of authorship, including\n\t\t      the original version of the Work and any modifications or additions\n\t\t      to that Work or Derivative Works thereof, that is intentionally\n\t\t      submitted to Licensor for inclusion in the Work by the copyright owner\n\t\t      or by an individual or Legal Entity authorized to submit on behalf of\n\t\t      the copyright owner. For the purposes of this definition, \"submitted\"\n\t\t      means any form of electronic, verbal, or written communication sent\n\t\t      to the Licensor or its representatives, including but not limited to\n\t\t      communication on electronic mailing lists, source code control systems,\n\t\t      and issue tracking systems that are managed by, or on behalf of, the\n\t\t      Licensor for the purpose of discussing and improving the Work, but\n\t\t      excluding communication that is conspicuously marked or otherwise\n\t\t      designated in writing by the copyright owner as \"Not a Contribution.\"\n\t\t\n\n\t\t      \"Contributor\" shall mean Licensor and any individual or Legal Entity\n\t\t      on behalf of whom a Contribution has been received by Licensor and\n\t\t      subsequently incorporated within the Work.\n\t\t\n\n\t\t   2. Grant of Copyright License. Subject to the terms and conditions of\n\t\t      this License, each Contributor hereby grants to You a perpetual,\n\t\t      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n\t\t      copyright license to reproduce, prepare Derivative Works of,\n\t\t      publicly display, publicly perform, sublicense, and distribute the\n\t\t      Work and such Derivative Works in Source or Object form.\n\t\t\n\n\t\t   3. Grant of Patent License. Subject to the terms and conditions of\n\t\t      this License, each Contributor hereby grants to You a perpetual,\n\t\t      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n\t\t      (except as stated in this section) patent license to make, have made,\n\t\t      use, offer to sell, sell, import, and otherwise transfer the Work,\n\t\t      where such license applies only to those patent claims licensable\n\t\t      by such Contributor that are necessarily infringed by their\n\t\t      Contribution(s) alone or by combination of their Contribution(s)\n\t\t      with the Work to which such Contribution(s) was submitted. If You\n\t\t      institute patent litigation against any entity (including a\n\t\t      cross-claim or counterclaim in a lawsuit) alleging that the Work\n\t\t      or a Contribution incorporated within the Work constitutes direct\n\t\t      or contributory patent infringement, then any patent licenses\n\t\t      granted to You under this License for that Work shall terminate\n\t\t      as of the date such litigation is filed.\n\t\t\n\n\t\t   4. Redistribution. You may reproduce and distribute copies of the\n\t\t      Work or Derivative Works thereof in any medium, with or without\n\t\t      modifications, and in Source or Object form, provided that You\n\t\t      meet the following conditions:\n\t\t\n\n\t\t      (a) You must give any other recipients of the Work or\n\t\t          Derivative Works a copy of this License; and\n\t\t\n\n\t\t      (b) You must cause any modified files to carry prominent notices\n\t\t          stating that You changed the files; and\n\t\t\n\n\t\t      (c) You must retain, in the Source form of any Derivative Works\n\t\t          that You distribute, all copyright, patent, trademark, and\n\t\t          attribution notices from the Source form of the Work,\n\t\t          excluding those notices that do not pertain to any part of\n\t\t          the Derivative Works; and\n\t\t\n\n\t\t      (d) If the Work includes a \"NOTICE\" text file as part of its\n\t\t          distribution, then any Derivative Works that You distribute must\n\t\t          include a readable copy of the attribution notices contained\n\t\t          within such NOTICE file, excluding those notices that do not\n\t\t          pertain to any part of the Derivative Works, in at least one\n\t\t          of the following places: within a NOTICE text file distributed\n\t\t          as part of the Derivative Works; within the Source form or\n\t\t          documentation, if provided along with the Derivative Works; or,\n\t\t          within a display generated by the Derivative Works, if and\n\t\t          wherever such third-party notices normally appear. The contents\n\t\t          of the NOTICE file are for informational purposes only and\n\t\t          do not modify the License. You may add Your own attribution\n\t\t          notices within Derivative Works that You distribute, alongside\n\t\t          or as an addendum to the NOTICE text from the Work, provided\n\t\t          that such additional attribution notices cannot be construed\n\t\t          as modifying the License.\n\t\t\n\n\t\t      You may add Your own copyright statement to Your modifications and\n\t\t      may provide additional or different license terms and conditions\n\t\t      for use, reproduction, or distribution of Your modifications, or\n\t\t      for any such Derivative Works as a whole, provided Your use,\n\t\t      reproduction, and distribution of the Work otherwise complies with\n\t\t      the conditions stated in this License.\n\t\t\n\n\t\t   5. Submission of Contributions. Unless You explicitly state otherwise,\n\t\t      any Contribution intentionally submitted for inclusion in the Work\n\t\t      by You to the Licensor shall be under the terms and conditions of\n\t\t      this License, without any additional terms or conditions.\n\t\t      Notwithstanding the above, nothing herein shall supersede or modify\n\t\t      the terms of any separate license agreement you may have executed\n\t\t      with Licensor regarding such Contributions.\n\t\t\n\n\t\t   6. Trademarks. This License does not grant permission to use the trade\n\t\t      names, trademarks, service marks, or product names of the Licensor,\n\t\t      except as required for reasonable and customary use in describing the\n\t\t      origin of the Work and reproducing the content of the NOTICE file.\n\t\t\n\n\t\t   7. Disclaimer of Warranty. Unless required by applicable law or\n\t\t      agreed to in writing, Licensor provides the Work (and each\n\t\t      Contributor provides its Contributions) on an \"AS IS\" BASIS,\n\t\t      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n\t\t      implied, including, without limitation, any warranties or conditions\n\t\t      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n\t\t      PARTICULAR PURPOSE. You are solely responsible for determining the\n\t\t      appropriateness of using or redistributing the Work and assume any\n\t\t      risks associated with Your exercise of permissions under this License.\n\t\t\n\n\t\t   8. Limitation of Liability. In no event and under no legal theory,\n\t\t      whether in tort (including negligence), contract, or otherwise,\n\t\t      unless required by applicable law (such as deliberate and grossly\n\t\t      negligent acts) or agreed to in writing, shall any Contributor be\n\t\t      liable to You for damages, including any direct, indirect, special,\n\t\t      incidental, or consequential damages of any character arising as a\n\t\t      result of this License or out of the use or inability to use the\n\t\t      Work (including but not limited to damages for loss of goodwill,\n\t\t      work stoppage, computer failure or malfunction, or any and all\n\t\t      other commercial damages or losses), even if such Contributor\n\t\t      has been advised of the possibility of such damages.\n\t\t\n\n\t\t   9. Accepting Warranty or Additional Liability. While redistributing\n\t\t      the Work or Derivative Works thereof, You may choose to offer,\n\t\t      and charge a fee for, acceptance of support, warranty, indemnity,\n\t\t      or other liability obligations and/or rights consistent with this\n\t\t      License. However, in accepting such obligations, You may act only\n\t\t      on Your own behalf and on Your sole responsibility, not on behalf\n\t\t      of any other Contributor, and only if You agree to indemnify,\n\t\t      defend, and hold each Contributor harmless for any liability\n\t\t      incurred by, or claims asserted against, such Contributor by reason\n\t\t      of your accepting any such warranty or additional liability.\n\t\t\n\n\t\t   END OF TERMS AND CONDITIONS\n\t\t\n\n\t\t   APPENDIX: How to apply the Apache License to your work.\n\t\t\n\n\t\t      To apply the Apache License to your work, attach the following\n\t\t      boilerplate notice, with the fields enclosed by brackets \"[]\"\n\t\t      replaced with your own identifying information. (Don't include\n\t\t      the brackets!)  The text should be enclosed in the appropriate\n\t\t      comment syntax for the file format. We also recommend that a\n\t\t      file or class name and description of purpose be included on the\n\t\t      same \"printed page\" as the copyright notice for easier\n\t\t      identification within third-party archives.\n\t\t\n\n\t\t   Copyright [yyyy] [name of copyright owner]\n\t\t\n\n\t\t   Licensed under the Apache License, Version 2.0 (the \"License\");\n\t\t   you may not use this file except in compliance with the License.\n\t\t   You may obtain a copy of the License at\n\t\t\n\n\t\t       http://www.apache.org/licenses/LICENSE-2.0\n\t\t\n\n\t\t   Unless required by applicable law or agreed to in writing, software\n\t\t   distributed under the License is distributed on an \"AS IS\" BASIS,\n\t\t   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t\t   See the License for the specific language governing permissions and\n\t\t   limitations under the License.\n \n384 changes: 384 additions & 0 deletions\n384  \nLICENSE-docs\nLoad diff\n\nLarge diffs are not rendered by default.\n\n \n78 changes: 78 additions & 0 deletions\n78  \nREADME.md\n\t\t@@ -0,0 +1,78 @@\n\t\t<a href=\"https://calibra.com/\">\n\t\t\t<img width=\"200\" src=\".assets/calibra.png\" alt=\"Calibra Logo\" />\n\t\t</a>\n\t\t\n\n\t\t<hr/>\n\t\t\n\n\t\t# FastPay\n\t\t\n\n\t\t[![License](https://img.shields.io/badge/license-Apache-green.svg)](LICENSE.md)\n\t\t\n\n\t\tThis repository is dedicated to sharing material related to the FastPay protocol, developed at Calibra Research. Software is provided for research-purpose only and is not meant to be used in production.\n\t\t\n\n\t\t## Summary\n\t\t\n\n\t\tFastPay allows a set of distributed authorities, some of which are Byzantine, to maintain a high-integrity and availability settlement system for pre-funded payments. It can be used to settle payments in a native unit of value (crypto-currency), or as a financial side-infrastructure to support retail payments in fiat currencies. FastPay is based on Byzantine Consistent Broadcast as its core primitive, foregoing the expenses of full atomic commit channels (consensus). The resulting system has low-latency for both confirmation and payment finality. Remarkably, each authority can be sharded across many machines to allow unbounded horizontal scalability. Our experiments demonstrate intra-continental confirmation latency of less than 100ms, making FastPay applicable to point of sale payments. In laboratory environments, we achieve over 80,000 transactions per second with 20 authorities---surpassing the requirements of current retail card payment networks, while significantly increasing their robustness.\n\t\t\n\n\t\t## Quickstart with FastPay Prototype\n\t\t\n\n\t\t```bash\n\t\tcargo build --release\n\t\tcd target/release\n\t\t\n\n\t\t# Create configuration files for 4 authorities with 4 shards each.\n\t\t# * Private server states are stored in `server*.json`.\n\t\t# * `committee.json` is the public description of the FastPay committee.\n\t\tfor I in 1 2 3 4\n\t\tdo\n\t\t    ./server -- --server server\"$I\".json generate --host 127.0.0.1 --port 9\"$I\"00 --shards 4 >> committee.json\n\t\tdone\n\t\t\n\n\t\t# Create configuration files for 1000 user accounts.\n\t\t# * Private account states are stored in one local wallet `accounts.json`.\n\t\t# * `initial_accounts.json` is used to mint initial balances on the server side.\n\t\t./client --committee committee.json --accounts accounts.json create_accounts 1000 --initial_funding 100 >> initial_accounts.json\n\t\t\n\n\t\t# Start servers\n\t\tfor I in 1 2 3 4\n\t\tdo\n\t\t    for J in $(seq 0 3)\n\t\t    do\n\t\t        ./server --server server\"$I\".json run --shard \"$J\" --initial_accounts initial_accounts.json --initial_balance 100 --committee committee.json &\n\t\t    done\n\t\tdone\n\t\t\n\n\t\t# Query (locally cached) balance for first and last user account\n\t\tACCOUNT1=\"`head -n 1 initial_accounts.json`\"\n\t\tACCOUNT2=\"`tail -n -1 initial_accounts.json`\"\n\t\t./client --committee committee.json --accounts accounts.json query_balance \"$ACCOUNT1\"\n\t\t./client --committee committee.json --accounts accounts.json query_balance \"$ACCOUNT2\"\n\t\t\n\n\t\t# Transfer 10 units\n\t\t./client --committee committee.json --accounts accounts.json transfer 10 --from \"$ACCOUNT1\" --to \"$ACCOUNT2\"\n\t\t\n\n\t\t# Query balances again\n\t\t./client --committee committee.json --accounts accounts.json query_balance \"$ACCOUNT1\"\n\t\t./client --committee committee.json --accounts accounts.json query_balance \"$ACCOUNT2\"\n\t\t\n\n\t\t# Launch local benchmark using all user accounts\n\t\t./client --committee committee.json --accounts accounts.json benchmark\n\t\t\n\n\t\t# Inspect state of first account\n\t\tgrep \"$ACCOUNT1\" accounts.json\n\t\t\n\n\t\t# Kill servers\n\t\tkill %1 %2 %3 %4 %5 %6 %7 %8 %9 %10 %11 %12 %13 %14 %15 %16\n\t\t```\n\t\t\n\n\t\t## References\n\t\t\n\n\t\t* [FastPay: High-Performance Byzantine Fault Tolerant Settlement](https://arxiv.org/abs/2003.11506)\n\t\t\n\n\t\t## Contributing\n\t\t\n\n\t\tRead our [Contributing guide](https://developers.libra.org/docs/community/contributing).\n\t\t\n\n\t\t## License\n\t\t\n\n\t\tThe content of this repository is licensed as [Apache 2.0](https://github.com/calibra/research/blob/master/LICENSE)\n \n32 changes: 32 additions & 0 deletions\n32  \nrust/fastpay/Cargo.toml\n\t\t@@ -0,0 +1,32 @@\n\t\t[package]\n\t\tname = \"fastpay\"\n\t\tversion = \"0.1.0\"\n\t\tauthors = [\"Libra <oncall+libra@xmail.facebook.com>\"]\n\t\tpublish = false\n\t\tedition = \"2018\"\n\t\t\n\n\t\t[dependencies]\n\t\tbytes = \"0.5.4\"\n\t\tclap = \"2.33.0\"\n\t\tenv_logger = \"0.7.1\"\n\t\tfailure = \"0.1.7\"\n\t\tfutures = \"0.3.4\"\n\t\tlog = \"0.4.8\"\n\t\tnet2 = \"0.2.33\"\n\t\tserde = { version = \"1.0.106\", features = [\"derive\"] }\n\t\tserde_json = \"1.0.51\"\n\t\ttokio = { version = \"0.2.18\", features = [\"full\"] }\n\t\t\n\n\t\tfastpay_core = { path = \"../fastpay_core\" }\n\t\t\n\n\t\t[[bin]]\n\t\tname = \"client\"\n\t\tpath = \"src/client.rs\"\n\t\t\n\n\t\t[[bin]]\n\t\tname = \"server\"\n\t\tpath = \"src/server.rs\"\n\t\t\n\n\t\t[[bin]]\n\t\tname = \"bench\"\n\t\tpath = \"src/bench.rs\"\n \n336 changes: 336 additions & 0 deletions\n336  \nrust/fastpay/src/bench.rs\n\t\t@@ -0,0 +1,336 @@\n\t\t// Copyright (c) Facebook Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\t#![deny(warnings)]\n\t\t\n\n\t\textern crate fastpay;\n\t\textern crate fastpay_core;\n\t\textern crate log;\n\t\t\n\n\t\tuse fastpay::{network, transport};\n\t\tuse fastpay_core::authority::*;\n\t\tuse fastpay_core::base_types::*;\n\t\tuse fastpay_core::committee::*;\n\t\tuse fastpay_core::messages::*;\n\t\tuse fastpay_core::serialize::*;\n\t\t\n\n\t\tuse bytes::Bytes;\n\t\tuse clap::{App, Arg};\n\t\tuse futures::stream::StreamExt;\n\t\tuse log::*;\n\t\tuse std::collections::HashMap;\n\t\tuse std::time::{Duration, Instant};\n\t\tuse tokio::runtime::Builder;\n\t\tuse tokio::time;\n\t\t\n\n\t\tuse std::thread;\n\t\t\n\n\t\t#[derive(Debug, Clone)]\n\t\tstruct ClientServerBenchmark {\n\t\t    network_protocol: transport::NetworkProtocol,\n\t\t    host: String,\n\t\t    port: u32,\n\t\t    committee_size: usize,\n\t\t    num_shards: u32,\n\t\t    max_in_flight: usize,\n\t\t    num_accounts: usize,\n\t\t    send_timeout: Duration,\n\t\t    recv_timeout: Duration,\n\t\t    buffer_size: usize,\n\t\t    cross_shard_queue_size: usize,\n\t\t}\n\t\t\n\n\t\tfn main() {\n\t\t    env_logger::from_env(env_logger::Env::default().default_filter_or(\"info\")).init();\n\t\t    let benchmark = ClientServerBenchmark::from_command_line();\n\t\t\n\n\t\t    let (states, orders) = benchmark.make_structures();\n\t\t\n\n\t\t    // Start the servers on the thread pool\n\t\t    for state in states {\n\t\t        // Make special single-core runtime for each server\n\t\t        let b = benchmark.clone();\n\t\t        thread::spawn(move || {\n\t\t            let mut runtime = Builder::new()\n\t\t                .enable_all()\n\t\t                .basic_scheduler()\n\t\t                .thread_stack_size(15 * 1024 * 1024)\n\t\t                .build()\n\t\t                .unwrap();\n\t\t\n\n\t\t            runtime.block_on(async move {\n\t\t                let server = b.spawn_server(state).await;\n\t\t                if let Err(err) = server.join().await {\n\t\t                    error!(\"Server ended with an error: {}\", err);\n\t\t                }\n\t\t            });\n\t\t        });\n\t\t    }\n\t\t\n\n\t\t    let mut runtime = Builder::new()\n\t\t        .enable_all()\n\t\t        .basic_scheduler()\n\t\t        .thread_stack_size(15 * 1024 * 1024)\n\t\t        .build()\n\t\t        .unwrap();\n\t\t    runtime.block_on(benchmark.launch_client(orders));\n\t\t}\n\t\t\n\n\t\timpl ClientServerBenchmark {\n\t\t    fn make_structures(&self) -> (Vec<AuthorityState>, Vec<(u32, Bytes)>) {\n\t\t        info!(\"Preparing accounts.\");\n\t\t        let mut keys = Vec::new();\n\t\t        for _ in 0..self.committee_size {\n\t\t            keys.push(get_key_pair());\n\t\t        }\n\t\t        let committee = Committee {\n\t\t            voting_rights: keys.iter().map(|(k, _)| (*k, 1)).collect(),\n\t\t            total_votes: self.committee_size,\n\t\t        };\n\t\t\n\n\t\t        // Pick an authority and create one state per shard.\n\t\t        let (public_auth0, secret_auth0) = keys.pop().unwrap();\n\t\t        let mut states = Vec::new();\n\t\t        for i in 0..self.num_shards {\n\t\t            let state = AuthorityState::new_shard(\n\t\t                committee.clone(),\n\t\t                public_auth0.clone(),\n\t\t                secret_auth0.copy(),\n\t\t                i as u32,\n\t\t                self.num_shards,\n\t\t            );\n\t\t            states.push(state);\n\t\t        }\n\t\t\n\n\t\t        // Seed user accounts.\n\t\t        let mut account_keys = Vec::new();\n\t\t        for _ in 0..self.num_accounts {\n\t\t            let keypair = get_key_pair();\n\t\t            let i = AuthorityState::get_shard(self.num_shards, &keypair.0) as usize;\n\t\t            assert!(states[i].in_shard(&keypair.0));\n\t\t            let client = AccountOffchainState {\n\t\t                balance: Balance::from(Amount::from(100)),\n\t\t                next_sequence_number: SequenceNumber::from(0),\n\t\t                pending_confirmation: None,\n\t\t                confirmed_log: Vec::new(),\n\t\t                synchronization_log: Vec::new(),\n\t\t                received_log: Vec::new(),\n\t\t            };\n\t\t            states[i].accounts.insert(keypair.0, client);\n\t\t            account_keys.push(keypair);\n\t\t        }\n\t\t\n\n\t\t        info!(\"Preparing transactions.\");\n\t\t        // Make one transaction per account (transfer order + confirmation).\n\t\t        let mut orders: Vec<(u32, Bytes)> = Vec::new();\n\t\t        let mut next_recipient = get_key_pair().0;\n\t\t        for (pubx, secx) in account_keys.iter() {\n\t\t            let transfer = Transfer {\n\t\t                sender: pubx.clone(),\n\t\t                recipient: Address::FastPay(next_recipient),\n\t\t                amount: Amount::from(50),\n\t\t                sequence_number: SequenceNumber::from(0),\n\t\t                user_data: UserData::default(),\n\t\t            };\n\t\t            next_recipient = *pubx;\n\t\t            let order = TransferOrder::new(transfer.clone(), secx);\n\t\t            let shard = AuthorityState::get_shard(self.num_shards, &pubx);\n\t\t\n\n\t\t            // Serialize order\n\t\t            let bufx = serialize_transfer_order(&order);\n\t\t            assert!(bufx.len() > 0);\n\t\t\n\n\t\t            // Make certificate\n\t\t            let mut certificate = CertifiedTransferOrder {\n\t\t                value: order,\n\t\t                signatures: Vec::new(),\n\t\t            };\n\t\t            for i in 0..committee.quorum_threshold() {\n\t\t                let (pubx, secx) = keys.get(i).unwrap();\n\t\t                let sig = Signature::new(&certificate.value, secx);\n\t\t                certificate.signatures.push((*pubx, sig));\n\t\t            }\n\t\t\n\n\t\t            let bufx2 = serialize_cert(&certificate);\n\t\t            assert!(bufx2.len() > 0);\n\t\t\n\n\t\t            orders.push((shard, bufx2.into()));\n\t\t            orders.push((shard, bufx.into()));\n\t\t        }\n\t\t\n\n\t\t        (states, orders)\n\t\t    }\n\t\t\n\n\t\t    async fn spawn_server(&self, state: AuthorityState) -> transport::SpawnedServer {\n\t\t        let server = network::Server::new(\n\t\t            self.network_protocol,\n\t\t            self.host.clone(),\n\t\t            self.port,\n\t\t            state,\n\t\t            self.buffer_size,\n\t\t            self.cross_shard_queue_size,\n\t\t        );\n\t\t        server.spawn().await.unwrap()\n\t\t    }\n\t\t\n\n\t\t    async fn launch_client(&self, mut orders: Vec<(u32, Bytes)>) {\n\t\t        time::delay_for(Duration::from_millis(1000)).await;\n\t\t\n\n\t\t        let items_number = orders.len() / 2;\n\t\t        let time_start = Instant::now();\n\t\t\n\n\t\t        let max_in_flight = (self.max_in_flight / self.num_shards as usize) as usize;\n\t\t        info!(\"Set max_in_flight per shard to {}\", max_in_flight);\n\t\t\n\n\t\t        info!(\"Sending requests.\");\n\t\t        if self.max_in_flight > 0 {\n\t\t            let mass_client = network::MassClient::new(\n\t\t                self.network_protocol,\n\t\t                self.host.clone(),\n\t\t                self.port,\n\t\t                self.buffer_size,\n\t\t                self.send_timeout,\n\t\t                self.recv_timeout,\n\t\t                max_in_flight as u64,\n\t\t            );\n\t\t            let mut sharded_requests = HashMap::new();\n\t\t            for (shard, buf) in orders.iter().rev() {\n\t\t                sharded_requests\n\t\t                    .entry(*shard)\n\t\t                    .or_insert(Vec::new())\n\t\t                    .push(buf.clone());\n\t\t            }\n\t\t            let responses = mass_client.run(sharded_requests).concat().await;\n\t\t            info!(\"Received {} responses.\", responses.len(),);\n\t\t        } else {\n\t\t            // Use actual client core\n\t\t            let mut client = network::Client::new(\n\t\t                self.network_protocol,\n\t\t                self.host.clone(),\n\t\t                self.port,\n\t\t                self.num_shards,\n\t\t                self.buffer_size,\n\t\t                self.send_timeout,\n\t\t                self.recv_timeout,\n\t\t            );\n\t\t\n\n\t\t            while orders.len() > 0 {\n\t\t                if orders.len() % 1000 == 0 {\n\t\t                    info!(\"Process message {}...\", orders.len());\n\t\t                }\n\t\t                let (shard, order) = orders.pop().unwrap();\n\t\t                let status = client.send_recv_bytes(shard, order.to_vec()).await;\n\t\t                match status {\n\t\t                    Ok(info) => {\n\t\t                        debug!(\"Query response: {:?}\", info);\n\t\t                    }\n\t\t                    Err(error) => {\n\t\t                        error!(\"Failed to execute order: {}\", error);\n\t\t                    }\n\t\t                }\n\t\t            }\n\t\t        }\n\t\t\n\n\t\t        let time_total = time_start.elapsed().as_micros();\n\t\t        warn!(\n\t\t            \"Total time: {}ms, items: {}, tx/sec: {}\",\n\t\t            time_total,\n\t\t            items_number,\n\t\t            1000000.0 * (items_number as f64) / (time_total as f64)\n\t\t        );\n\t\t    }\n\t\t\n\n\t\t    fn from_command_line() -> Self {\n\t\t        let matches = App::new(\"FastPay benchmark\")\n\t\t            .about(\"Local end-to-end test and benchmark of the FastPay protocol\")\n\t\t            .arg(\n\t\t                Arg::with_name(\"protocol\")\n\t\t                    .long(\"protocol\")\n\t\t                    .help(\"Choose a network protocol between Udp and Tcp\")\n\t\t                    .default_value(\"Udp\"),\n\t\t            )\n\t\t            .arg(\n\t\t                Arg::with_name(\"host\")\n\t\t                    .long(\"host\")\n\t\t                    .help(\"Hostname\")\n\t\t                    .default_value(\"127.0.0.1\"),\n\t\t            )\n\t\t            .arg(\n\t\t                Arg::with_name(\"port\")\n\t\t                    .long(\"port\")\n\t\t                    .help(\"Base port number\")\n\t\t                    .default_value(\"9555\"),\n\t\t            )\n\t\t            .arg(\n\t\t                Arg::with_name(\"committee_size\")\n\t\t                    .long(\"committee_size\")\n\t\t                    .help(\"Size of the FastPay committee\")\n\t\t                    .default_value(\"10\"),\n\t\t            )\n\t\t            .arg(\n\t\t                Arg::with_name(\"num_shards\")\n\t\t                    .long(\"num_shards\")\n\t\t                    .help(\"Number of shards per FastPay authority\")\n\t\t                    .default_value(\"15\"),\n\t\t            )\n\t\t            .arg(\n\t\t                Arg::with_name(\"max_in_flight\")\n\t\t                    .long(\"max_in_flight\")\n\t\t                    .help(\"Maximum number of requests in flight (0 for blocking client)\")\n\t\t                    .default_value(\"1000\"),\n\t\t            )\n\t\t            .arg(\n\t\t                Arg::with_name(\"num_accounts\")\n\t\t                    .long(\"num_accounts\")\n\t\t                    .help(\"Number of accounts and transactions used in the benchmark\")\n\t\t                    .default_value(\"40000\"),\n\t\t            )\n\t\t            .arg(\n\t\t                Arg::with_name(\"send_timeout\")\n\t\t                    .long(\"send_timeout\")\n\t\t                    .help(\"Timeout for sending queries (us)\")\n\t\t                    .default_value(\"4000000\"),\n\t\t            )\n\t\t            .arg(\n\t\t                Arg::with_name(\"recv_timeout\")\n\t\t                    .long(\"recv_timeout\")\n\t\t                    .help(\"Timeout for receiving responses (us)\")\n\t\t                    .default_value(\"4000000\"),\n\t\t            )\n\t\t            .arg(\n\t\t                Arg::with_name(\"buffer_size\")\n\t\t                    .long(\"buffer_size\")\n\t\t                    .help(\"Maximum size of datagrams received and sent (bytes\")\n\t\t                    .default_value(transport::DEFAULT_MAX_DATAGRAM_SIZE),\n\t\t            )\n\t\t            .arg(\n\t\t                Arg::with_name(\"cross_shard_queue_size\")\n\t\t                    .long(\"cross_shard_queue_size\")\n\t\t                    .help(\"Number of cross shards messages allowed before blocking the main server loop\")\n\t\t                    .default_value(\"1\"),\n\t\t            )\n\t\t            .get_matches();\n\t\t\n\n\t\t        Self {\n\t\t            network_protocol: matches.value_of(\"protocol\").unwrap().parse().unwrap(),\n\t\t            host: matches.value_of(\"host\").unwrap().to_string(),\n\t\t            port: matches.value_of(\"port\").unwrap().parse().unwrap(),\n\t\t            committee_size: matches.value_of(\"committee_size\").unwrap().parse().unwrap(),\n\t\t            num_shards: matches.value_of(\"num_shards\").unwrap().parse().unwrap(),\n\t\t            max_in_flight: matches.value_of(\"max_in_flight\").unwrap().parse().unwrap(),\n\t\t            num_accounts: matches.value_of(\"num_accounts\").unwrap().parse().unwrap(),\n\t\t            send_timeout: Duration::from_micros(\n\t\t                matches.value_of(\"send_timeout\").unwrap().parse().unwrap(),\n\t\t            ),\n\t\t            recv_timeout: Duration::from_micros(\n\t\t                matches.value_of(\"recv_timeout\").unwrap().parse().unwrap(),\n\t\t            ),\n\t\t            buffer_size: matches.value_of(\"buffer_size\").unwrap().parse().unwrap(),\n\t\t            cross_shard_queue_size: matches\n\t\t                .value_of(\"cross_shard_queue_size\")\n\t\t                .unwrap()\n\t\t                .parse()\n\t\t                .unwrap(),\n\t\t        }\n\t\t    }\n\t\t}\n \n545 changes: 545 additions & 0 deletions\n545  \nrust/fastpay/src/client.rs\nLoad diff\n\nLarge diffs are not rendered by default.\n\n \n215 changes: 215 additions & 0 deletions\n215  \nrust/fastpay/src/config.rs\n\t\t@@ -0,0 +1,215 @@\n\t\t// Copyright (c) Facebook Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tuse crate::fastpay_core::base_types::*;\n\t\tuse crate::fastpay_core::client::ClientState;\n\t\tuse crate::fastpay_core::messages::{Address, CertifiedTransferOrder};\n\t\tuse crate::transport::NetworkProtocol;\n\t\t\n\n\t\tuse serde::{Deserialize, Serialize};\n\t\tuse std::collections::BTreeMap;\n\t\tuse std::fs::{self, File, OpenOptions};\n\t\tuse std::io::{BufRead, BufReader, BufWriter, Write};\n\t\t\n\n\t\t#[derive(Clone, Debug, Serialize, Deserialize)]\n\t\tpub struct AuthorityConfig {\n\t\t    pub network_protocol: NetworkProtocol,\n\t\t    #[serde(\n\t\t        serialize_with = \"address_as_base64\",\n\t\t        deserialize_with = \"address_from_base64\"\n\t\t    )]\n\t\t    pub address: FastPayAddress,\n\t\t    pub host: String,\n\t\t    pub base_port: u32,\n\t\t    pub num_shards: u32,\n\t\t}\n\t\t\n\n\t\timpl AuthorityConfig {\n\t\t    pub fn print(&self) {\n\t\t        let data = serde_json::to_string(self).unwrap();\n\t\t        println!(\"{}\", data);\n\t\t    }\n\t\t}\n\t\t\n\n\t\t#[derive(Serialize, Deserialize)]\n\t\tpub struct AuthorityServerConfig {\n\t\t    pub authority: AuthorityConfig,\n\t\t    pub key: SecretKey,\n\t\t}\n\t\t\n\n\t\timpl AuthorityServerConfig {\n\t\t    pub fn read(path: &str) -> Result<Self, std::io::Error> {\n\t\t        let data = fs::read(path)?;\n\t\t        Ok(serde_json::from_slice(data.as_slice())?)\n\t\t    }\n\t\t\n\n\t\t    pub fn write(&self, path: &str) -> Result<(), std::io::Error> {\n\t\t        let file = OpenOptions::new().create(true).write(true).open(path)?;\n\t\t        let mut writer = BufWriter::new(file);\n\t\t        let data = serde_json::to_string_pretty(self).unwrap();\n\t\t        writer.write_all(data.as_ref())?;\n\t\t        writer.write_all(b\"\\n\")?;\n\t\t        Ok(())\n\t\t    }\n\t\t}\n\t\t\n\n\t\tpub struct CommitteeConfig {\n\t\t    pub authorities: Vec<AuthorityConfig>,\n\t\t}\n\t\t\n\n\t\timpl CommitteeConfig {\n\t\t    pub fn read(path: &str) -> Result<Self, std::io::Error> {\n\t\t        let file = File::open(path)?;\n\t\t        let reader = BufReader::new(file);\n\t\t        let stream = serde_json::Deserializer::from_reader(reader).into_iter();\n\t\t        Ok(Self {\n\t\t            authorities: stream.filter_map(Result::ok).collect(),\n\t\t        })\n\t\t    }\n\t\t\n\n\t\t    pub fn write(&self, path: &str) -> Result<(), std::io::Error> {\n\t\t        let file = OpenOptions::new().create(true).write(true).open(path)?;\n\t\t        let mut writer = BufWriter::new(file);\n\t\t        for config in &self.authorities {\n\t\t            serde_json::to_writer(&mut writer, config)?;\n\t\t            writer.write_all(b\"\\n\")?;\n\t\t        }\n\t\t        Ok(())\n\t\t    }\n\t\t\n\n\t\t    pub fn voting_rights(&self) -> BTreeMap<AuthorityName, usize> {\n\t\t        let mut map = BTreeMap::new();\n\t\t        for authority in &self.authorities {\n\t\t            map.insert(authority.address, 1);\n\t\t        }\n\t\t        map\n\t\t    }\n\t\t}\n\t\t\n\n\t\t#[derive(Serialize, Deserialize)]\n\t\tpub struct UserAccount {\n\t\t    #[serde(\n\t\t        serialize_with = \"address_as_base64\",\n\t\t        deserialize_with = \"address_from_base64\"\n\t\t    )]\n\t\t    pub address: FastPayAddress,\n\t\t    pub key: SecretKey,\n\t\t    pub next_sequence_number: SequenceNumber,\n\t\t    pub balance: Balance,\n\t\t    pub sent_certificates: Vec<CertifiedTransferOrder>,\n\t\t    pub received_certificates: Vec<CertifiedTransferOrder>,\n\t\t}\n\t\t\n\n\t\timpl UserAccount {\n\t\t    pub fn new(balance: Balance) -> Self {\n\t\t        let (address, key) = get_key_pair();\n\t\t        Self {\n\t\t            address,\n\t\t            key,\n\t\t            next_sequence_number: SequenceNumber::new(),\n\t\t            balance,\n\t\t            sent_certificates: Vec::new(),\n\t\t            received_certificates: Vec::new(),\n\t\t        }\n\t\t    }\n\t\t}\n\t\t\n\n\t\tpub struct AccountsConfig {\n\t\t    accounts: BTreeMap<FastPayAddress, UserAccount>,\n\t\t}\n\t\t\n\n\t\timpl AccountsConfig {\n\t\t    pub fn get(&self, address: &FastPayAddress) -> Option<&UserAccount> {\n\t\t        self.accounts.get(address)\n\t\t    }\n\t\t\n\n\t\t    pub fn insert(&mut self, account: UserAccount) {\n\t\t        self.accounts.insert(account.address, account);\n\t\t    }\n\t\t\n\n\t\t    pub fn num_accounts(&self) -> usize {\n\t\t        self.accounts.len()\n\t\t    }\n\t\t\n\n\t\t    pub fn accounts_mut(&mut self) -> impl Iterator<Item = &mut UserAccount> {\n\t\t        self.accounts.values_mut()\n\t\t    }\n\t\t\n\n\t\t    pub fn update_from_state<A>(&mut self, state: &ClientState<A>) {\n\t\t        let account = self\n\t\t            .accounts\n\t\t            .get_mut(&state.address())\n\t\t            .expect(\"Updated account should already exist\");\n\t\t        account.next_sequence_number = state.next_sequence_number();\n\t\t        account.balance = state.balance();\n\t\t        account.sent_certificates = state.sent_certificates().clone();\n\t\t        account.received_certificates = state.received_certificates().cloned().collect();\n\t\t    }\n\t\t\n\n\t\t    pub fn update_for_received_transfer(&mut self, certificate: CertifiedTransferOrder) {\n\t\t        let transfer = &certificate.value.transfer;\n\t\t        if let Address::FastPay(recipient) = &transfer.recipient {\n\t\t            if let Some(config) = self.accounts.get_mut(recipient) {\n\t\t                if let Err(position) = config\n\t\t                    .received_certificates\n\t\t                    .binary_search_by_key(&certificate.key(), CertifiedTransferOrder::key)\n\t\t                {\n\t\t                    config.balance = config.balance.add(transfer.amount.into()).unwrap();\n\t\t                    config.received_certificates.insert(position, certificate)\n\t\t                }\n\t\t            }\n\t\t        }\n\t\t    }\n\t\t\n\n\t\t    pub fn read_or_create(path: &str) -> Result<Self, std::io::Error> {\n\t\t        let file = OpenOptions::new()\n\t\t            .create(true)\n\t\t            .write(true)\n\t\t            .read(true)\n\t\t            .open(path)?;\n\t\t        let reader = BufReader::new(file);\n\t\t        let stream = serde_json::Deserializer::from_reader(reader).into_iter();\n\t\t        Ok(Self {\n\t\t            accounts: stream\n\t\t                .filter_map(Result::ok)\n\t\t                .map(|account: UserAccount| (account.address, account))\n\t\t                .collect(),\n\t\t        })\n\t\t    }\n\t\t\n\n\t\t    pub fn write(&self, path: &str) -> Result<(), std::io::Error> {\n\t\t        let file = OpenOptions::new().write(true).open(path)?;\n\t\t        let mut writer = BufWriter::new(file);\n\t\t        for account in self.accounts.values() {\n\t\t            serde_json::to_writer(&mut writer, account)?;\n\t\t            writer.write_all(b\"\\n\")?;\n\t\t        }\n\t\t        Ok(())\n\t\t    }\n\t\t}\n\t\t\n\n\t\tpub struct InitialStateConfig {\n\t\t    pub addresses: Vec<FastPayAddress>,\n\t\t}\n\t\t\n\n\t\timpl InitialStateConfig {\n\t\t    pub fn read(path: &str) -> Result<Self, failure::Error> {\n\t\t        let file = File::open(path)?;\n\t\t        let reader = BufReader::new(file);\n\t\t        let mut addresses = Vec::new();\n\t\t        for line in reader.lines() {\n\t\t            addresses.push(decode_address(&line?)?);\n\t\t        }\n\t\t        Ok(Self { addresses })\n\t\t    }\n\t\t\n\n\t\t    pub fn write(&self, path: &str) -> Result<(), std::io::Error> {\n\t\t        let file = OpenOptions::new().create(true).write(true).open(path)?;\n\t\t        let mut writer = BufWriter::new(file);\n\t\t        for address in &self.addresses {\n\t\t            writer.write_all(encode_address(address).as_ref())?;\n\t\t            writer.write_all(b\"\\n\")?;\n\t\t        }\n\t\t        Ok(())\n\t\t    }\n\t\t}\n \n12 changes: 12 additions & 0 deletions\n12  \nrust/fastpay/src/lib.rs\n\t\t@@ -0,0 +1,12 @@\n\t\t// Copyright (c) Facebook Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\t#![deny(warnings)]\n\t\t\n\n\t\textern crate failure;\n\t\textern crate fastpay_core;\n\t\textern crate log;\n\t\t\n\n\t\tpub mod config;\n\t\tpub mod network;\n\t\tpub mod transport;\n \n463 changes: 463 additions & 0 deletions\n463  \nrust/fastpay/src/network.rs\nLoad diff\n\nLarge diffs are not rendered by default.\n\n \n243 changes: 243 additions & 0 deletions\n243  \nrust/fastpay/src/server.rs\n\t\t@@ -0,0 +1,243 @@\n\t\t// Copyright (c) Facebook Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\t#![deny(warnings)]\n\t\t\n\n\t\textern crate clap;\n\t\textern crate env_logger;\n\t\textern crate fastpay;\n\t\textern crate fastpay_core;\n\t\t\n\n\t\tuse fastpay::config::*;\n\t\tuse fastpay::network;\n\t\tuse fastpay::transport;\n\t\tuse fastpay_core::authority::*;\n\t\tuse fastpay_core::base_types::*;\n\t\tuse fastpay_core::committee::Committee;\n\t\t\n\n\t\tuse clap::{App, Arg, SubCommand};\n\t\tuse futures::future::join_all;\n\t\tuse log::*;\n\t\tuse tokio::runtime::Runtime;\n\t\t\n\n\t\tfn make_shard_server(\n\t\t    local_ip_addr: &str,\n\t\t    server_config_path: &str,\n\t\t    committee_config_path: &str,\n\t\t    initial_accounts_config_path: &str,\n\t\t    initial_balance: Balance,\n\t\t    buffer_size: usize,\n\t\t    cross_shard_queue_size: usize,\n\t\t    shard: u32,\n\t\t) -> network::Server {\n\t\t    let server_config =\n\t\t        AuthorityServerConfig::read(server_config_path).expect(\"Fail to read server config\");\n\t\t    let committee_config =\n\t\t        CommitteeConfig::read(committee_config_path).expect(\"Fail to read committee config\");\n\t\t    let initial_accounts_config = InitialStateConfig::read(initial_accounts_config_path)\n\t\t        .expect(\"Fail to read initial account config\");\n\t\t\n\n\t\t    let committee = Committee::new(committee_config.voting_rights());\n\t\t    let num_shards = server_config.authority.num_shards;\n\t\t\n\n\t\t    let mut state = AuthorityState::new_shard(\n\t\t        committee.clone(),\n\t\t        server_config.authority.address,\n\t\t        server_config.key.copy(),\n\t\t        shard,\n\t\t        num_shards,\n\t\t    );\n\t\t\n\n\t\t    // Load initial states\n\t\t    for address in &initial_accounts_config.addresses {\n\t\t        if AuthorityState::get_shard(num_shards, address) != shard {\n\t\t            continue;\n\t\t        }\n\t\t        let client = AccountOffchainState {\n\t\t            balance: initial_balance,\n\t\t            next_sequence_number: SequenceNumber::from(0),\n\t\t            pending_confirmation: None,\n\t\t            confirmed_log: Vec::new(),\n\t\t            synchronization_log: Vec::new(),\n\t\t            received_log: Vec::new(),\n\t\t        };\n\t\t        state.accounts.insert(*address, client);\n\t\t    }\n\t\t\n\n\t\t    network::Server::new(\n\t\t        server_config.authority.network_protocol,\n\t\t        local_ip_addr.to_string(),\n\t\t        server_config.authority.base_port,\n\t\t        state,\n\t\t        buffer_size,\n\t\t        cross_shard_queue_size,\n\t\t    )\n\t\t}\n\t\t\n\n\t\tfn make_servers(\n\t\t    local_ip_addr: &str,\n\t\t    server_config_path: &str,\n\t\t    committee_config_path: &str,\n\t\t    initial_accounts_config_path: &str,\n\t\t    initial_balance: Balance,\n\t\t    buffer_size: usize,\n\t\t    cross_shard_queue_size: usize,\n\t\t) -> Vec<network::Server> {\n\t\t    let server_config =\n\t\t        AuthorityServerConfig::read(server_config_path).expect(\"Fail to read server config\");\n\t\t    let num_shards = server_config.authority.num_shards;\n\t\t\n\n\t\t    let mut servers = Vec::new();\n\t\t    for shard in 0..num_shards {\n\t\t        servers.push(make_shard_server(\n\t\t            local_ip_addr,\n\t\t            server_config_path,\n\t\t            committee_config_path,\n\t\t            initial_accounts_config_path,\n\t\t            initial_balance,\n\t\t            buffer_size,\n\t\t            cross_shard_queue_size,\n\t\t            shard,\n\t\t        ))\n\t\t    }\n\t\t    servers\n\t\t}\n\t\t\n\n\t\tfn main() {\n\t\t    env_logger::from_env(env_logger::Env::default().default_filter_or(\"info\")).init();\n\t\t    let matches = App::new(\"FastPay server\")\n\t\t        .about(\"A byzantine fault tolerant payments sidechain with low-latency finality and high throughput\")\n\t\t        .args_from_usage(\"\n\t\t            --server=<PATH>  'Path to the file containing the server configuration of this FastPay authority (including its secret key)'\n\t\t            \")\n\t\t        .subcommand(SubCommand::with_name(\"run\")\n\t\t            .about(\"Runs a service for each shard of the FastPay authority\")\n\t\t            .arg(\n\t\t                Arg::with_name(\"buffer_size\")\n\t\t                    .long(\"buffer_size\")\n\t\t                    .help(\"Maximum size of datagrams received and sent (bytes\")\n\t\t                    .default_value(transport::DEFAULT_MAX_DATAGRAM_SIZE),\n\t\t            )\n\t\t            .arg(\n\t\t                Arg::with_name(\"cross_shard_queue_size\")\n\t\t                    .long(\"cross_shard_queue_size\")\n\t\t                    .help(\"Number of cross shards messages allowed before blocking the main server loop\")\n\t\t                    .default_value(\"1000\"),\n\t\t            )\n\t\t            .args_from_usage(\"\n\t\t            --committee=<PATH>   'Path to the file containing the public description of all authorities in this FastPay committee'\n\t\t            --initial_accounts=<PATH>    'Path to the file describing the initial user accounts'\n\t\t            --initial_balance=<INT>      'Path to the file describing the initial balance of user accounts'\n\t\t            --shard=[INT]                'Runs a specific shard (from 0 to shards-1)'\n\t\t            \"))\n\t\t        .subcommand(SubCommand::with_name(\"generate\")\n\t\t            .about(\"Generate a new server configuration and output its public description\")\n\t\t            .arg(\n\t\t                Arg::with_name(\"protocol\")\n\t\t                    .long(\"protocol\")\n\t\t                    .help(\"Chooses a network protocol between Udp and Tcp\")\n\t\t                    .default_value(\"Udp\"),\n\t\t            )\n\t\t            .args_from_usage(\"\n\t\t            --host=<ADDRESS>      'Sets the public name of the host'\n\t\t            --port=<PORT>         'Sets the base port, i.e. the port on which the server listens for the first shard'\n\t\t            --shards=<SHARDS>     'Number of shards for this authority'\"))\n\t\t        .get_matches();\n\t\t\n\n\t\t    match matches.subcommand() {\n\t\t        (\"run\", Some(subm)) => {\n\t\t            // Reading our own config\n\t\t            let server_config_path = matches.value_of(\"server\").unwrap();\n\t\t            let committee_config_path = subm.value_of(\"committee\").unwrap();\n\t\t            let initial_accounts_config_path = subm.value_of(\"initial_accounts\").unwrap();\n\t\t            let initial_balance = Balance::from(\n\t\t                subm.value_of(\"initial_balance\")\n\t\t                    .unwrap()\n\t\t                    .parse::<i128>()\n\t\t                    .unwrap(),\n\t\t            );\n\t\t            let buffer_size = subm\n\t\t                .value_of(\"buffer_size\")\n\t\t                .unwrap()\n\t\t                .parse::<usize>()\n\t\t                .unwrap();\n\t\t            let cross_shard_queue_size = subm\n\t\t                .value_of(\"cross_shard_queue_size\")\n\t\t                .unwrap()\n\t\t                .parse::<usize>()\n\t\t                .unwrap();\n\t\t            let specific_shard = if subm.is_present(\"shard\") {\n\t\t                let shard = subm.value_of(\"shard\").unwrap();\n\t\t                Some(shard.parse::<u32>().unwrap())\n\t\t            } else {\n\t\t                None\n\t\t            };\n\t\t\n\n\t\t            // Run the server\n\t\t            let servers = if let Some(shard) = specific_shard {\n\t\t                info!(\"Running shard number {}\", shard);\n\t\t                let server = make_shard_server(\n\t\t                    \"0.0.0.0\", // Allow local IP address to be different from the public one.\n\t\t                    server_config_path,\n\t\t                    committee_config_path,\n\t\t                    initial_accounts_config_path,\n\t\t                    initial_balance,\n\t\t                    buffer_size,\n\t\t                    cross_shard_queue_size,\n\t\t                    shard,\n\t\t                );\n\t\t                vec![server]\n\t\t            } else {\n\t\t                info!(\"Running all shards\");\n\t\t                make_servers(\n\t\t                    \"0.0.0.0\", // Allow local IP address to be different from the public one.\n\t\t                    server_config_path,\n\t\t                    committee_config_path,\n\t\t                    initial_accounts_config_path,\n\t\t                    initial_balance,\n\t\t                    buffer_size,\n\t\t                    cross_shard_queue_size,\n\t\t                )\n\t\t            };\n\t\t\n\n\t\t            let mut rt = Runtime::new().unwrap();\n\t\t            let mut handles = Vec::new();\n\t\t            for server in servers {\n\t\t                handles.push(async move {\n\t\t                    let spawned_server = match server.spawn().await {\n\t\t                        Ok(server) => server,\n\t\t                        Err(err) => {\n\t\t                            error!(\"Failed to start server: {}\", err);\n\t\t                            return;\n\t\t                        }\n\t\t                    };\n\t\t                    if let Err(err) = spawned_server.join().await {\n\t\t                        error!(\"Server ended with an error: {}\", err);\n\t\t                    }\n\t\t                });\n\t\t            }\n\t\t            rt.block_on(join_all(handles));\n\t\t        }\n\t\t        (\"generate\", Some(subm)) => {\n\t\t            let network_protocol = subm.value_of(\"protocol\").unwrap().parse().unwrap();\n\t\t            let server_config_path = matches.value_of(\"server\").unwrap();\n\t\t            let (address, key) = get_key_pair();\n\t\t            let authority = AuthorityConfig {\n\t\t                network_protocol,\n\t\t                address,\n\t\t                host: subm.value_of(\"host\").unwrap().parse().unwrap(),\n\t\t                base_port: subm.value_of(\"port\").unwrap().parse().unwrap(),\n\t\t                num_shards: subm.value_of(\"shards\").unwrap().parse().unwrap(),\n\t\t            };\n\t\t            let server = AuthorityServerConfig { authority, key };\n\t\t            server\n\t\t                .write(server_config_path)\n\t\t                .expect(\"Unable to write server config file\");\n\t\t            info!(\"Wrote server config file\");\n\t\t            server.authority.print();\n\t\t        }\n\t\t        _ => {\n\t\t            error!(\"Unknown command\");\n\t\t        }\n\t\t    }\n\t\t}\n \n376 changes: 376 additions & 0 deletions\n376  \nrust/fastpay/src/transport.rs\n\t\t@@ -0,0 +1,376 @@\n\t\t// Copyright (c) Facebook Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tuse clap::arg_enum;\n\t\tuse futures::future;\n\t\tuse log::*;\n\t\tuse serde::{Deserialize, Serialize};\n\t\tuse std::collections::HashMap;\n\t\tuse std::convert::TryInto;\n\t\tuse std::io;\n\t\tuse std::sync::Arc;\n\t\tuse tokio::net::TcpListener;\n\t\tuse tokio::net::{TcpStream, UdpSocket};\n\t\tuse tokio::prelude::*;\n\t\t\n\n\t\t#[cfg(test)]\n\t\t#[path = \"unit_tests/transport_tests.rs\"]\n\t\tmod transport_tests;\n\t\t\n\n\t\t/// Suggested buffer size\n\t\tpub const DEFAULT_MAX_DATAGRAM_SIZE: &'static str = \"65507\";\n\t\t\n\n\t\t// Supported transport protocols.\n\t\targ_enum! {\n\t\t    #[derive(Clone, Copy, Debug, Serialize, Deserialize)]\n\t\t    pub enum NetworkProtocol {\n\t\t        Udp,\n\t\t        Tcp,\n\t\t    }\n\t\t}\n\t\t\n\n\t\t/// How to send and obtain data packets over an \"active socket\".\n\t\tpub trait DataStream: Send {\n\t\t    fn write_data<'a>(\n\t\t        &'a mut self,\n\t\t        buffer: &'a [u8],\n\t\t    ) -> future::BoxFuture<'a, Result<(), std::io::Error>>;\n\t\t    fn read_data(&mut self) -> future::BoxFuture<Result<Vec<u8>, std::io::Error>>;\n\t\t}\n\t\t\n\n\t\t/// A pool of (outgoing) data streams.\n\t\tpub trait DataStreamPool: Send {\n\t\t    fn send_data_to<'a>(\n\t\t        &'a mut self,\n\t\t        buffer: &'a [u8],\n\t\t        address: &'a String,\n\t\t    ) -> future::BoxFuture<'a, Result<(), io::Error>>;\n\t\t}\n\t\t\n\n\t\t/// The handler required to create a service.\n\t\tpub trait MessageHandler {\n\t\t    fn handle_message<'a>(&'a mut self, buffer: &'a [u8])\n\t\t        -> future::BoxFuture<'a, Option<Vec<u8>>>;\n\t\t}\n\t\t\n\n\t\t/// The result of spawning a server is oneshot channel to kill it and a handle to track completion.\n\t\tpub struct SpawnedServer {\n\t\t    complete: futures::channel::oneshot::Sender<()>,\n\t\t    handle: tokio::task::JoinHandle<Result<(), std::io::Error>>,\n\t\t}\n\t\t\n\n\t\timpl SpawnedServer {\n\t\t    pub async fn join(self) -> Result<(), std::io::Error> {\n\t\t        // Note that dropping `self.complete` would terminate the server.\n\t\t        self.handle.await??;\n\t\t        Ok(())\n\t\t    }\n\t\t\n\n\t\t    pub async fn kill(self) -> Result<(), std::io::Error> {\n\t\t        self.complete.send(()).unwrap();\n\t\t        self.handle.await??;\n\t\t        Ok(())\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl NetworkProtocol {\n\t\t    /// Create a DataStream for this protocol.\n\t\t    pub async fn connect(\n\t\t        &self,\n\t\t        address: String,\n\t\t        max_data_size: usize,\n\t\t    ) -> Result<Box<dyn DataStream>, std::io::Error> {\n\t\t        let stream: Box<dyn DataStream> = match self {\n\t\t            NetworkProtocol::Udp => Box::new(UdpDataStream::connect(address, max_data_size).await?),\n\t\t            NetworkProtocol::Tcp => Box::new(TcpDataStream::connect(address, max_data_size).await?),\n\t\t        };\n\t\t        Ok(stream)\n\t\t    }\n\t\t\n\n\t\t    /// Create a DataStreamPool for this protocol.\n\t\t    pub async fn make_outgoing_connection_pool(\n\t\t        &self,\n\t\t    ) -> Result<Box<dyn DataStreamPool>, std::io::Error> {\n\t\t        let pool: Box<dyn DataStreamPool> = match self {\n\t\t            Self::Udp => Box::new(UdpDataStreamPool::new().await?),\n\t\t            Self::Tcp => Box::new(TcpDataStreamPool::new().await?),\n\t\t        };\n\t\t        Ok(pool)\n\t\t    }\n\t\t\n\n\t\t    /// Run a server for this protocol and the given message handler.\n\t\t    pub async fn spawn_server<S>(\n\t\t        &self,\n\t\t        address: &String,\n\t\t        state: S,\n\t\t        buffer_size: usize,\n\t\t    ) -> Result<SpawnedServer, std::io::Error>\n\t\t    where\n\t\t        S: MessageHandler + Send + 'static,\n\t\t    {\n\t\t        let (complete, receiver) = futures::channel::oneshot::channel();\n\t\t        let handle = match self {\n\t\t            Self::Udp => {\n\t\t                let socket = UdpSocket::bind(&address).await?;\n\t\t                tokio::spawn(Self::run_udp_server(socket, state, receiver, buffer_size))\n\t\t            }\n\t\t            Self::Tcp => {\n\t\t                let listener = TcpListener::bind(address).await?;\n\t\t                tokio::spawn(Self::run_tcp_server(listener, state, receiver, buffer_size))\n\t\t            }\n\t\t        };\n\t\t        Ok(SpawnedServer { complete, handle })\n\t\t    }\n\t\t}\n\t\t\n\n\t\t/// An implementation of DataStream based on UDP.\n\t\tstruct UdpDataStream {\n\t\t    socket: UdpSocket,\n\t\t    address: String,\n\t\t    buffer: Vec<u8>,\n\t\t}\n\t\t\n\n\t\timpl UdpDataStream {\n\t\t    async fn connect(address: String, max_data_size: usize) -> Result<Self, std::io::Error> {\n\t\t        let socket = UdpSocket::bind(&\"0.0.0.0:0\").await?;\n\t\t        let buffer = vec![0u8; max_data_size];\n\t\t        Ok(Self {\n\t\t            socket,\n\t\t            address,\n\t\t            buffer,\n\t\t        })\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl DataStream for UdpDataStream {\n\t\t    fn write_data<'a>(\n\t\t        &'a mut self,\n\t\t        buffer: &'a [u8],\n\t\t    ) -> future::BoxFuture<'a, Result<(), std::io::Error>> {\n\t\t        Box::pin(async move {\n\t\t            self.socket.send_to(buffer, &*self.address).await?;\n\t\t            Ok(())\n\t\t        })\n\t\t    }\n\t\t\n\n\t\t    fn read_data(&mut self) -> future::BoxFuture<Result<Vec<u8>, std::io::Error>> {\n\t\t        Box::pin(async move {\n\t\t            let size = self.socket.recv(&mut self.buffer).await?;\n\t\t            Ok(self.buffer[..size].into())\n\t\t        })\n\t\t    }\n\t\t}\n\t\t\n\n\t\t/// An implementation of DataStreamPool based on UDP.\n\t\tstruct UdpDataStreamPool {\n\t\t    socket: UdpSocket,\n\t\t}\n\t\t\n\n\t\timpl UdpDataStreamPool {\n\t\t    async fn new() -> Result<Self, std::io::Error> {\n\t\t        let socket = UdpSocket::bind(&\"0.0.0.0:0\").await?;\n\t\t        Ok(Self { socket })\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl DataStreamPool for UdpDataStreamPool {\n\t\t    fn send_data_to<'a>(\n\t\t        &'a mut self,\n\t\t        buffer: &'a [u8],\n\t\t        address: &'a String,\n\t\t    ) -> future::BoxFuture<'a, Result<(), std::io::Error>> {\n\t\t        Box::pin(async move {\n\t\t            self.socket.send_to(buffer, address).await?;\n\t\t            Ok(())\n\t\t        })\n\t\t    }\n\t\t}\n\t\t\n\n\t\t// Server implementation for UDP.\n\t\timpl NetworkProtocol {\n\t\t    async fn run_udp_server<S>(\n\t\t        mut socket: UdpSocket,\n\t\t        mut state: S,\n\t\t        mut exit_future: futures::channel::oneshot::Receiver<()>,\n\t\t        buffer_size: usize,\n\t\t    ) -> Result<(), std::io::Error>\n\t\t    where\n\t\t        S: MessageHandler + Send + 'static,\n\t\t    {\n\t\t        let mut buffer = vec![0; buffer_size];\n\t\t        loop {\n\t\t            let (size, peer) =\n\t\t                match future::select(exit_future, Box::pin(socket.recv_from(&mut buffer))).await {\n\t\t                    future::Either::Left(_) => break,\n\t\t                    future::Either::Right((value, new_exit_future)) => {\n\t\t                        exit_future = new_exit_future;\n\t\t                        value?\n\t\t                    }\n\t\t                };\n\t\t            if let Some(reply) = state.handle_message(&buffer[..size]).await {\n\t\t                let status = socket.send_to(&reply[..], &peer).await;\n\t\t                if let Err(error) = status {\n\t\t                    error!(\"Failed to send query response: {}\", error);\n\t\t                }\n\t\t            }\n\t\t        }\n\t\t        Ok(())\n\t\t    }\n\t\t}\n\t\t\n\n\t\t/// An implementation of DataStream based on TCP.\n\t\tstruct TcpDataStream {\n\t\t    stream: TcpStream,\n\t\t    max_data_size: usize,\n\t\t}\n\t\t\n\n\t\timpl TcpDataStream {\n\t\t    async fn connect(address: String, max_data_size: usize) -> Result<Self, std::io::Error> {\n\t\t        let stream = TcpStream::connect(address).await?;\n\t\t        stream.set_send_buffer_size(max_data_size)?;\n\t\t        stream.set_recv_buffer_size(max_data_size)?;\n\t\t        Ok(Self {\n\t\t            stream,\n\t\t            max_data_size,\n\t\t        })\n\t\t    }\n\t\t\n\n\t\t    async fn tcp_write_data<S>(stream: &mut S, buffer: &[u8]) -> Result<(), std::io::Error>\n\t\t    where\n\t\t        S: AsyncWrite + Unpin,\n\t\t    {\n\t\t        stream\n\t\t            .write_all(&u32::to_le_bytes(\n\t\t                buffer\n\t\t                    .len()\n\t\t                    .try_into()\n\t\t                    .expect(\"length must not exceed u32::MAX\"),\n\t\t            ))\n\t\t            .await?;\n\t\t        stream.write_all(buffer).await\n\t\t    }\n\t\t\n\n\t\t    async fn tcp_read_data<S>(stream: &mut S, max_size: usize) -> Result<Vec<u8>, std::io::Error>\n\t\t    where\n\t\t        S: AsyncRead + Unpin,\n\t\t    {\n\t\t        let mut size_buf = [0u8; 4];\n\t\t        stream.read_exact(&mut size_buf).await?;\n\t\t        let size = u32::from_le_bytes(size_buf);\n\t\t        if size as usize > max_size {\n\t\t            return Err(io::Error::new(\n\t\t                io::ErrorKind::Other,\n\t\t                \"Message size exceeds buffer size\",\n\t\t            ));\n\t\t        }\n\t\t        let mut buf = vec![0u8; size as usize];\n\t\t        stream.read_exact(&mut buf).await?;\n\t\t        Ok(buf)\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl DataStream for TcpDataStream {\n\t\t    fn write_data<'a>(\n\t\t        &'a mut self,\n\t\t        buffer: &'a [u8],\n\t\t    ) -> future::BoxFuture<'a, Result<(), std::io::Error>> {\n\t\t        Box::pin(Self::tcp_write_data(&mut self.stream, buffer))\n\t\t    }\n\t\t\n\n\t\t    fn read_data(&mut self) -> future::BoxFuture<Result<Vec<u8>, std::io::Error>> {\n\t\t        Box::pin(Self::tcp_read_data(&mut self.stream, self.max_data_size))\n\t\t    }\n\t\t}\n\t\t\n\n\t\t/// An implementation of DataStreamPool based on TCP.\n\t\tstruct TcpDataStreamPool {\n\t\t    streams: HashMap<String, TcpStream>,\n\t\t}\n\t\t\n\n\t\timpl TcpDataStreamPool {\n\t\t    async fn new() -> Result<Self, std::io::Error> {\n\t\t        let streams = HashMap::new();\n\t\t        Ok(Self { streams })\n\t\t    }\n\t\t\n\n\t\t    async fn get_stream(&mut self, address: &String) -> Result<&mut TcpStream, io::Error> {\n\t\t        if !self.streams.contains_key(address) {\n\t\t            match TcpStream::connect(address).await {\n\t\t                Ok(s) => {\n\t\t                    self.streams.insert(address.clone(), s);\n\t\t                }\n\t\t                Err(error) => {\n\t\t                    error!(\"Failed to open connection to {}: {}\", address, error);\n\t\t                    return Err(error);\n\t\t                }\n\t\t            };\n\t\t        };\n\t\t        Ok(self.streams.get_mut(address).unwrap())\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl DataStreamPool for TcpDataStreamPool {\n\t\t    fn send_data_to<'a>(\n\t\t        &'a mut self,\n\t\t        buffer: &'a [u8],\n\t\t        address: &'a String,\n\t\t    ) -> future::BoxFuture<'a, Result<(), std::io::Error>> {\n\t\t        Box::pin(async move {\n\t\t            let stream = self.get_stream(address).await?;\n\t\t            TcpDataStream::tcp_write_data(stream, buffer).await\n\t\t        })\n\t\t    }\n\t\t}\n\t\t\n\n\t\t// Server implementation for TCP.\n\t\timpl NetworkProtocol {\n\t\t    async fn run_tcp_server<S>(\n\t\t        mut listener: TcpListener,\n\t\t        state: S,\n\t\t        mut exit_future: futures::channel::oneshot::Receiver<()>,\n\t\t        buffer_size: usize,\n\t\t    ) -> Result<(), std::io::Error>\n\t\t    where\n\t\t        S: MessageHandler + Send + 'static,\n\t\t    {\n\t\t        let guarded_state = Arc::new(futures::lock::Mutex::new(state));\n\t\t        loop {\n\t\t            let (mut socket, _) =\n\t\t                match future::select(exit_future, Box::pin(listener.accept())).await {\n\t\t                    future::Either::Left(_) => break,\n\t\t                    future::Either::Right((value, new_exit_future)) => {\n\t\t                        exit_future = new_exit_future;\n\t\t                        value?\n\t\t                    }\n\t\t                };\n\t\t            socket.set_send_buffer_size(buffer_size)?;\n\t\t            socket.set_recv_buffer_size(buffer_size)?;\n\t\t            let guarded_state = guarded_state.clone();\n\t\t            tokio::spawn(async move {\n\t\t                loop {\n\t\t                    let buffer = match TcpDataStream::tcp_read_data(&mut socket, buffer_size).await\n\t\t                    {\n\t\t                        Ok(buffer) => buffer,\n\t\t                        Err(err) => {\n\t\t                            // We expect an EOF error at the end.\n\t\t                            if err.kind() != io::ErrorKind::UnexpectedEof {\n\t\t                                error!(\"Error while reading TCP stream: {}\", err);\n\t\t                            }\n\t\t                            break;\n\t\t                        }\n\t\t                    };\n\t\t\n\n\t\t                    if let Some(reply) =\n\t\t                        guarded_state.lock().await.handle_message(&buffer[..]).await\n\t\t                    {\n\t\t                        let status = TcpDataStream::tcp_write_data(&mut socket, &reply[..]).await;\n\t\t                        if let Err(error) = status {\n\t\t                            error!(\"Failed to send query response: {}\", error);\n\t\t                        }\n\t\t                    };\n\t\t                }\n\t\t            });\n\t\t        }\n\t\t        Ok(())\n\t\t    }\n\t\t}\n \n93 changes: 93 additions & 0 deletions\n93  \nrust/fastpay/src/unit_tests/transport_tests.rs\n\t\t@@ -0,0 +1,93 @@\n\t\t// Copyright (c) Facebook Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tuse super::*;\n\t\tuse net2;\n\t\tuse std::sync::atomic::{AtomicUsize, Ordering};\n\t\tuse std::time::Duration;\n\t\tuse tokio::runtime::Runtime;\n\t\tuse tokio::time::timeout;\n\t\t\n\n\t\tasync fn get_new_local_address() -> Result<String, std::io::Error> {\n\t\t    let builder = net2::TcpBuilder::new_v4()?;\n\t\t    builder.reuse_address(true)?;\n\t\t    builder.bind(\"0.0.0.0:0\")?;\n\t\t    Ok(format!(\"{}\", builder.local_addr()?))\n\t\t}\n\t\t\n\n\t\tstruct TestService {\n\t\t    counter: Arc<AtomicUsize>,\n\t\t}\n\t\t\n\n\t\timpl TestService {\n\t\t    fn new(counter: Arc<AtomicUsize>) -> Self {\n\t\t        TestService { counter }\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl MessageHandler for TestService {\n\t\t    fn handle_message<'a>(\n\t\t        &'a mut self,\n\t\t        buffer: &'a [u8],\n\t\t    ) -> future::BoxFuture<'a, Option<Vec<u8>>> {\n\t\t        self.counter.fetch_add(buffer.len(), Ordering::Relaxed);\n\t\t        Box::pin(async move { Some(Vec::from(buffer)) })\n\t\t    }\n\t\t}\n\t\t\n\n\t\tasync fn test_server(protocol: NetworkProtocol) -> Result<(usize, usize), std::io::Error> {\n\t\t    let address = get_new_local_address().await.unwrap();\n\t\t\n\n\t\t    let counter = Arc::new(AtomicUsize::new(0));\n\t\t    let mut received = 0;\n\t\t\n\n\t\t    let server = protocol\n\t\t        .spawn_server(&address, TestService::new(counter.clone()), 100)\n\t\t        .await?;\n\t\t\n\n\t\t    let mut client = protocol.connect(address.clone(), 1000).await?;\n\t\t    client.write_data(b\"abcdef\").await?;\n\t\t    received += client.read_data().await?.len();\n\t\t    client.write_data(b\"abcd\").await?;\n\t\t    received += client.read_data().await?.len();\n\t\t\n\n\t\t    // Use a second connection (here pooled).\n\t\t    let mut pool = protocol.make_outgoing_connection_pool().await?;\n\t\t    pool.send_data_to(b\"abc\", &address).await?;\n\t\t\n\n\t\t    // Try to read data on the first connection (should fail).\n\t\t    received += timeout(Duration::from_millis(500), client.read_data())\n\t\t        .await\n\t\t        .unwrap_or(Ok(Vec::new()))?\n\t\t        .len();\n\t\t\n\n\t\t    // Attempt to gracefully kill server.\n\t\t    server.kill().await?;\n\t\t\n\n\t\t    timeout(Duration::from_millis(500), client.write_data(b\"abcd\"))\n\t\t        .await\n\t\t        .unwrap_or(Ok(()))?;\n\t\t    received += timeout(Duration::from_millis(500), client.read_data())\n\t\t        .await\n\t\t        .unwrap_or(Ok(Vec::new()))?\n\t\t        .len();\n\t\t\n\n\t\t    Ok((counter.load(Ordering::Relaxed), received))\n\t\t}\n\t\t\n\n\t\t#[test]\n\t\tfn udp_server() {\n\t\t    let mut rt = Runtime::new().unwrap();\n\t\t    let (processed, received) = rt.block_on(test_server(NetworkProtocol::Udp)).unwrap();\n\t\t    assert_eq!(processed, 13);\n\t\t    assert_eq!(received, 10);\n\t\t}\n\t\t\n\n\t\t#[test]\n\t\tfn tcp_server() {\n\t\t    let mut rt = Runtime::new().unwrap();\n\t\t    let (processed, received) = rt.block_on(test_server(NetworkProtocol::Tcp)).unwrap();\n\t\t    // Active TCP connections are allowed to finish before the server is gracefully killed.\n\t\t    assert_eq!(processed, 17);\n\t\t    assert_eq!(received, 14);\n\t\t}\n \n16 changes: 16 additions & 0 deletions\n16  \nrust/fastpay_core/Cargo.toml\n\t\t@@ -0,0 +1,16 @@\n\t\t[package]\n\t\tname = \"fastpay_core\"\n\t\tversion = \"0.1.0\"\n\t\tauthors = [\"Libra <oncall+libra@xmail.facebook.com>\"]\n\t\tpublish = false\n\t\tedition = \"2018\"\n\t\t\n\n\t\t[dependencies]\n\t\tbase64 = \"0.12.0\"\n\t\tbincode = \"1.2.1\"\n\t\tfailure = \"0.1.7\"\n\t\tfutures = \"0.3.4\"\n\t\trand = \"0.7.3\"\n\t\tserde = { version = \"1.0.106\", features = [\"derive\"] }\n\t\ttokio = { version = \"0.2.18\", features = [\"full\"] }\n\t\ted25519-dalek = { version = \"1.0.0-pre.3\", features = [\"batch\"] }\n \n379 changes: 379 additions & 0 deletions\n379  \nrust/fastpay_core/src/authority.rs\n\t\t@@ -0,0 +1,379 @@\n\t\t// Copyright (c) Facebook Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tuse crate::base_types::*;\n\t\tuse crate::committee::Committee;\n\t\tuse crate::error::FastPayError;\n\t\tuse crate::messages::*;\n\t\tuse std::collections::BTreeMap;\n\t\tuse std::convert::TryInto;\n\t\t\n\n\t\t#[cfg(test)]\n\t\t#[path = \"unit_tests/authority_tests.rs\"]\n\t\tmod authority_tests;\n\t\t\n\n\t\t#[derive(Eq, PartialEq, Debug)]\n\t\tpub struct AccountOffchainState {\n\t\t    /// Balance of the FastPay account.\n\t\t    pub balance: Balance,\n\t\t    /// Sequence number tracking spending actions.\n\t\t    pub next_sequence_number: SequenceNumber,\n\t\t    /// Whether we have signed a transfer for this sequence number already.\n\t\t    pub pending_confirmation: Option<SignedTransferOrder>,\n\t\t    /// All confirmed certificates for this sender.\n\t\t    pub confirmed_log: Vec<CertifiedTransferOrder>,\n\t\t    /// All executed Primary synchronization orders for this recipient.\n\t\t    pub synchronization_log: Vec<PrimarySynchronizationOrder>,\n\t\t    /// All confirmed certificates as a receiver.\n\t\t    pub received_log: Vec<CertifiedTransferOrder>,\n\t\t}\n\t\t\n\n\t\tpub struct AuthorityState {\n\t\t    /// The name of this autority.\n\t\t    pub name: AuthorityName,\n\t\t    /// Committee of this FastPay instance.\n\t\t    pub committee: Committee,\n\t\t    /// The signature key of the authority.\n\t\t    pub secret: SecretKey,\n\t\t    /// Offchain states of FastPay accounts.\n\t\t    pub accounts: BTreeMap<FastPayAddress, AccountOffchainState>,\n\t\t    /// The latest transaction index of the blockchain that the authority has seen.\n\t\t    pub last_transaction_index: VersionNumber,\n\t\t    /// The sharding ID of this authority shard. 0 if one shard.\n\t\t    pub shard_id: ShardId,\n\t\t    /// The number of shards. 1 if single shard.\n\t\t    pub number_of_shards: u32,\n\t\t}\n\t\t\n\n\t\t/// Interface provided by each (shard of an) authority.\n\t\t/// All commands return either the current account info or an error.\n\t\t/// Repeating commands produces no changes and returns no error.\n\t\tpub trait Authority {\n\t\t    /// Initiate a new transfer to a FastPay or Primary account.\n\t\t    fn handle_transfer_order(\n\t\t        &mut self,\n\t\t        order: TransferOrder,\n\t\t    ) -> Result<AccountInfoResponse, FastPayError>;\n\t\t\n\n\t\t    /// Confirm a transfer to a FastPay or Primary account.\n\t\t    fn handle_confirmation_order(\n\t\t        &mut self,\n\t\t        order: ConfirmationOrder,\n\t\t    ) -> Result<(AccountInfoResponse, Option<CrossShardUpdate>), FastPayError>;\n\t\t\n\n\t\t    /// Force synchronization to finalize transfers from Primary to FastPay.\n\t\t    fn handle_primary_synchronization_order(\n\t\t        &mut self,\n\t\t        order: PrimarySynchronizationOrder,\n\t\t    ) -> Result<AccountInfoResponse, FastPayError>;\n\t\t\n\n\t\t    /// Handle information requests for this account.\n\t\t    fn handle_account_info_request(\n\t\t        &self,\n\t\t        request: AccountInfoRequest,\n\t\t    ) -> Result<AccountInfoResponse, FastPayError>;\n\t\t\n\n\t\t    /// Handle cross updates from another shard of the same authority.\n\t\t    /// This relies on deliver-once semantics of a trusted channel between shards.\n\t\t    fn handle_cross_shard_recipient_commit(\n\t\t        &mut self,\n\t\t        certificate: CertifiedTransferOrder,\n\t\t    ) -> Result<(), FastPayError>;\n\t\t}\n\t\t\n\n\t\timpl Authority for AuthorityState {\n\t\t    /// Initiate a new transfer.\n\t\t    fn handle_transfer_order(\n\t\t        &mut self,\n\t\t        order: TransferOrder,\n\t\t    ) -> Result<AccountInfoResponse, FastPayError> {\n\t\t        // Check the sender's signature and retrieve the transfer data.\n\t\t        fp_ensure!(\n\t\t            self.in_shard(&order.transfer.sender),\n\t\t            FastPayError::WrongShard\n\t\t        );\n\t\t        order.check_signature()?;\n\t\t        let transfer = &order.transfer;\n\t\t        let sender = transfer.sender;\n\t\t        fp_ensure!(\n\t\t            transfer.sequence_number <= SequenceNumber::max(),\n\t\t            FastPayError::InvalidSequenceNumber\n\t\t        );\n\t\t        fp_ensure!(\n\t\t            transfer.amount > Amount::zero(),\n\t\t            FastPayError::IncorrectTransferAmount\n\t\t        );\n\t\t        match self.accounts.get_mut(&sender) {\n\t\t            None => fp_bail!(FastPayError::UnknownSenderAccount),\n\t\t            Some(account) => {\n\t\t                if let Some(pending_confirmation) = &account.pending_confirmation {\n\t\t                    fp_ensure!(\n\t\t                        &pending_confirmation.value.transfer == transfer,\n\t\t                        FastPayError::PreviousTransferMustBeConfirmedFirst {\n\t\t                            pending_confirmation: pending_confirmation.value.clone()\n\t\t                        }\n\t\t                    );\n\t\t                    // This exact transfer order was already signed. Return the previous value.\n\t\t                    return Ok(account.make_account_info(sender));\n\t\t                }\n\t\t                fp_ensure!(\n\t\t                    account.next_sequence_number == transfer.sequence_number,\n\t\t                    FastPayError::UnexpectedSequenceNumber\n\t\t                );\n\t\t                fp_ensure!(\n\t\t                    account.balance >= transfer.amount.into(),\n\t\t                    FastPayError::InsufficientFunding {\n\t\t                        current_balance: account.balance\n\t\t                    }\n\t\t                );\n\t\t                let signed_order = SignedTransferOrder::new(order, self.name, &self.secret);\n\t\t                account.pending_confirmation = Some(signed_order.clone());\n\t\t                Ok(account.make_account_info(sender))\n\t\t            }\n\t\t        }\n\t\t    }\n\t\t\n\n\t\t    /// Confirm a transfer.\n\t\t    fn handle_confirmation_order(\n\t\t        &mut self,\n\t\t        confirmation_order: ConfirmationOrder,\n\t\t    ) -> Result<(AccountInfoResponse, Option<CrossShardUpdate>), FastPayError> {\n\t\t        let certificate = confirmation_order.transfer_certificate;\n\t\t        // Check the certificate and retrieve the transfer data.\n\t\t        fp_ensure!(\n\t\t            self.in_shard(&certificate.value.transfer.sender),\n\t\t            FastPayError::WrongShard\n\t\t        );\n\t\t        certificate.check(&self.committee)?;\n\t\t        let transfer = certificate.value.transfer.clone();\n\t\t\n\n\t\t        // First we copy all relevant data from sender.\n\t\t        let mut sender_account = self\n\t\t            .accounts\n\t\t            .entry(transfer.sender)\n\t\t            .or_insert(AccountOffchainState::new());\n\t\t        let mut sender_sequence_number = sender_account.next_sequence_number;\n\t\t        let mut sender_balance = sender_account.balance;\n\t\t\n\n\t\t        // Check and update the copied state\n\t\t        if sender_sequence_number < transfer.sequence_number {\n\t\t            fp_bail!(FastPayError::MissingEalierConfirmations {\n\t\t                current_sequence_number: sender_sequence_number\n\t\t            });\n\t\t        }\n\t\t        if sender_sequence_number > transfer.sequence_number {\n\t\t            // Transfer was already confirmed.\n\t\t            return Ok((sender_account.make_account_info(transfer.sender), None));\n\t\t        }\n\t\t        sender_balance = sender_balance.sub(transfer.amount.into())?;\n\t\t        sender_sequence_number = sender_sequence_number.increment()?;\n\t\t\n\n\t\t        // Commit sender state back to the database (Must never fail!)\n\t\t        sender_account.balance = sender_balance;\n\t\t        sender_account.next_sequence_number = sender_sequence_number;\n\t\t        sender_account.pending_confirmation = None;\n\t\t        sender_account.confirmed_log.push(certificate.clone());\n\t\t        let info = sender_account.make_account_info(transfer.sender);\n\t\t\n\n\t\t        // Update FastPay recipient state locally or issue a cross-shard update (Must never fail!)\n\t\t        let recipient = match transfer.recipient {\n\t\t            Address::FastPay(recipient) => recipient,\n\t\t            Address::Primary(_) => {\n\t\t                // Nothing else to do for Primary recipients.\n\t\t                return Ok((info, None));\n\t\t            }\n\t\t        };\n\t\t        // If the recipient is in the same shard, read and update the account.\n\t\t        if self.in_shard(&recipient) {\n\t\t            let recipient_account = self\n\t\t                .accounts\n\t\t                .entry(recipient)\n\t\t                .or_insert(AccountOffchainState::new());\n\t\t            recipient_account.balance = recipient_account\n\t\t                .balance\n\t\t                .add(transfer.amount.into())\n\t\t                .unwrap_or(Balance::max());\n\t\t            recipient_account.received_log.push(certificate.clone());\n\t\t            // Done updating recipient.\n\t\t            return Ok((info, None));\n\t\t        }\n\t\t        // Otherwise, we need to send a cross-shard update.\n\t\t        let cross_shard = Some(CrossShardUpdate {\n\t\t            shard_id: self.which_shard(&recipient),\n\t\t            transfer_certificate: certificate,\n\t\t        });\n\t\t        Ok((info, cross_shard))\n\t\t    }\n\t\t\n\n\t\t    // NOTE: Need to rely on deliver-once semantics from comms channel\n\t\t    fn handle_cross_shard_recipient_commit(\n\t\t        &mut self,\n\t\t        certificate: CertifiedTransferOrder,\n\t\t    ) -> Result<(), FastPayError> {\n\t\t        // TODO: check certificate again?\n\t\t        let transfer = &certificate.value.transfer;\n\t\t\n\n\t\t        let recipient = match transfer.recipient {\n\t\t            Address::FastPay(recipient) => recipient,\n\t\t            Address::Primary(_) => {\n\t\t                fp_bail!(FastPayError::InvalidCrossShardUpdate);\n\t\t            }\n\t\t        };\n\t\t        fp_ensure!(self.in_shard(&recipient), FastPayError::WrongShard);\n\t\t        let recipient_account = self\n\t\t            .accounts\n\t\t            .entry(recipient)\n\t\t            .or_insert(AccountOffchainState::new());\n\t\t        recipient_account.balance = recipient_account\n\t\t            .balance\n\t\t            .add(transfer.amount.into())\n\t\t            .unwrap_or(Balance::max());\n\t\t        recipient_account.received_log.push(certificate);\n\t\t        Ok(())\n\t\t    }\n\t\t\n\n\t\t    /// Finalize a transfer from Primary.\n\t\t    fn handle_primary_synchronization_order(\n\t\t        &mut self,\n\t\t        order: PrimarySynchronizationOrder,\n\t\t    ) -> Result<AccountInfoResponse, FastPayError> {\n\t\t        // Update recipient state; note that the blockchain client is trusted.\n\t\t        let recipient = order.recipient;\n\t\t        fp_ensure!(self.in_shard(&recipient), FastPayError::WrongShard);\n\t\t\n\n\t\t        let recipient_account = self\n\t\t            .accounts\n\t\t            .entry(recipient)\n\t\t            .or_insert(AccountOffchainState::new());\n\t\t        if order.transaction_index <= self.last_transaction_index {\n\t\t            // Ignore old transaction index.\n\t\t            return Ok(recipient_account.make_account_info(recipient));\n\t\t        }\n\t\t        fp_ensure!(\n\t\t            order.transaction_index == self.last_transaction_index.increment()?,\n\t\t            FastPayError::UnexpectedTransactionIndex\n\t\t        );\n\t\t        let recipient_balance = recipient_account.balance.add(order.amount.into())?;\n\t\t        let last_transaction_index = self.last_transaction_index.increment()?;\n\t\t        recipient_account.balance = recipient_balance;\n\t\t        recipient_account.synchronization_log.push(order);\n\t\t        self.last_transaction_index = last_transaction_index;\n\t\t        Ok(recipient_account.make_account_info(recipient))\n\t\t    }\n\t\t\n\n\t\t    fn handle_account_info_request(\n\t\t        &self,\n\t\t        request: AccountInfoRequest,\n\t\t    ) -> Result<AccountInfoResponse, FastPayError> {\n\t\t        fp_ensure!(self.in_shard(&request.sender), FastPayError::WrongShard);\n\t\t        let account = self.account_state(&request.sender)?;\n\t\t        let mut response = account.make_account_info(request.sender);\n\t\t        if let Some(seq) = request.request_sequence_number {\n\t\t            if let Some(cert) = account.confirmed_log.get(usize::from(seq)) {\n\t\t                response.requested_certificate = Some(cert.clone());\n\t\t            } else {\n\t\t                fp_bail!(FastPayError::CertificateNotfound)\n\t\t            }\n\t\t        }\n\t\t        if let Some(idx) = request.request_received_transfers_excluding_first_nth {\n\t\t            response.requested_received_transfers = account.received_log[idx..].to_vec();\n\t\t        }\n\t\t        Ok(response)\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl AccountOffchainState {\n\t\t    pub fn new() -> Self {\n\t\t        Self {\n\t\t            balance: Balance::zero(),\n\t\t            next_sequence_number: SequenceNumber::new(),\n\t\t            pending_confirmation: None,\n\t\t            confirmed_log: Vec::new(),\n\t\t            synchronization_log: Vec::new(),\n\t\t            received_log: Vec::new(),\n\t\t        }\n\t\t    }\n\t\t\n\n\t\t    fn make_account_info(&self, sender: FastPayAddress) -> AccountInfoResponse {\n\t\t        AccountInfoResponse {\n\t\t            sender,\n\t\t            balance: self.balance,\n\t\t            next_sequence_number: self.next_sequence_number,\n\t\t            pending_confirmation: self.pending_confirmation.clone(),\n\t\t            requested_certificate: None,\n\t\t            requested_received_transfers: Vec::new(),\n\t\t        }\n\t\t    }\n\t\t\n\n\t\t    #[cfg(test)]\n\t\t    pub fn new_with_balance(balance: Balance, received_log: Vec<CertifiedTransferOrder>) -> Self {\n\t\t        Self {\n\t\t            balance,\n\t\t            next_sequence_number: SequenceNumber::new(),\n\t\t            pending_confirmation: None,\n\t\t            confirmed_log: Vec::new(),\n\t\t            synchronization_log: Vec::new(),\n\t\t            received_log,\n\t\t        }\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl AuthorityState {\n\t\t    pub fn new(committee: Committee, name: AuthorityName, secret: SecretKey) -> Self {\n\t\t        AuthorityState {\n\t\t            committee,\n\t\t            name,\n\t\t            secret,\n\t\t            accounts: BTreeMap::new(),\n\t\t            last_transaction_index: VersionNumber::new(),\n\t\t            shard_id: 0,\n\t\t            number_of_shards: 1,\n\t\t        }\n\t\t    }\n\t\t\n\n\t\t    pub fn new_shard(\n\t\t        committee: Committee,\n\t\t        name: AuthorityName,\n\t\t        secret: SecretKey,\n\t\t        shard_id: u32,\n\t\t        number_of_shards: u32,\n\t\t    ) -> Self {\n\t\t        AuthorityState {\n\t\t            committee,\n\t\t            name,\n\t\t            secret,\n\t\t            accounts: BTreeMap::new(),\n\t\t            last_transaction_index: VersionNumber::new(),\n\t\t            shard_id,\n\t\t            number_of_shards,\n\t\t        }\n\t\t    }\n\t\t\n\n\t\t    pub fn in_shard(&self, address: &FastPayAddress) -> bool {\n\t\t        self.which_shard(address) == self.shard_id\n\t\t    }\n\t\t\n\n\t\t    pub fn get_shard(num_shards: u32, address: &FastPayAddress) -> u32 {\n\t\t        const LAST_INTEGER_INDEX: usize = std::mem::size_of::<FastPayAddress>() - 4;\n\t\t        u32::from_le_bytes(address.0[LAST_INTEGER_INDEX..].try_into().expect(\"4 bytes\"))\n\t\t            % num_shards\n\t\t    }\n\t\t\n\n\t\t    pub fn which_shard(&self, address: &FastPayAddress) -> u32 {\n\t\t        Self::get_shard(self.number_of_shards, address)\n\t\t    }\n\t\t\n\n\t\t    fn account_state(\n\t\t        &self,\n\t\t        address: &FastPayAddress,\n\t\t    ) -> Result<&AccountOffchainState, FastPayError> {\n\t\t        self.accounts\n\t\t            .get(address)\n\t\t            .ok_or_else(|| FastPayError::UnknownSenderAccount)\n\t\t    }\n\t\t\n\n\t\t    #[cfg(test)]\n\t\t    pub fn accounts_mut(&mut self) -> &mut BTreeMap<FastPayAddress, AccountOffchainState> {\n\t\t        &mut self.accounts\n\t\t    }\n\t\t}\n \n371 changes: 371 additions & 0 deletions\n371  \nrust/fastpay_core/src/base_types.rs\n\t\t@@ -0,0 +1,371 @@\n\t\t// Copyright (c) Facebook Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tuse base64;\n\t\tuse ed25519_dalek as dalek;\n\t\tuse ed25519_dalek::Digest;\n\t\tuse rand::rngs::OsRng;\n\t\tuse serde::{Deserialize, Serialize};\n\t\tuse std::convert::{TryFrom, TryInto};\n\t\t\n\n\t\tuse crate::error::FastPayError;\n\t\t\n\n\t\t#[cfg(test)]\n\t\t#[path = \"unit_tests/base_types_tests.rs\"]\n\t\tmod base_types_tests;\n\t\t\n\n\t\t#[derive(\n\t\t    Eq, PartialEq, Ord, PartialOrd, Copy, Clone, Hash, Default, Debug, Serialize, Deserialize,\n\t\t)]\n\t\tpub struct Amount(u64);\n\t\t#[derive(\n\t\t    Eq, PartialEq, Ord, PartialOrd, Copy, Clone, Hash, Default, Debug, Serialize, Deserialize,\n\t\t)]\n\t\tpub struct Balance(i128);\n\t\t#[derive(\n\t\t    Eq, PartialEq, Ord, PartialOrd, Copy, Clone, Hash, Default, Debug, Serialize, Deserialize,\n\t\t)]\n\t\tpub struct SequenceNumber(u64);\n\t\t\n\n\t\tpub type ShardId = u32;\n\t\tpub type VersionNumber = SequenceNumber;\n\t\t\n\n\t\t#[derive(Eq, PartialEq, Ord, PartialOrd, Clone, Hash, Default, Debug, Serialize, Deserialize)]\n\t\tpub struct UserData(pub Option<[u8; 32]>);\n\t\t\n\n\t\t// Ensure Secrets are not copyable and movable to control where they are in memory\n\t\t// TODO: Keep the native Dalek keypair type instead of bytes.\n\t\tpub struct SecretKey(pub [u8; dalek::KEYPAIR_LENGTH]);\n\t\t\n\n\t\t#[derive(Eq, PartialEq, Ord, PartialOrd, Copy, Clone, Hash, Serialize, Deserialize)]\n\t\tpub struct EdPublicKeyBytes(pub [u8; dalek::PUBLIC_KEY_LENGTH]);\n\t\t\n\n\t\tpub type PrimaryAddress = EdPublicKeyBytes;\n\t\tpub type FastPayAddress = EdPublicKeyBytes;\n\t\tpub type AuthorityName = EdPublicKeyBytes;\n\t\t\n\n\t\tpub fn get_key_pair() -> (FastPayAddress, SecretKey) {\n\t\t    let mut csprng = OsRng;\n\t\t    let keypair = dalek::Keypair::generate(&mut csprng);\n\t\t    (\n\t\t        EdPublicKeyBytes(keypair.public.to_bytes()),\n\t\t        SecretKey(keypair.to_bytes()),\n\t\t    )\n\t\t}\n\t\t\n\n\t\tpub fn address_as_base64<S>(key: &EdPublicKeyBytes, serializer: S) -> Result<S::Ok, S::Error>\n\t\twhere\n\t\t    S: serde::ser::Serializer,\n\t\t{\n\t\t    serializer.serialize_str(&encode_address(key))\n\t\t}\n\t\t\n\n\t\tpub fn address_from_base64<'de, D>(deserializer: D) -> Result<EdPublicKeyBytes, D::Error>\n\t\twhere\n\t\t    D: serde::de::Deserializer<'de>,\n\t\t{\n\t\t    let s = String::deserialize(deserializer)?;\n\t\t    let value = decode_address(&s).map_err(|err| serde::de::Error::custom(err.to_string()))?;\n\t\t    Ok(value)\n\t\t}\n\t\t\n\n\t\tpub fn encode_address(key: &EdPublicKeyBytes) -> String {\n\t\t    base64::encode(&key.0[..])\n\t\t}\n\t\t\n\n\t\tpub fn decode_address(s: &String) -> Result<EdPublicKeyBytes, failure::Error> {\n\t\t    let value = base64::decode(s)?;\n\t\t    let mut address = [0u8; dalek::PUBLIC_KEY_LENGTH];\n\t\t    address.copy_from_slice(&value[..dalek::PUBLIC_KEY_LENGTH]);\n\t\t    Ok(EdPublicKeyBytes(address))\n\t\t}\n\t\t\n\n\t\t#[cfg(test)]\n\t\tpub fn dbg_addr(name: u8) -> FastPayAddress {\n\t\t    let addr = [name; dalek::PUBLIC_KEY_LENGTH];\n\t\t    EdPublicKeyBytes(addr)\n\t\t}\n\t\t\n\n\t\t// TODO: Remove Eq, PartialEq, Ord, PartialOrd and Hash from signatures.\n\t\t#[derive(Eq, PartialEq, Ord, PartialOrd, Copy, Clone, Hash, Serialize, Deserialize)]\n\t\tpub struct Signature {\n\t\t    pub part1: [u8; dalek::SIGNATURE_LENGTH / 2],\n\t\t    pub part2: [u8; dalek::SIGNATURE_LENGTH / 2],\n\t\t}\n\t\t\n\n\t\t// Zero the secret key when unallocating.\n\t\timpl Drop for SecretKey {\n\t\t    fn drop(&mut self) {\n\t\t        for i in 0..dalek::KEYPAIR_LENGTH {\n\t\t            self.0[i] = 0;\n\t\t        }\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl SecretKey {\n\t\t    pub fn copy(&self) -> SecretKey {\n\t\t        let mut sec_bytes = SecretKey {\n\t\t            0: [0; dalek::KEYPAIR_LENGTH],\n\t\t        };\n\t\t        sec_bytes.0.copy_from_slice(&(self.0)[..]);\n\t\t        sec_bytes\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl Serialize for SecretKey {\n\t\t    fn serialize<S>(&self, serializer: S) -> Result<S::Ok, S::Error>\n\t\t    where\n\t\t        S: serde::ser::Serializer,\n\t\t    {\n\t\t        serializer.serialize_str(&base64::encode(&self.0[..]))\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl<'de> Deserialize<'de> for SecretKey {\n\t\t    fn deserialize<D>(deserializer: D) -> Result<SecretKey, D::Error>\n\t\t    where\n\t\t        D: serde::de::Deserializer<'de>,\n\t\t    {\n\t\t        let s = String::deserialize(deserializer)?;\n\t\t        let value = base64::decode(&s).map_err(|err| serde::de::Error::custom(err.to_string()))?;\n\t\t        let mut key = [0u8; dalek::KEYPAIR_LENGTH];\n\t\t        key.copy_from_slice(&value[..dalek::KEYPAIR_LENGTH]);\n\t\t        Ok(SecretKey(key))\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl std::fmt::Debug for Signature {\n\t\t    fn fmt(&self, f: &mut std::fmt::Formatter<'_>) -> std::result::Result<(), std::fmt::Error> {\n\t\t        let s = base64::encode(&self.to_array()[..]);\n\t\t        write!(f, \"{}\", s)?;\n\t\t        Ok(())\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl std::fmt::Debug for EdPublicKeyBytes {\n\t\t    fn fmt(&self, f: &mut std::fmt::Formatter<'_>) -> std::result::Result<(), std::fmt::Error> {\n\t\t        let s = base64::encode(&self.0);\n\t\t        write!(f, \"{}\", s)?;\n\t\t        Ok(())\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl Amount {\n\t\t    pub fn zero() -> Self {\n\t\t        Amount(0)\n\t\t    }\n\t\t\n\n\t\t    pub fn add(&self, other: Self) -> Result<Self, FastPayError> {\n\t\t        let val = self.0.checked_add(other.0);\n\t\t        match val {\n\t\t            None => Err(FastPayError::AmountOverflow),\n\t\t            Some(val) => Ok(Self(val)),\n\t\t        }\n\t\t    }\n\t\t\n\n\t\t    pub fn sub(&self, other: Self) -> Result<Self, FastPayError> {\n\t\t        let val = self.0.checked_sub(other.0);\n\t\t        match val {\n\t\t            None => Err(FastPayError::AmountUnderflow),\n\t\t            Some(val) => Ok(Self(val)),\n\t\t        }\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl Balance {\n\t\t    pub fn zero() -> Self {\n\t\t        Balance(0)\n\t\t    }\n\t\t\n\n\t\t    pub fn max() -> Self {\n\t\t        Balance(std::i128::MAX)\n\t\t    }\n\t\t\n\n\t\t    pub fn add(&self, other: Self) -> Result<Self, FastPayError> {\n\t\t        let val = self.0.checked_add(other.0);\n\t\t        match val {\n\t\t            None => Err(FastPayError::BalanceOverflow),\n\t\t            Some(val) => Ok(Self(val)),\n\t\t        }\n\t\t    }\n\t\t\n\n\t\t    pub fn sub(&self, other: Self) -> Result<Self, FastPayError> {\n\t\t        let val = self.0.checked_sub(other.0);\n\t\t        match val {\n\t\t            None => Err(FastPayError::BalanceUnderflow),\n\t\t            Some(val) => Ok(Self(val)),\n\t\t        }\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl From<Amount> for u64 {\n\t\t    fn from(val: Amount) -> Self {\n\t\t        val.0\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl From<Amount> for Balance {\n\t\t    fn from(val: Amount) -> Self {\n\t\t        Balance(val.0 as i128)\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl TryFrom<Balance> for Amount {\n\t\t    type Error = std::num::TryFromIntError;\n\t\t\n\n\t\t    fn try_from(val: Balance) -> Result<Self, Self::Error> {\n\t\t        Ok(Amount(val.0.try_into()?))\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl SequenceNumber {\n\t\t    pub fn new() -> Self {\n\t\t        SequenceNumber(0)\n\t\t    }\n\t\t\n\n\t\t    pub fn max() -> Self {\n\t\t        SequenceNumber(0x7fffffffffffffff)\n\t\t    }\n\t\t\n\n\t\t    pub fn increment(&self) -> Result<SequenceNumber, FastPayError> {\n\t\t        let val = self.0.checked_add(1);\n\t\t        match val {\n\t\t            None => Err(FastPayError::SequenceOverflow),\n\t\t            Some(val) => Ok(Self(val)),\n\t\t        }\n\t\t    }\n\t\t\n\n\t\t    pub fn decrement(&self) -> Result<SequenceNumber, FastPayError> {\n\t\t        let val = self.0.checked_sub(1);\n\t\t        match val {\n\t\t            None => Err(FastPayError::SequenceUnderflow),\n\t\t            Some(val) => Ok(Self(val)),\n\t\t        }\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl From<SequenceNumber> for u64 {\n\t\t    fn from(val: SequenceNumber) -> Self {\n\t\t        val.0\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl From<u64> for Amount {\n\t\t    fn from(value: u64) -> Self {\n\t\t        Amount(value)\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl From<i128> for Balance {\n\t\t    fn from(value: i128) -> Self {\n\t\t        Balance(value)\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl From<u64> for SequenceNumber {\n\t\t    fn from(value: u64) -> Self {\n\t\t        SequenceNumber(value)\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl From<SequenceNumber> for usize {\n\t\t    fn from(value: SequenceNumber) -> Self {\n\t\t        value.0 as usize\n\t\t    }\n\t\t}\n\t\t\n\n\t\tpub trait Digestible {\n\t\t    fn digest(self: &Self) -> [u8; 32];\n\t\t}\n\t\t\n\n\t\timpl Digestible for [u8; 5] {\n\t\t    fn digest(self: &[u8; 5]) -> [u8; 32] {\n\t\t        let mut h = dalek::Sha512::new();\n\t\t        let mut hash = [0u8; 64];\n\t\t        let mut digest = [0u8; 32];\n\t\t        h.input(&self);\n\t\t        hash.copy_from_slice(h.result().as_slice());\n\t\t        digest.copy_from_slice(&hash[..32]);\n\t\t        digest\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl Signature {\n\t\t    pub fn to_array(&self) -> [u8; 64] {\n\t\t        let mut sig: [u8; 64] = [0; 64];\n\t\t        sig[0..32].clone_from_slice(&self.part1);\n\t\t        sig[32..64].clone_from_slice(&self.part2);\n\t\t        sig\n\t\t    }\n\t\t\n\n\t\t    pub fn new<T>(value: &T, secret: &SecretKey) -> Self\n\t\t    where\n\t\t        T: Digestible,\n\t\t    {\n\t\t        let message = value.digest();\n\t\t        let key_pair = dalek::Keypair::from_bytes(&secret.0).unwrap();\n\t\t        let signature = key_pair.sign(&message);\n\t\t        let sig_bytes = signature.to_bytes();\n\t\t\n\n\t\t        let mut part1 = [0; 32];\n\t\t        let mut part2 = [0; 32];\n\t\t        part1.clone_from_slice(&sig_bytes[0..32]);\n\t\t        part2.clone_from_slice(&sig_bytes[32..64]);\n\t\t\n\n\t\t        Signature { part1, part2 }\n\t\t    }\n\t\t\n\n\t\t    fn check_internal<T>(\n\t\t        &self,\n\t\t        value: &T,\n\t\t        author: FastPayAddress,\n\t\t    ) -> Result<(), dalek::SignatureError>\n\t\t    where\n\t\t        T: Digestible,\n\t\t    {\n\t\t        let message = value.digest();\n\t\t        let public_key = dalek::PublicKey::from_bytes(&author.0)?;\n\t\t        let sig = self.to_array();\n\t\t        let dalex_sig = dalek::Signature::from_bytes(&sig)?;\n\t\t        public_key.verify(&message, &dalex_sig)\n\t\t    }\n\t\t\n\n\t\t    pub fn check<T>(&self, value: &T, author: FastPayAddress) -> Result<(), FastPayError>\n\t\t    where\n\t\t        T: Digestible,\n\t\t    {\n\t\t        self.check_internal(value, author)\n\t\t            .map_err(|error| FastPayError::InvalidSignature {\n\t\t                error: format!(\"{}\", error),\n\t\t            })\n\t\t    }\n\t\t\n\n\t\t    fn verify_batch_internal<'a, T, I>(value: &'a T, votes: I) -> Result<(), dalek::SignatureError>\n\t\t    where\n\t\t        T: Digestible,\n\t\t        I: IntoIterator<Item = &'a (FastPayAddress, Signature)>,\n\t\t    {\n\t\t        let msg: &[u8] = &value.digest();\n\t\t        let mut messages: Vec<&[u8]> = Vec::new();\n\t\t        let mut signatures: Vec<dalek::Signature> = Vec::new();\n\t\t        let mut public_keys: Vec<dalek::PublicKey> = Vec::new();\n\t\t        for (addr, sig) in votes.into_iter() {\n\t\t            messages.push(msg);\n\t\t            signatures.push(dalek::Signature::from_bytes(&sig.to_array())?);\n\t\t            public_keys.push(dalek::PublicKey::from_bytes(&addr.0)?);\n\t\t        }\n\t\t        dalek::verify_batch(&messages[..], &signatures[..], &public_keys[..])\n\t\t    }\n\t\t\n\n\t\t    pub fn verify_batch<'a, T, I>(value: &'a T, votes: I) -> Result<(), FastPayError>\n\t\t    where\n\t\t        T: Digestible,\n\t\t        I: IntoIterator<Item = &'a (FastPayAddress, Signature)>,\n\t\t    {\n\t\t        Signature::verify_batch_internal(value, votes).map_err(|error| {\n\t\t            FastPayError::InvalidSignature {\n\t\t                error: format!(\"{}\", error),\n\t\t            }\n\t\t        })\n\t\t    }\n\t\t}\n \n692 changes: 692 additions & 0 deletions\n692  \nrust/fastpay_core/src/client.rs\nLoad diff\n\nLarge diffs are not rendered by default.\n\n \n54 changes: 54 additions & 0 deletions\n54  \nrust/fastpay_core/src/committee.rs\n\t\t@@ -0,0 +1,54 @@\n\t\t// Copyright (c) Facebook Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tuse super::base_types::*;\n\t\tuse std::collections::BTreeMap;\n\t\t\n\n\t\t#[derive(Eq, PartialEq, Clone, Hash, Debug)]\n\t\tpub struct Committee {\n\t\t    pub voting_rights: BTreeMap<AuthorityName, usize>,\n\t\t    pub total_votes: usize,\n\t\t}\n\t\t\n\n\t\timpl Committee {\n\t\t    pub fn new(voting_rights: BTreeMap<AuthorityName, usize>) -> Self {\n\t\t        let total_votes = voting_rights.iter().fold(0, |sum, (_, votes)| sum + *votes);\n\t\t        Committee {\n\t\t            voting_rights,\n\t\t            total_votes,\n\t\t        }\n\t\t    }\n\t\t\n\n\t\t    pub fn weight(&self, author: &AuthorityName) -> usize {\n\t\t        *self.voting_rights.get(author).unwrap_or(&0)\n\t\t    }\n\t\t\n\n\t\t    pub fn quorum_threshold(&self) -> usize {\n\t\t        // If N = 3f + 1 + k (0 <= k < 3)\n\t\t        // then (2 N + 3) / 3 = 2f + 1 + (2k + 2)/3 = 2f + 1 + k = N - f\n\t\t        2 * self.total_votes / 3 + 1\n\t\t    }\n\t\t\n\n\t\t    pub fn validity_threshold(&self) -> usize {\n\t\t        // If N = 3f + 1 + k (0 <= k < 3)\n\t\t        // then (N + 2) / 3 = f + 1 + k/3 = f + 1\n\t\t        (self.total_votes + 2) / 3\n\t\t    }\n\t\t\n\n\t\t    /// Find the highest value than is supported by a quorum of authorities.\n\t\t    pub fn get_strong_majority_lower_bound<V>(&self, mut values: Vec<(AuthorityName, V)>) -> V\n\t\t    where\n\t\t        V: Default + std::cmp::Ord,\n\t\t    {\n\t\t        values.sort_by(|(_, x), (_, y)| V::cmp(y, x));\n\t\t        // Browse values by decreasing order, while tracking how many votes they have.\n\t\t        let mut score = 0;\n\t\t        for (name, value) in values {\n\t\t            score += self.weight(&name);\n\t\t            if score >= self.quorum_threshold() {\n\t\t                return value;\n\t\t            }\n\t\t        }\n\t\t        return V::default();\n\t\t    }\n\t\t}\n \n167 changes: 167 additions & 0 deletions\n167  \nrust/fastpay_core/src/downloader.rs\n\t\t@@ -0,0 +1,167 @@\n\t\t// Copyright (c) Facebook Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tuse futures::channel::{mpsc, oneshot};\n\t\tuse futures::{future, SinkExt, StreamExt};\n\t\tuse std::collections::BTreeMap;\n\t\tuse tokio;\n\t\t\n\n\t\t#[cfg(test)]\n\t\t#[path = \"unit_tests/downloader_tests.rs\"]\n\t\tmod downloader_tests;\n\t\t\n\n\t\t/// An asynchronous downloader that ensures that the value for each key is requested at most once.\n\t\tpub struct Downloader<R, K, V> {\n\t\t    /// User-provided logics to fetch data.\n\t\t    requester: R,\n\t\t    /// Status of previous downloads, indexed by key.\n\t\t    downloads: BTreeMap<K, DownloadStatus<V>>,\n\t\t    /// Command stream of the main handler.\n\t\t    command_receiver: mpsc::UnboundedReceiver<DownloadCommand<K, V>>,\n\t\t    /// How to send commands to the main handler.\n\t\t    command_sender: mpsc::UnboundedSender<DownloadCommand<K, V>>,\n\t\t}\n\t\t\n\n\t\t/// The underlying data-fetching mechanism to be provided by the user.\n\t\tpub trait Requester {\n\t\t    type Key: std::cmp::Ord + Send + Sync + Clone + 'static;\n\t\t    type Value: std::fmt::Debug + Send + Clone + 'static;\n\t\t\n\n\t\t    /// Request the value corresponding to the given key.\n\t\t    fn query(&mut self, key: Self::Key) -> future::BoxFuture<Self::Value>;\n\t\t}\n\t\t\n\n\t\t/// Channel for using code to send requests and stop the downloader task.\n\t\t#[derive(Clone)]\n\t\tpub struct DownloadHandle<K, V>(mpsc::UnboundedSender<DownloadCommand<K, V>>);\n\t\t\n\n\t\t/// A command send to the downloader task.\n\t\tenum DownloadCommand<K, V> {\n\t\t    /// A user requests a value.\n\t\t    Request(K, oneshot::Sender<V>),\n\t\t    /// A value has been downloaded.\n\t\t    Publish(K, V),\n\t\t    /// Shut down the main handler.\n\t\t    Quit,\n\t\t}\n\t\t\n\n\t\t/// The status of a download job.\n\t\tenum DownloadStatus<V> {\n\t\t    /// A value is available.\n\t\t    Ready(V),\n\t\t    /// Download is in progress. Subscribers are waiting for the result.\n\t\t    WaitingList(Vec<oneshot::Sender<V>>),\n\t\t}\n\t\t\n\n\t\timpl<K, V> DownloadHandle<K, V> {\n\t\t    /// Allow to make new download queries and wait for the result.\n\t\t    pub async fn query(&mut self, key: K) -> Result<V, failure::Error> {\n\t\t        let (callback, receiver) = oneshot::channel();\n\t\t        self.0.send(DownloadCommand::Request(key, callback)).await?;\n\t\t        let value = receiver.await?;\n\t\t        Ok(value)\n\t\t    }\n\t\t\n\n\t\t    /// Shut down the main handler.\n\t\t    pub async fn stop(&mut self) -> Result<(), failure::Error> {\n\t\t        self.0.send(DownloadCommand::Quit).await?;\n\t\t        Ok(())\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl<R, K, V> Downloader<R, K, V> {\n\t\t    /// Recover the content of the downloading cache.\n\t\t    fn finalize(self) -> impl Iterator<Item = V> {\n\t\t        self.downloads.into_iter().filter_map(|(_, v)| match v {\n\t\t            DownloadStatus::Ready(value) => Some(value),\n\t\t            _ => None,\n\t\t        })\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl<R, K, V> Downloader<R, K, V>\n\t\twhere\n\t\t    R: Requester<Key = K, Value = V> + Send + Clone + 'static,\n\t\t    K: std::cmp::Ord + Send + Sync + Clone + 'static,\n\t\t    V: std::fmt::Debug + Send + Clone + 'static,\n\t\t{\n\t\t    /// Create a downloader as a wrapper around the given `requester`.\n\t\t    /// Fill the initial cache with some known values.\n\t\t    pub fn start<I>(\n\t\t        requester: R,\n\t\t        known_values: I,\n\t\t    ) -> (\n\t\t        tokio::task::JoinHandle<impl Iterator<Item = V>>,\n\t\t        DownloadHandle<K, V>,\n\t\t    )\n\t\t    where\n\t\t        I: IntoIterator<Item = (K, V)>,\n\t\t    {\n\t\t        let (command_sender, command_receiver) = mpsc::unbounded();\n\t\t        let mut downloads = BTreeMap::new();\n\t\t        for (key, value) in known_values {\n\t\t            downloads.insert(key, DownloadStatus::Ready(value));\n\t\t        }\n\t\t        let mut downloader = Self {\n\t\t            requester,\n\t\t            downloads,\n\t\t            command_receiver,\n\t\t            command_sender: command_sender.clone(),\n\t\t        };\n\t\t        // Spawn a task for the main handler.\n\t\t        let task = tokio::spawn(async move {\n\t\t            downloader.run().await;\n\t\t            downloader.finalize()\n\t\t        });\n\t\t        (task, DownloadHandle(command_sender))\n\t\t    }\n\t\t\n\n\t\t    /// Main handler.\n\t\t    async fn run(&mut self) {\n\t\t        loop {\n\t\t            match self.command_receiver.next().await {\n\t\t                Some(DownloadCommand::Request(key, callback)) => {\n\t\t                    // Deconstruct self to help the borrow checker below.\n\t\t                    let requester_ref = &self.requester;\n\t\t                    let command_sender_ref = &self.command_sender;\n\t\t                    let downloads_ref_mut = &mut self.downloads;\n\t\t                    // Recover current download status or create a new one.\n\t\t                    let entry = downloads_ref_mut.entry(key.clone()).or_insert_with(|| {\n\t\t                        let mut requester = requester_ref.clone();\n\t\t                        let mut command_sender = command_sender_ref.clone();\n\t\t                        tokio::spawn(async move {\n\t\t                            let result = requester.query(key.clone()).await;\n\t\t                            command_sender\n\t\t                                .send(DownloadCommand::Publish(key, result))\n\t\t                                .await\n\t\t                                .unwrap_or(())\n\t\t                        });\n\t\t                        DownloadStatus::WaitingList(Vec::new())\n\t\t                    });\n\t\t                    // Process Request: either subscribe or return the result now.\n\t\t                    match entry {\n\t\t                        DownloadStatus::WaitingList(list) => {\n\t\t                            list.push(callback);\n\t\t                        }\n\t\t                        DownloadStatus::Ready(result) => {\n\t\t                            callback.send(result.clone()).unwrap_or(());\n\t\t                        }\n\t\t                    }\n\t\t                }\n\t\t                Some(DownloadCommand::Publish(key, result)) => {\n\t\t                    // Handle newly found result.\n\t\t                    let status = std::mem::replace(\n\t\t                        self.downloads.get_mut(&key).expect(\"Key should be present\"),\n\t\t                        DownloadStatus::Ready(result.clone()),\n\t\t                    );\n\t\t                    if let DownloadStatus::WaitingList(subscribers) = status {\n\t\t                        for callback in subscribers {\n\t\t                            callback.send(result.clone()).unwrap_or(());\n\t\t                        }\n\t\t                    }\n\t\t                }\n\t\t                _ => return,\n\t\t            }\n\t\t        }\n\t\t    }\n\t\t}\n \n99 changes: 99 additions & 0 deletions\n99  \nrust/fastpay_core/src/error.rs\n\t\t@@ -0,0 +1,99 @@\n\t\t// Copyright (c) Facebook Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tuse crate::base_types::*;\n\t\tuse crate::messages::*;\n\t\tuse crate::serde::{Deserialize, Serialize};\n\t\t\n\n\t\t#[macro_export]\n\t\tmacro_rules! fp_bail {\n\t\t    ($e:expr) => {\n\t\t        return Err($e);\n\t\t    };\n\t\t}\n\t\t\n\n\t\t#[macro_export(local_inner_macros)]\n\t\tmacro_rules! fp_ensure {\n\t\t    ($cond:expr, $e:expr) => {\n\t\t        if !($cond) {\n\t\t            fp_bail!($e);\n\t\t        }\n\t\t    };\n\t\t}\n\t\t\n\n\t\t#[derive(Eq, PartialEq, Clone, Debug, Serialize, Deserialize, Fail, Hash)]\n\t\t/// Custom error type for FastPay.\n\t\tpub enum FastPayError {\n\t\t    // Signature verification\n\t\t    #[fail(display = \"Signature is not valid: {}\", error)]\n\t\t    InvalidSignature { error: String },\n\t\t    #[fail(display = \"Value was not signed by a known authority\")]\n\t\t    UnknownSigner,\n\t\t    // Certificate verification\n\t\t    #[fail(display = \"Signatures in a certificate must form a quorum\")]\n\t\t    CertificateRequiresQuorum,\n\t\t    // Transfer processing\n\t\t    #[fail(display = \"Transfers must have positive amount\")]\n\t\t    IncorrectTransferAmount,\n\t\t    #[fail(\n\t\t        display = \"The given sequence number must match the next expected sequence number of the account\"\n\t\t    )]\n\t\t    UnexpectedSequenceNumber,\n\t\t    #[fail(\n\t\t        display = \"The transferred amount must be not exceed the current account balance: {:?}\",\n\t\t        current_balance\n\t\t    )]\n\t\t    InsufficientFunding { current_balance: Balance },\n\t\t    #[fail(\n\t\t        display = \"Cannot initiate transfer while a transfer order is still pending confirmation: {:?}\",\n\t\t        pending_confirmation\n\t\t    )]\n\t\t    PreviousTransferMustBeConfirmedFirst { pending_confirmation: TransferOrder },\n\t\t    #[fail(display = \"Transfer order was processed but no signature was produced by authority\")]\n\t\t    ErrorWhileProcessingTransferOrder,\n\t\t    #[fail(\n\t\t        display = \"An invalid answer was returned by the authority while requesting a certificate\"\n\t\t    )]\n\t\t    ErrorWhileRequestingCertificate,\n\t\t    #[fail(\n\t\t        display = \"Cannot confirm a transfer while previous transfer orders are still pending confirmation: {:?}\",\n\t\t        current_sequence_number\n\t\t    )]\n\t\t    MissingEalierConfirmations {\n\t\t        current_sequence_number: VersionNumber,\n\t\t    },\n\t\t    // Synchronization validation\n\t\t    #[fail(display = \"Transaction index must increase by one\")]\n\t\t    UnexpectedTransactionIndex,\n\t\t    // Account access\n\t\t    #[fail(display = \"No certificate for this account and sequence number\")]\n\t\t    CertificateNotfound,\n\t\t    #[fail(display = \"Unknown sender's account\")]\n\t\t    UnknownSenderAccount,\n\t\t    #[fail(display = \"Signatures in a certificate must be from different authorities.\")]\n\t\t    CertificateAuthorityReuse,\n\t\t    #[fail(display = \"Sequence numbers above the maximal value are not usable for transfers.\")]\n\t\t    InvalidSequenceNumber,\n\t\t    #[fail(display = \"Sequence number overflow.\")]\n\t\t    SequenceOverflow,\n\t\t    #[fail(display = \"Sequence number underflow.\")]\n\t\t    SequenceUnderflow,\n\t\t    #[fail(display = \"Amount overflow.\")]\n\t\t    AmountOverflow,\n\t\t    #[fail(display = \"Amount underflow.\")]\n\t\t    AmountUnderflow,\n\t\t    #[fail(display = \"Account balance overflow.\")]\n\t\t    BalanceOverflow,\n\t\t    #[fail(display = \"Account balance underflow.\")]\n\t\t    BalanceUnderflow,\n\t\t    #[fail(display = \"Wrong shard used.\")]\n\t\t    WrongShard,\n\t\t    #[fail(display = \"Invalid cross shard update.\")]\n\t\t    InvalidCrossShardUpdate,\n\t\t    #[fail(display = \"Cannot deserialize.\")]\n\t\t    InvalidDecoding,\n\t\t    #[fail(display = \"Unexpected message.\")]\n\t\t    UnexpectedMessage,\n\t\t    #[fail(display = \"Network error while querying service: {:?}.\", error)]\n\t\t    ClientIOError { error: String },\n\t\t}\n0 comments on commit 20f3abf\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Adding a permanent link to releases (#12369) · MystenLabs/sui@83bb3ad · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/83bb3add0fda44b5871a93d840649ba110b8ad25",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\nAdding a permanent link to releases (#12369)\nBrowse files\n## Description \nAdding a permanent link to releases\n\n## Test Plan \n👀\n main (#12369)\n testnet-v1.25.0 \n…\n devnet-v1.4.0\nebmifa committed  \nVerified\n1 parent d410727\ncommit 83bb3ad\nShowing 1 changed file with 2 additions and 5 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\n \n7 changes: 2 additions & 5 deletions\n7  \nRELEASES.md\n\t\t@@ -1,11 +1,8 @@\n\t\t# Sui Releases\n\t\t\n\n\t\tReleases for the Sui Devnet network are based on the `devnet` branch.\n\t\t\n\n\t\t## Current Release\n\t\t* 23-05-17: [1.1.0](https://github.com/MystenLabs/sui/releases/tag/mainnet-v1.1.0)\n\t\thttps://github.com/MystenLabs/sui/releases\n\t\t\n\n\t\t## Past Releases\n\t\t* 23-05-17: [1.1.0](https://github.com/MystenLabs/sui/releases/tag/mainnet-v1.1.0)\n\t\t* 23-05-08: [1.1.0](https://github.com/MystenLabs/sui/releases/tag/devnet-v1.1.0)\n\t\t* 23-05-02: [1.0.0](https://github.com/MystenLabs/sui/releases/tag/sui-v1.0.0)\n\t\t* 23-04-24: [0.33.0](https://github.com/MystenLabs/sui/releases/tag/devnet-0.33.0)\n\n\t\n1 comment on commit 83bb3ad\nvercel bot commented on 83bb3ad \n\nSuccessfully deployed to the following URLs:\n\noffline-signer-helper – ./dapps/offline-signer-helper\n\noffline-signer-helper-mysten-labs.vercel.app\noffline-signer-helper-git-main-mysten-labs.vercel.app\noffline-signer-helper.vercel.app\n\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "sui/RELEASES.md at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/blob/main/RELEASES.md",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nconsensus\ncrates\ndapps\ndashboards\ndoc\ndocker\ndocs\nexamples\nexternal-crates\nkiosk\nnarwhal\nnre\nscripts\nsdk\nsui-execution\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui\n/RELEASES.md\nLatest commit\nebmifa\nAdding a permanent link to releases (#12369)\n83bb3ad\n · \nHistory\nHistory\nFile metadata and controls\nPreview\nCode\nBlame\n40 lines (39 loc) · 3.01 KB · \nRaw\nSui Releases\n\nhttps://github.com/MystenLabs/sui/releases\n\nPast Releases\n23-05-17: 1.1.0\n23-05-08: 1.1.0\n23-05-02: 1.0.0\n23-04-24: 0.33.0\n23-04-17: 0.32.0\n23-04-10: 0.31.0\n23-03-27: 0.29.0\n23-02-22: 0.27.0\n23-02-15: 0.26.0\n23-02-08: 0.25.0\n23-02-01: 0.24.0\n23-01-25: 0.23.0\n23-01-19: 0.22.0\n23-01-12: 0.21.0\n23-01-04: 0.20.0\n22-12-16: 0.19.0\n22-12-08: 0.18.0\n22-12-01: 0.17.0\n22-11-17: 0.16.0\n22-11-08: 0.15.1\n22-11-02: 0.14.0\n22-10-27: 0.13.0\n22-10-20: 0.12.0\n22-10-12: 0.11.0\n22-09-28: 0.10.0\n22-09-06: 0.9.0\n22-08-30: 0.8.0\n22-08-17: 0.7.0\n22-07-26: 0.6.2\n22-07-19: 0.6.1\n22-07-12: 0.6.0\n22-06-22: 0.5.0\n22-06-07: 0.4.0\n22-05-24: 0.3.0\n22-05-12: 0.2.0\n22-05-05: 0.1.0 (Sui Devnet launch)"
    },
    {
      "title": "sui/Cargo.toml at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/blob/main/Cargo.toml",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nconsensus\ncrates\ndapps\ndashboards\ndoc\ndocker\ndocs\nexamples\nexternal-crates\nkiosk\nnarwhal\nnre\nscripts\nsdk\nsui-execution\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui\n/Cargo.toml\nLatest commit\ntzakian\n[cleanup][move] A bit of cleaning in language storage and removing re…\nb8dfe64\n · \nHistory\nHistory\nFile metadata and controls\nCode\nBlame\n693 lines (676 loc) · 25.1 KB\nRaw\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n620\n621\n622\n623\n624\n625\n626\n627\n628\n629\n630\n631\n632\n633\n634\n635\n636\n637\n638\n639\n640\n641\n642\n643\n644\n645\n646\n647\n648\n649\n650\n651\n652\n653\n654\n655\n656\n657\n658\n659\n660\n661\n662\n663\n664\n665\n666\n667\n668\n669\n670\n671\n672\n673\n674\n675\n676\n677\n678\n679\n680\n681\n682\n683\n684\n685\n686\n687\n688\n689\n690\n691\n692\n693\n "
    },
    {
      "title": "[docs] Framework docs (#16844) · MystenLabs/sui@2b92a11 · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/2b92a111557c9895430c95e7afdecbe5b7268568",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\n[docs] Framework docs (#16844)\nBrowse files\n## Description \n\n- Update to Docusaurus 3\n- Add components to global scope so they don't need to be imported in\nmdx files.\n- Put framework docs into site\n- Fix mdx docs to build properly under d3\n- Add plugin to put descriptions into globaldata\n- Put framework docs into move section\n\n## Test Plan \n\nThe PR boils down to what's shown at\nhttps://sui-core-git-fork-ronny-mysten-frameworkdocs-sui-foundation.vercel.app/references/framework\n\n---\nIf your changes are not user-facing and do not break anything, you can\nskip the following section. Otherwise, please briefly describe what has\nchanged under the Release Notes section.\n\n### Type of Change (Check all that apply)\n\n- [ ] protocol change\n- [ ] user-visible impact\n- [ ] breaking change for a client SDKs\n- [ ] breaking change for FNs (FN binary must upgrade)\n- [ ] breaking change for validators or node operators (must upgrade\nbinaries)\n- [ ] breaking change for on-chain data layout\n- [ ] necessitate either a data wipe or data migration\n\n### Release notes\n main (#16844)\n testnet-v1.25.0 \n…\n devnet-v1.22.0\nronny-mysten committed  \nVerified\n1 parent dec28a6\ncommit 2b92a11\n \nShowing 123 changed files with 5,704 additions and 2,188 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\n.gitignore\ncrates/sui-framework\nbuild.rs\ndocs\ndeepbook\nclob.md\nclob_v2.md\ncritbit.md\ncustodian.md\ncustodian_v2.md\nmath.md\norder_query.md\nmove-stdlib\naddress.md\nascii.md\nbcs.md\noption.md\nstring.md\ntype_name.md\nvector.md\nsui-framework\naddress.md\nauthenticator_state.md\nbag.md\nbalance.md\nbcs.md\nbls12381.md\nborrow.md\nclock.md\ncoin.md\ndeny_list.md\ndisplay.md\ndynamic_field.md\ndynamic_object_field.md\necdsa_k1.md\necdsa_r1.md\necvrf.md\ned25519.md\nevent.md\ngroth16.md\ngroup_ops.md\nhash.md\nhex.md\nhmac.md\nkiosk.md\nkiosk_extension.md\nlinked_table.md\nmath.md\nobject.md\nobject_bag.md\nobject_table.md\npackage.md\npay.md\nposeidon.md\npriority_queue.md\nprover.md\nrandom.md\nsui.md\ntable.md\ntable_vec.md\ntoken.md\ntransfer.md\ntransfer_policy.md\ntx_context.md\ntypes.md\nurl.md\nvec_map.md\nvec_set.md\nversioned.md\nzklogin_verified_id.md\nzklogin_verified_issuer.md\nsui-system\ngenesis.md\nstake_subsidy.md\nstaking_pool.md\nstorage_fund.md\nsui_system.md\nsui_system_state_inner.md\nvalidator.md\nvalidator_cap.md\nvalidator_set.md\nvalidator_wrapper.md\nvoting_power.md\ndocs\ncontent\nconcepts.mdx\nconcepts\ncryptography/transaction-auth\nkeys-addresses.mdx\ngraphql-rpc.mdx\nsui-move-concepts\nconventions.mdx\npackages\ncustom-policies.mdx\ntransfers\ntransfer-to-object.mdx\nguides.mdx\nguides\ndeveloper\nadvanced\nasset-tokenization.mdx\ngraphql-migration.mdx\napp-examples\nblackjack.mdx\ngetting-started\nget-coins.mdx\ngraphql-rpc.mdx\nsui-install.mdx\nsui-101\nsign-and-send-txn.mdx\noperator\narchives.mdx\nsui-full-node.mdx\nreferences.mdx\nreferences\ncli\nvalidator.mdx\ncontribute\nstyle-guide.mdx\nevent-query-and-subscription.mdx\nframework.mdx\nsui-graphql.mdx\nsidebars\nreferences.js\nstandards.mdx\nstandards\ncoin.mdx\ndeepbook\ntrade-and-swap.mdx\nsite\ndocusaurus.config.js\npackage.json\npnpm-lock.yaml\nsrc\ncomponents\nCards\nindex.tsx\nExampleImport\nindex.tsx\nplugins\ndescriptions\nindex.js\nframework\nindex.js\ntheme\nDocCard\nindex.js\nstyles.module.css\nDocCardList\nindex.js\nMDXContent\nindex.js\nNavbar\nColorModeToggle\nstyles.module.css\nMobileSidebar\nHeader\nindex.js\nLayout\nindex.js\nPrimaryMenu\nindex.js\nSecondaryMenu\nindex.js\nToggle\nindex.js\nindex.js\nSearch\nstyles.module.css\nindex.js\n  \n1 change: 1 addition & 0 deletions\n1  \n.gitignore\n\t@@ -71,5 +71,6 @@ yarn-error.log*\n\t\tcheckpoints_dir/*\n\t\tlight_client.yaml\n\t\tdocs/content/references/sui-api/sui-graphql/*\n\t\tdocs/content/references/framework/**\n\t\t\n\n\t\tlcov.info\n  \n2 changes: 1 addition & 1 deletion\n2  \ncrates/sui-framework/build.rs\n\t@@ -232,7 +232,7 @@ fn relocate_docs(prefix: &str, files: &[(String, String)], output: &mut BTreeMap\n\t\t                &file_content\n\t\t                    .replace(\"../../dependencies/\", \"../\")\n\t\t                    .replace(\"dependencies/\", \"../\"),\n\t\t                \"\\n---\\ntitle: $1\\n---\\n\",\n\t\t                \"---\\ntitle: $1\\n---\\n\",\n\t\t            )\n\t\t            .to_string()\n\t\t        });\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/deepbook/clob.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0xdee9::clob`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/deepbook/clob_v2.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0xdee9::clob_v2`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/deepbook/critbit.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0xdee9::critbit`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/deepbook/custodian.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0xdee9::custodian`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/deepbook/custodian_v2.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0xdee9::custodian_v2`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/deepbook/math.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0xdee9::math`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/deepbook/order_query.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0xdee9::order_query`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/move-stdlib/address.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x1::address`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/move-stdlib/ascii.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x1::ascii`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/move-stdlib/bcs.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x1::bcs`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/move-stdlib/option.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x1::option`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/move-stdlib/string.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x1::string`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/move-stdlib/type_name.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x1::type_name`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/move-stdlib/vector.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x1::vector`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/address.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::address`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/authenticator_state.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::authenticator_state`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/bag.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::bag`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/balance.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::balance`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/bcs.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::bcs`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/bls12381.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::bls12381`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/borrow.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::borrow`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/clock.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::clock`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/coin.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::coin`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/deny_list.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::deny_list`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/display.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::display`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/dynamic_field.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::dynamic_field`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/dynamic_object_field.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::dynamic_object_field`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/ecdsa_k1.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::ecdsa_k1`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/ecdsa_r1.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::ecdsa_r1`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/ecvrf.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::ecvrf`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/ed25519.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::ed25519`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/event.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::event`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/groth16.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::groth16`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/group_ops.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::group_ops`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/hash.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::hash`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/hex.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::hex`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/hmac.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::hmac`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/kiosk.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::kiosk`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/kiosk_extension.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::kiosk_extension`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/linked_table.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::linked_table`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/math.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::math`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/object.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::object`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/object_bag.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::object_bag`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/object_table.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::object_table`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/package.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::package`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/pay.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::pay`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/poseidon.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::poseidon`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/priority_queue.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::priority_queue`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/prover.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::prover`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/random.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::random`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/sui.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::sui`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/table.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::table`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/table_vec.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::table_vec`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/token.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::token`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/transfer.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::transfer`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/transfer_policy.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::transfer_policy`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/tx_context.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::tx_context`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/types.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::types`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/url.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::url`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/vec_map.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::vec_map`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/vec_set.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::vec_set`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/versioned.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::versioned`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/zklogin_verified_id.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::zklogin_verified_id`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-framework/zklogin_verified_issuer.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x2::zklogin_verified_issuer`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-system/genesis.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x3::genesis`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-system/stake_subsidy.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x3::stake_subsidy`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-system/staking_pool.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x3::staking_pool`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-system/storage_fund.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x3::storage_fund`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-system/sui_system.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x3::sui_system`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-system/sui_system_state_inner.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x3::sui_system_state_inner`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-system/validator.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x3::validator`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-system/validator_cap.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x3::validator_cap`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-system/validator_set.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x3::validator_set`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-system/validator_wrapper.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x3::validator_wrapper`\n\t\t---\n\n\t\n \n1 change: 0 additions & 1 deletion\n1  \ncrates/sui-framework/docs/sui-system/voting_power.md\n\t\t@@ -1,4 +1,3 @@\n\t\t\n\n\t\t---\n\t\ttitle: Module `0x3::voting_power`\n\t\t---\n\n\t\n  \n2 changes: 0 additions & 2 deletions\n2  \ndocs/content/concepts.mdx\n\t@@ -3,8 +3,6 @@ title: Sui Concepts Overview\n\t\tsidebar_label: Overview\n\t\t---\n\t\t\n\n\t\timport { Cards, Card } from \"../site/src/components/Cards\"\n\t\t\n\n\t\tSui is different than other blockchains. The concepts explored in this section provide a background to the Sui blockchain and web3 in general.\n\t\t\n\n\t\t## Move\n\n\t\n  \n3 changes: 0 additions & 3 deletions\n3  \ndocs/content/concepts/cryptography/transaction-auth/keys-addresses.mdx\n\t@@ -2,9 +2,6 @@\n\t\ttitle: Keys and Addresses\n\t\t---\n\t\t\n\n\t\timport TabItem from '@theme/TabItem';\n\t\timport Tabs from '@theme/Tabs';\n\t\t\n\n\t\tSui adheres to widely accepted wallet specifications in the cryptocurrency industry, including BIP-32 (and its variation, SLIP-0010) and its variation SLIP-0010, BIP-44, and BIP-39, to facilitate key management for users. At present, Sui supports pure Ed25519, ECDSA Secp256k1, ECDSA Secp256r1, and multisig for signed transactions.\n\t\t\n\n\t\tFollow the relevant link for more information on each wallet specification:\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \ndocs/content/concepts/graphql-rpc.mdx\n\t@@ -202,7 +202,7 @@ Fields that return a paginated response accept at least the following optional p\n\t\t\n\n\t\tThey also return a type that conforms to the [GraphQL Cursor Connections Specification](https://relay.dev/graphql/connections.htm), meaning its name ends in `Connection`, and it contains at least the following fields:\n\t\t\n\n\t\t- `pageInfo`, of type [PageInfo](../references/sui-api/sui-graphql/reference/objects/page-info.mdx), which indicates whether there are more pages before or after the page returned.\n\t\t- `pageInfo`, of type <a href=\"/references/sui-api/sui-graphql/reference/objects/page-info\" data-noBrokenLinkCheck='true'>PageInfo</a>, which indicates whether there are more pages before or after the page returned.\n\t\t- `nodes`, the content of the paginated response, as a list of the type being paginated (`TransactionBlock` in the previous example).\n\t\t- `edges`, similar to `nodes` but associating each node with its [cursor](#cursors).\n\t\t\n\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \ndocs/content/concepts/sui-move-concepts/conventions.mdx\n\t@@ -173,7 +173,7 @@ module conventions::profile {\n\t\t\n\n\t\t## Reference functions\n\t\t\n\n\t\tName the functions that return a reference as `<PROPERTY-NAME>_mut` or `<PROPERTY-NAME>`, replacing with <PROPERTY-NAME\\> the actual name of the property.\n\t\tName the functions that return a reference as `<PROPERTY-NAME>_mut` or `<PROPERTY-NAME>`, replacing with `<PROPERTY-NAME\\>` the actual name of the property.\n\t\t\n\n\t\t```move\n\t\tmodule conventions::profile {\n\n\t\n  \n55 changes: 20 additions & 35 deletions\n55  \ndocs/content/concepts/sui-move-concepts/packages/custom-policies.mdx\n\t@@ -334,12 +334,11 @@ Use the `sui client publish` command to publish the policy.\n\t\tsui client publish --gas-budget 100000000\n\t\t```\n\t\t\n\n\t\t```mdx-code-block\n\t\t<details>\n\t\t  <summary>\n\t\t  Show output\n\t\t  Toggle output\n\t\t  </summary>\n\t\t```\n\t\t\n\n\t\tA successful publish returns the following:\n\t\t\n\n\t\t```bash\n\n\t@@ -421,9 +420,8 @@ Array [\n\t\t]\n\t\t```\n\t\t\n\t\t```mdx-code-block\n\t\t</details>\n\t\t```\n\t\t\n\t\t\n\t\tFollowing best practices, use the Sui Client CLI to call `sui::package::make_immutable` on the `UpgradeCap` to make the policy immutable.\n\t\t\n\n\t@@ -435,12 +433,10 @@ sui client call --gas-budget 10000000 \\\n\t\t    --args '<POLICY-UPGRADE-CAP>'\n\t\t```\n\t\t\n\t\t```mdx-code-block\n\t\t<details>\n\t\t  <summary>\n\t\t  Show output\n\t\t  Toggle output\n\t\t  </summary>\n\t\t```\n\t\t\n\t\tA successful call returns the following:\n\t\t\n\n\t@@ -497,9 +493,8 @@ Array [\n\t\t]\n\t\t```\n\t\t\n\t\t```mdx-code-block\n\t\t</details>\n\t\t```\n\t\t\n\t\t\n\t\t### Creating a package for testing {#creating-testing-package}\n\t\t\n\n\t@@ -645,12 +640,11 @@ const result = await client.signAndExecuteTransactionBlock({\n\t\tconsole.log(result)\n\t\t```\n\t\t\n\t\t```mdx-code-block\n\t\t<details>\n\t\t  <summary>\n\t\t  Show complete script\n\t\t  Toggle complete script\n\t\t  </summary>\n\t\t```\n\t\t\n\t\t\n\t\tThe complete `publish.js` script follows:\n\t\t\n\n\t@@ -726,22 +720,20 @@ const result = await client.signAndExecuteTransactionBlock({\n\t\t\n\t\tconsole.log(result)\n\t\t```\n\t\t```mdx-code-block\n\t\t\n\t\t</details>\n\t\t```\n\t\t\n\t\t\n\t\tSave your `publish.js` file, and then use Node.js to run the script:\n\t\t\n\t\t```bash\n\t\tnode publish.js\n\t\t```\n\t\t\n\t\t```mdx-code-block\n\t\t<details>\n\t\t  <summary>\n\t\t  Show output\n\t\t  Toggle output\n\t\t  </summary>\n\t\t```\n\t\t\n\t\tIf the script is successful, the console prints the following response:\n\t\t\n\n\t@@ -803,9 +795,9 @@ BUILDING example\n\t\t  confirmedLocalExecution: true\n\t\t}\n\t\t```\n\t\t```mdx-code-block\n\t\t\n\t\t</details>\n\t\t```\n\t\t\n\t\t\n\t\t:::tip\n\t\t\n\n\t@@ -822,12 +814,12 @@ sui client call --gas-budget 10000000 \\\n\t\t    --function 'nudge' \\\n\t\t```\n\t\t\n\t\t```mdx-code-block\n\t\t\n\t\t<details>\n\t\t  <summary>\n\t\t  Show output\n\t\t  Toggle output\n\t\t  </summary>\n\t\t```\n\t\t\n\t\t\n\t\tA successful call responds with the following:\n\t\t\n\n\t@@ -897,9 +889,8 @@ Array [\n\t\t]\n\t\t```\n\t\t\n\t\t```mdx-code-block\n\t\t</details>\n\t\t```\n\t\t\n\t\t\n\t\tIf you used the example package provided, notice you have an `Events` section that contains a field `x` with value `41`.\n\t\t\n\n\t@@ -999,12 +990,11 @@ If today is not Tuesday, wait until next Tuesday to run the script, when your po\n\t\tnode upgrade.js\n\t\t```\n\t\t\n\t\t```mdx-code-block\n\t\t<details>\n\t\t  <summary>\n\t\t  Show output\n\t\t  Toggle output\n\t\t  </summary>\n\t\t```\n\t\t\n\t\tIf the script is successful (and today is Tuesday), your console displays the following response:\n\t\t\n\t\t```bash\n\n\t@@ -1068,9 +1058,8 @@ BUILDING example\n\t\t}\n\t\t```\n\t\t\n\t\t```mdx-code-block\n\t\t</details>\n\t\t```\n\t\t\n\t\t\n\t\tUse the Sui Client CLI to test the upgraded package (the package ID is **different** from the original version of your example package):\n\t\t\n\n\t@@ -1081,12 +1070,10 @@ sui client call --gas-budget 10000000 \\\n\t\t    --function 'nudge'\n\t\t```\n\t\t\n\t\t```mdx-code-block\n\t\t<details>\n\t\t  <summary>\n\t\t  Show output\n\t\t  Toggle output\n\t\t  </summary>\n\t\t```\n\t\t\n\t\tIf successful, the console prints the following response:\n\t\t\n\n\t@@ -1156,9 +1143,7 @@ Array [\n\t\t]\n\t\t```\n\t\t\n\t\t```mdx-code-block\n\t\t</details>\n\t\t```\n\t\t\n\t\tNow, the `Events` section emitted for the `x` field has a value of `42` (changed from the original `41`).\n\t\t\n\n\t\n  \n3 changes: 0 additions & 3 deletions\n3  \ndocs/content/concepts/transfers/transfer-to-object.mdx\n\t@@ -3,9 +3,6 @@ title: Transfer to Object\n\t\tdescription: On Sui, you can transfer objects to objects in the same way you can transfer objects to addresses.\n\t\t---\n\t\t\n\n\t\timport TabItem from '@theme/TabItem';\n\t\timport Tabs from '@theme/Tabs';\n\t\t\n\n\t\tYou can transfer objects to an object ID in the same way you transfer objects to an address, using the same functions. This is because Sui does not distinguish between the 32-byte ID of an address and the 32-byte ID of an object (which are guaranteed not to overlap). The transfer to object operation takes advantage of this feature, allowing you to provide an object ID as the address input of a transfer operation.\n\t\t\n\n\t\tBecause of the identical ID structure, you can use an object ID for the address field when transferring an object. In fact, all functionality around address-owned objects works the same for objects owned by other objects, you just replace the address with the object ID.\n\n\t\n  \n2 changes: 0 additions & 2 deletions\n2  \ndocs/content/guides.mdx\n\t@@ -3,8 +3,6 @@ title: Guides Overview\n\t\tsidebar_label: Overview\n\t\t---\n\t\t\n\n\t\timport { Cards, Card } from \"../site/src/components/Cards\"\n\t\t\n\n\t\tOften, the best way to learn a new technology is through experience. The content in this section contains concrete examples to guide your development on the Sui network. Whether you're a web3 novice or a seasoned Sui pro, the guides in this section help you get the most out of your Sui development experience.\n\t\t\n\n\t\t## Guides by role\n\n\t\n  \n10 changes: 2 additions & 8 deletions\n10  \ndocs/content/guides/developer/advanced/asset-tokenization.mdx\n\t@@ -3,9 +3,6 @@ title: Asset Tokenization\n\t\tdescription: Learn how to tokenize assets on the Sui blockchain. Asset tokenization refers to the process of representing real-world assets, such as real estate, art, commodities, stocks, or other valuable assets, as digital tokens on the blockchain network.\n\t\t---\n\t\t\n\n\t\timport TabItem from '@theme/TabItem';\n\t\timport Tabs from '@theme/Tabs';\n\t\t\n\n\t\tAsset tokenization refers to the process of representing real-world assets, such as real estate, art, commodities, stocks, or other valuable assets, as digital tokens on the blockchain network. This involves converting the ownership or rights of an asset into digital tokens, which are then recorded and managed on the blockchain.\n\t\t\n\n\t\t## High-level overview\n\n\t@@ -804,12 +801,10 @@ Before proceeding to how to make these edits, it's important to understand how t\n\t\txxd -c 0 -p build/template/bytecode_modules/template.mv | head -n 1 \n\t\t```\n\t\t\n\n\t\t```mdx-code-block\n\t\t<details>\n\t\t  <summary>\n\t\t  Show response\n\t\t  Toggle response\n\t\t  </summary>\n\t\t```\n\t\t\n\n\t\tThe response you should receive looks similar to the following:\n\t\t\n\n\n\t@@ -837,9 +832,8 @@ a6563740f7075626c69635f7472616e736665720673656e64657204736f6d6506737472696e\n\t\t050a0138020c040c030b0438030b030b012e110838040200\n\t\t```\n\t\t\n\n\t\t```mdx-code-block\n\t\t</details>\n\t\t```\n\t\t\n\n\t\t\n\n\t\tCopy the output you receive and paste it in the return instruction of the `getBytecode` method, which is located inside the [bytecode-template.ts](https://github.com/MystenLabs/asset-tokenization/blob/main/setup/src/utils/bytecode-template.ts) file.\n\t\t\n\n\n\t\n  \n3 changes: 0 additions & 3 deletions\n3  \ndocs/content/guides/developer/advanced/graphql-migration.mdx\n\t@@ -2,9 +2,6 @@\n\t\ttitle: Migrating to GraphQL\n\t\t---\n\t\t\n\n\t\timport Tabs from '@theme/Tabs';\n\t\timport TabItem from '@theme/TabItem';\n\t\t\n\n\t\t{@include: ../../../snippets/migrate-to-graphql.mdx}\n\t\t\n\n\t\tFor a comprehensive list of all available GraphQL features, consult the [reference](../../../references/sui-graphql).\n\n\t\n  \n8 changes: 4 additions & 4 deletions\n8  \ndocs/content/guides/developer/app-examples/blackjack.mdx\n\t@@ -68,10 +68,10 @@ The backend code is split in the following sub directories:\n\t\t\n\n\t\t| HTTP Method | Path                  | Description                                                   | Request Body                                      |\n\t\t| ----------- | --------------------- | ------------------------------------------------------------- | ------------------------------------------------- |\n\t\t| GET         | /api/health           | A simple healthcheck endpoint to check the API availability   | txDigest                                          |\n\t\t| POST        | /api/games/{id}/deal  | Executes the initial deal transaction after the game creation | txDigest                                          |\n\t\t| POST        | /api/games/{id}/hit   | Executes a hit move                                           | txDigest, id of corresponding HitRequest object   |\n\t\t| POST        | /api/games/{id}/stand | Executes a stand move                                         | txDigest, id of corresponding StandRequest object |\n\t\t| GET         | `/api/health`           | A simple healthcheck endpoint to check the API availability   | txDigest                                          |\n\t\t| POST        | `/api/games/{id}/deal`  | Executes the initial deal transaction after the game creation | txDigest                                          |\n\t\t| POST        | `/api/games/{id}/hit`   | Executes a hit move                                           | txDigest, id of corresponding HitRequest object   |\n\t\t| POST        | `/api/games/{id}/stand` | Executes a stand move                                         | txDigest, id of corresponding StandRequest object |\n\t\t\n\n\t\t### Need of usage of waitForTransactionBlock\n\t\t\n\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \ndocs/content/guides/developer/getting-started/get-coins.mdx\n\t@@ -9,7 +9,7 @@ Sui faucet is a helpful tool where Sui developers can get free test SUI tokens t\n\t\tTo request tokens from the faucet, you must own a wallet address that can receive the SUI tokens. See the [Get Sui Address](./get-address.mdx) topic if you don't already have an address or need to create a new one.\n\t\t\n\n\t\t## Request test tokens via the CLI \n\t\tIf you are using the Devnet or Testnet networks, or you spun up a local network, you can use the [Sui CLI](https://docs.sui.io/guides/developer/getting-started/sui-install) to request tokens for your address. The `sui client faucet` uses the [active network](references/cli/client#list-available-network-environments) and [active address](references/cli/client#get-current-active-address) that is currently set in the Sui CLI by default, but you can specify custom data through the following two arguments:\n\t\tIf you are using the Devnet or Testnet networks, or you spun up a local network, you can use the [Sui CLI](../../../references/cli/client.mdx) to request tokens for your address. The `sui client faucet` uses the active network and active address that is currently set in the Sui CLI by default, but you can specify custom data through the following two arguments:\n\t\t- `--address` argument to provide a specific address (or its alias),\n\t\t- `--url` argument to provide a custom faucet endpoint.\n\t\t\n\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \ndocs/content/guides/developer/getting-started/graphql-rpc.mdx\n\t@@ -242,7 +242,7 @@ fragment MoveValueFields on MoveValue {\n\t\t\n\n\t\t## Fetching all dynamic fields on an object\n\t\t\n\n\t\tThis query can be used to paginate over the dynamic fields of an object. This works even when the object in question is [wrapped](../../../concepts/object-ownership/wrapped.mdx), by using the [owner](../../../references/sui-api/sui-graphql/reference/queries/owner.mdx) query, so can be used for iterating over the elements of on-chain data structures, like [Tables and Bags](../../../concepts/dynamic-fields/tables-bags.mdx).\n\t\tThis query can be used to paginate over the dynamic fields of an object. This works even when the object in question is [wrapped](../../../concepts/object-ownership/wrapped.mdx), by using the <a href=\"/references/sui-api/sui-graphql/reference/queries/owner\" data-noBrokenLinkCheck='true'>owner</a> query, so can be used for iterating over the elements of on-chain data structures, like [Tables and Bags](../../../concepts/dynamic-fields/tables-bags.mdx).\n\t\t\n\n\t\t:::info\n\t\tThis example uses [fragments](../../../concepts/graphql-rpc.mdx#fragments) and [variables](../../../concepts/graphql-rpc.mdx#variables).\n\n\t\n  \n3 changes: 0 additions & 3 deletions\n3  \ndocs/content/guides/developer/getting-started/sui-install.mdx\n\t@@ -3,9 +3,6 @@ title: Install Sui\n\t\tdescription: Install the Sui framework and required prerequisites on your system, including the Sui command line interface to interact with the Sui network.\n\t\t---\n\t\t\n\n\t\timport Tabs from '@theme/Tabs';\n\t\timport TabItem from '@theme/TabItem';\n\t\t\n\n\t\tThe quickest way to install Sui is using the binaries delivered with every release. If you require more control over the install process, you can install from source. To take advantage of containerization, you can utilize the Docker images in the `docker` folder of the sui repository.\n\t\t\n\n\t\t## Supported operating systems {#supported-operating-systems}\n\n\t\n  \n3 changes: 0 additions & 3 deletions\n3  \ndocs/content/guides/developer/sui-101/sign-and-send-txn.mdx\n\t@@ -2,9 +2,6 @@\n\t\ttitle: Signing and Sending Transactions\n\t\t---\n\t\t\n\n\t\timport Tabs from '@theme/Tabs';\n\t\timport TabItem from '@theme/TabItem';\n\t\t\n\n\t\tTransactions in Sui represent calls to specific functionality (like calling a smart contract function) that execute on inputs to define the result of the transaction.\n\t\t\n\n\t\tInputs can either be an object reference (either to an owned object, an immutable object, or a shared object), or an encoded value (for example, a vector of bytes used as an argument to a Move call). After a transaction is constructed, usually through using [programmable transaction blocks](./building-ptb) (PTBs), the user signs the transaction and submits it to be executed on chain.\n\n\t\n  \n3 changes: 0 additions & 3 deletions\n3  \ndocs/content/guides/operator/archives.mdx\n\t@@ -3,9 +3,6 @@ title: Sui Archives\n\t\tdescription: The archive is a historical record of all transactions on Sui. Enable archiving on your Full nodes as a best practice.\n\t\t---\n\t\t\n\n\t\timport Tabs from '@theme/Tabs';\n\t\timport TabItem from '@theme/TabItem';\n\t\t\n\n\t\tA Sui archive is a history of all transaction data on Sui, trailing behind the latest checkpoint by 10 minutes. As a Sui node operator, you can write this history to an object store like S3, GCS, or similar for safe keeping. Saving this archive data is considered a best practice because Sui prunes transactions on Full nodes to remove historical transactions and their effects. Peer nodes, for example, might not catch up with all transactions and effects through synchronization if they lag behind the current epoch by more than the latest few epochs. Instead of relying on synchronization, peer nodes can fallback to downloading this information from an archive.\n\t\t\n\n\t\tSui Archival nodes (Full nodes that write to an archive) don't store historical state on local storage and don't help query historical data. They serve the purpose of enabling peer nodes to catch up to the latest checkpoint and are useful for auditing and verifying the complete history of all transactions on the network.\n\n\t\n  \n3 changes: 0 additions & 3 deletions\n3  \ndocs/content/guides/operator/sui-full-node.mdx\n\t@@ -3,9 +3,6 @@ title: Sui Full Node Configuration\n\t\tdescription: Operate a Sui Full node to validate blockchain activities, like transactions, checkpoints, and epoch changes.  \n\t\t---\n\t\t\n\n\t\timport Tabs from '@theme/Tabs';\n\t\timport TabItem from '@theme/TabItem';\n\t\t\n\n\t\t:::info\n\t\t\n\n\t\tThese instructions are for advanced users. If you just need a local development environment, you should instead follow the instructions in [Create a Local Sui Network](../developer/getting-started/local-network.mdx) to create a local Full node, validators, and faucet.\n\n\t\n  \n15 changes: 6 additions & 9 deletions\n15  \ndocs/content/references.mdx\n\t@@ -3,34 +3,31 @@ title: References Overview\n\t\tsidebar_label: Overview\n\t\t---\n\t\t\n\n\t\timport { Cards, Card } from \"../site/src/components/Cards\"\n\t\t\n\n\t\tAlready familiar with Sui? Use these valuable resources to continue your development journey.\n\t\t\n\n\t\t## Sui RPC and framework\n\t\t## Sui RPC\n\t\t\n\n\t\tReference the Sui framework and Sui RPC documentation for details of the code that powers the Sui blockchain. \n\t\t\n\n\t\t<Cards>\n\t\t<Card title=\"Sui framework\" href=\"https://github.com/MystenLabs/sui/tree/main/crates/sui-framework/docs\">\n\t\tSui framework reference for the Move packages that power the blockchain.\n\t\t</Card>\n\t\t\n\n\t\t<Card title=\"GraphQL for Sui RPC\" href=\"references/sui-graphql\"/>\n\t\t<Card title=\"JSON-RPC\" href=\"references/sui-api\">\n\t\tUse GraphQL for the Sui RPC for new projects. Use the JSON-RPC reference for legacy projects that have not migrated to GraphQL yet.\n\t\t</Card>\n\t\t</Cards>\n\t\t\n\n\t\t## Move programming\n\t\t## Move\n\t\t\n\n\t\tMove powers smart contract logic for the Sui blockchain. Use these resources to learn Move or refresh your memory.\n\t\t\n\n\t\t<Cards>\n\t\t<Card title=\"Sui framework\" href=\"https://github.com/MystenLabs/sui/tree/main/crates/sui-framework/docs\">\n\t\tSui framework reference for the Move packages that power the blockchain.\n\t\t</Card>\n\t\t<Card title=\"Move language\" href=\"https://github.com/move-language/move/blob/main/language/documentation/book/src/introduction.md\">\n\t\tDocumentation for the Move programming language on GitHub.\n\t\t</Card>\n\t\t<Card title=\"Move.toml\" href=\"references/move/move-toml\"/>\n\t\t<Card title=\"Move.lock\" href=\"references/move/move-lock\"/>\n\t\t</Cards>\n\t\t\n\n\t\t## Sui CLI\n\n\t\n  \n29 changes: 12 additions & 17 deletions\n29  \ndocs/content/references/cli/validator.mdx\n\t@@ -42,12 +42,12 @@ The following examples demonstrate some of the most often used commands.\n\t\t$ sui validator  update-gas-price 500\n\t\t```\n\t\t\n\t\t```mdx-code-block\n\t\t\n\t\t<details>\n\t\t  <summary>\n\t\t  Show output\n\t\t  Toggle output\n\t\t  </summary>\n\t\t```\n\t\t\n\t\t```shell\n\t\t----- Transaction Digest ----\n\t\tA8z83EqjmgwRNFV6sme6A5tTTTQPjiLgiW76neyvhLud\n\n\t@@ -138,9 +138,9 @@ A8z83EqjmgwRNFV6sme6A5tTTTQPjiLgiW76neyvhLud\n\t\t│\tEmW6DhJWRACNZAvupiTNVacZFLoZxbNJ88mrKVv9DeiJ                                               \t    │\n\t\t╰───────────────────────────────────────────────────────────────────────────────────────────────────╯\n\t\t```\n\t\t```mdx-code-block\n\t\t\n\t\t</details>\n\t\t```\n\t\t\n\t\t\n\t\t### Set gas price for the next epoch\n\t\t\n\n\t@@ -154,12 +154,12 @@ $ sui validator request_set_gas_price --args 0x5 \\\"42\\\" --gas-budget GAS-BUDGET-\n\t\t$ sui validator display-metadata 0x3...de5\n\t\t```\n\t\t\n\t\t```mdx-code-block\n\t\t\n\t\t<details>\n\t\t  <summary>\n\t\t  Show output\n\t\t  Toggle output\n\t\t  </summary>\n\t\t```\n\t\t\n\t\t```shell\n\t\t0x3...de5's valdiator status: Active\n\t\tSuiValidatorSummary {\n\n\t@@ -417,24 +417,20 @@ SuiValidatorSummary {\n\t\t\texchange_rates_id: 0x5...65d,\n\t\t\texchange_rates_size: 231,\n\t\t```\n\t\t\n\t\t```mdx-code-block\n\t\t</details>\n\t\t```\n\t\t\n\t\t\n\t\t### Report a bad / non-performant validator\n\t\t\n\t\t```shell\n\t\t$ sui validator report-validator  0xf...3d9\n\t\t```\n\t\t\n\t\t```mdx-code-block\n\t\t\n\t\t<details>\n\t\t  <summary>\n\t\t  Show output\n\t\t  Toggle output\n\t\t  </summary>\n\t\t```\n\t\t\n\t\t\n\t\t```shell\n\t\t----- Transaction Digest ----\n\n\t@@ -522,9 +518,8 @@ $ sui validator report-validator  0xf...3d9\n\t\t╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯\n\t\t```\n\t\t\n\t\t```mdx-code-block\n\t\t</details>\n\t\t```\n\t\t\n\t\t\n\t\t## Help\n\t\t\n\n\t\n  \n3 changes: 0 additions & 3 deletions\n3  \ndocs/content/references/contribute/style-guide.mdx\n\t@@ -47,9 +47,6 @@ Alerts add emphasis to information. Use Admonitions, a Docusaurus feature, to in\n\t\t\n\n\t\tUse Note to add emphasis to information that the reader should know, but could be overlooked when scanning a topic or document. Provide information that prevents users from getting stuck.\n\t\t\n\n\t\timport Tabs from \"@theme/Tabs\";\n\t\timport TabItem from \"@theme/TabItem\";\n\t\t\n\n\t\t<Tabs>\n\t\t<TabItem value=\"example\" label=\"Example\" default>\n\t\t\n\n\n\t\n  \n18 changes: 9 additions & 9 deletions\n18  \ndocs/content/references/event-query-and-subscription.mdx\n\t@@ -199,15 +199,15 @@ You can use the `EventQuery` criteria object to query a Sui node and retrieve ev\n\t\t\n\n\t\t| Query       | Description                                               | JSON-RPC Parameter Example                                                                          |\n\t\t| ----------- | --------------------------------------------------------- | --------------------------------------------------------------------------------------------------- |\n\t\t| All         | All events                                                | {\"All\"}                                                                                             |\n\t\t| Transaction | Events emitted from the specified transaction.            | {\"Transaction\":\"DGUe2TXiJdN3FI6MH1FwghYbiHw+NKu8Nh579zdFtUk=\"}                                      |\n\t\t| MoveModule  | Events emitted from the specified Move module             | {\"MoveModule\":{\"package\":\"`<PACKAGE-ID>`\", \"module\":\"nft\"}}                                         |\n\t\t| MoveEvent   | Move struct name of the event                             | {\"MoveEvent\":\"`<PACKAGE-ID>`::nft::MintNFTEvent\"}                                                   |\n\t\t| EventType   | Type of event described in [Events](#event-types) section | {\"EventType\": \"NewObject\"}                                                                          |\n\t\t| Sender      | Query by sender address                                   | {\"Sender\":\"0x008e9c621f4fdb210b873aab59a1e5bf32ddb1d33ee85eb069b348c234465106\"}                     |\n\t\t| Recipient   | Query by recipient                                        | {\"Recipient\":{\"AddressOwner\":\"0xa3c00467938b392a12355397bdd3d319cea5c9b8f4fc9c51b46b8e15a807f030\"}} |\n\t\t| Object      | Return events associated with the given object            | {\"Object\":\"0x727b37454ab13d5c1dbb22e8741bff72b145d1e660f71b275c01f24e7860e5e5\"}                     |\n\t\t| TimeRange   | Return events emitted in [start_time, end_time] interval  | {\"TimeRange\":{\"startTime\":1669039504014, \"endTime\":1669039604014}}                                  |\n\t\t| All         | All events                                                | `{\"All\"}`               |\n\t\t| Transaction | Events emitted from the specified transaction.            | `{\"Transaction\":\"DGUe2TXiJdN3FI6MH1FwghYbiHw+NKu8Nh579zdFtUk=\"}` |\n\t\t| MoveModule  | Events emitted from the specified Move module             | `{\"MoveModule\":{\"package\":\"<PACKAGE-ID>\", \"module\":\"nft\"}}` |\n\t\t| MoveEvent   | Move struct name of the event                             | `{\"MoveEvent\":\"<PACKAGE-ID>::nft::MintNFTEvent\"}` |\n\t\t| EventType   | Type of event described in [Events](#event-types) section | `{\"EventType\": \"NewObject\"}`|\n\t\t| Sender      | Query by sender address                                   | `{\"Sender\":\"0x008e9c621f4fdb210b873aab59a1e5bf32ddb1d33ee85eb069b348c234465106\"}` |\n\t\t| Recipient   | Query by recipient                                        | `{\"Recipient\":{\"AddressOwner\":\"0xa3c00467938b392a12355397bdd3d319cea5c9b8f4fc9c51b46b8e15a807f030\"}}` |\n\t\t| Object      | Return events associated with the given object            | `{\"Object\":\"0x727b37454ab13d5c1dbb22e8741bff72b145d1e660f71b275c01f24e7860e5e5\"}` |\n\t\t| TimeRange   | Return events emitted in [start_time, end_time] interval  | `{\"TimeRange\":{\"startTime\":1669039504014, \"endTime\":1669039604014}}` |\n\t\t\n\n\t\t## Pagination {#pagination}\n\t\t\n\n\n\t\n \n36 changes: 36 additions & 0 deletions\n36  \ndocs/content/references/framework.mdx\n\t\t@@ -0,0 +1,36 @@\n\t\t---\n\t\ttitle: Sui Framework\n\t\tdescription: The Sui framework libraries include Move modules that provide the logic for Sui and its standards. A Rust process creates the documentation for the modules directly from comments in the code.\n\t\t---\n\t\t\n\n\t\timport DocCardList from '@theme/DocCardList';\n\t\t\n\n\t\tThe documentation in this section is created from the Rust `cargo doc` process. The process builds the content from comments in the source code.   \n\t\t\n\n\t\t## Framework documentation\n\t\t\n\n\t\tThe child pages to this topic describe the module members for the following libraries:\n\t\t\n\n\t\t<DocCardList/>\n\t\t\n\n\t\t## Source code\n\t\t\n\n\t\tYou can find the source code for these Move modules in the [crates/sui-framework/packages](https://github.com/MystenLabs/sui/tree/main/crates/sui-framework/packages) directory in the `sui` repository on GitHub. As previously mentioned, the comments included in the code provide context for the logic defined.\n\t\t\n\n\t\t## Crate documentation\n\t\t\n\n\t\tYou can review the raw `cargo doc` output of the following documentation in the `sui` repository. The .md files are located in the `crates/sui-framework/docs` directory. Online, they are located at https://github.com/MystenLabs/sui/tree/main/crates/sui-framework/docs.\n\t\t\n\n\t\t## Build documentation locally\n\t\t\n\n\t\tThe most recent documentation is always available in the `main` branch of the `sui` repository. You shouldn't need to build the documentation locally, but if the need arises you can:\n\t\t\n\n\t\t1. Open a terminal or console to the `sui/crates/sui-framework` directory.\n\t\t1. Run `cargo doc --workspace --exclude \"sui-benchmark\" --no-deps`.\n\t\t1. The docs are built to `crates/sui-framework/docs` into their respective subdirectories.\n\t\t\n\n\t\t:::info\n\t\t\n\n\t\tIf the `cargo doc` process does not work as expected, try running `cargo clean` before attempting again. \n\t\t\n\n\t\t:::\n  \n12 changes: 6 additions & 6 deletions\n12  \ndocs/content/references/sui-graphql.mdx\n\t@@ -5,17 +5,17 @@ description: GraphQL is a public service for the Sui RPC that enables you to eff\n\t\t\n\n\t\tGraphQL for the Sui RPC is a public service that enables interacting with the Sui [network](https://sui.io/networkinfo).\n\t\t\n\n\t\tTo get started with GraphQL for the Sui RPC, check out the [Getting Started](/guides/developer/getting-started/graphql-rpc.mdx) guide. If you'd like to learn more about the concepts used in the GraphQL service, check out the [GraphQL](/concepts/graphql-rpc.mdx) for Sui RPC concepts page.\n\t\tTo get started with GraphQL for the Sui RPC, check out the [Getting Started](../guides/developer/getting-started/graphql-rpc.mdx) guide. If you'd like to learn more about the concepts used in the GraphQL service, check out the [GraphQL](../concepts/graphql-rpc.mdx) for Sui RPC concepts page.\n\t\t\n\n\t\t## Key Types\n\t\t\n\n\t\tAll GraphQL API elements are accessible via the left sidebar, the following are good starting points to explore from.\n\t\t\n\n\t\t- \"Queries\" lists all top-level queries for reading the chain state, from reading details about addresses and objects to [dryRunTransactionBlock](/references/sui-api/sui-graphql/reference/queries/dry-run-transaction-block), which has an execution-like interface but does not modify the chain.\n\t\t- \"Mutations\" lists operations that can modify chain state, like [executeTransactionBlock](/references/sui-api/sui-graphql/reference/mutations/execute-transaction-block).\n\t\t- [Object](/references/sui-api/sui-graphql/reference/objects/object) is the type representing all on-chain objects (Move values and packages).\n\t\t- [Address](/references/sui-api/sui-graphql/reference/objects/address) corresponds to account addresses (derived from the public keys of signatures that sign transactions) and can be used to query the objects owned by these accounts and the transactions they have signed or been affected by.\n\t\t- [Owner](/references/sui-api/sui-graphql/reference/objects/owner) represents any entity that can own a [MoveObject](/references/sui-api/sui-graphql/reference/objects/move-object) to handle cases where it is not known whether the owner is an [Object](/references/sui-api/sui-graphql/reference/objects/object) or an [Address](/references/sui-api/sui-graphql/reference/objects/address) (for example, from the perspective of a Move object looking at its owner).\n\t\t- \"Queries\" lists all top-level queries for reading the chain state, from reading details about addresses and objects to <a href=\"/references/sui-api/sui-graphql/reference/queries/dry-run-transaction-block\" data-noBrokenLinkCheck='true'>dryRunTransactionBlock</a>, which has an execution-like interface but does not modify the chain.\n\t\t- \"Mutations\" lists operations that can modify chain state, like <a href=\"/references/sui-api/sui-graphql/reference/mutations/execute-transaction-block\" data-noBrokenLinkCheck='true'>executeTransactionBlock</a>.\n\t\t- <a href=\"/references/sui-api/sui-graphql/reference/objects/object\" data-noBrokenLinkCheck='true'>Object</a> is the type representing all on-chain objects (Move values and packages).\n\t\t- <a href=\"/references/sui-api/sui-graphql/reference/objects/address\" data-noBrokenLinkCheck='true'>Address</a> corresponds to account addresses (derived from the public keys of signatures that sign transactions) and can be used to query the objects owned by these accounts and the transactions they have signed or been affected by.\n\t\t- <a href=\"/references/sui-api/sui-graphql/reference/objects/owner\" data-noBrokenLinkCheck='true'>Owner</a> represents any entity that can own a <a href=\"/references/sui-api/sui-graphql/reference/objects/move-object\" data-noBrokenLinkCheck='true'>MoveObject</a> to handle cases where it is not known whether the owner is an <a href=\"/references/sui-api/sui-graphql/reference/objects/object\" data-noBrokenLinkCheck='true'>Object</a> or an <a href=\"/references/sui-api/sui-graphql/reference/objects/address\" data-noBrokenLinkCheck='true'>Address</a> (for example, from the perspective of a Move object looking at its owner).\n\t\t\n\n\t\t## Related links\n\t\t\n\n\n\t\n  \n14 changes: 9 additions & 5 deletions\n14  \ndocs/content/sidebars/references.js\n\t@@ -7,11 +7,6 @@ const references = [\n\t\t\t\tlabel: 'References',\n\t\t\t\tid: 'references',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'link',\n\t\t\t\tlabel: 'Sui Framework (GitHub)',\n\t\t\t\thref: 'https://github.com/MystenLabs/sui/tree/main/crates/sui-framework/docs',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'category',\n\t\t\t\tlabel: 'Sui RPC',\n\n\t@@ -101,6 +96,15 @@ const references = [\n\t\t\t\t\tid: 'references/sui-move',\n\t\t\t\t},\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'category',\n\t\t\t\t\t\tlabel: 'Framework',\n\t\t\t\t\t\tlink: {\n\t\t\t\t\t\t\ttype: 'doc',\n\t\t\t\t\t\t\tid: 'references/framework',\n\t\t\t\t\t\t},\n\t\t\t\t\t\titems: [{ type: 'autogenerated', dirName: 'references/framework' }],\n\t\t\t\t\t},\n\t\t\t\t\t'references/move/move-toml',\n\t\t\t\t\t'references/move/move-lock',\n\t\t\t\t\t{\n\n\t\n  \n2 changes: 0 additions & 2 deletions\n2  \ndocs/content/standards.mdx\n\t@@ -3,8 +3,6 @@ title: Sui Standards Overview\n\t\tsidebar_label: Overview\n\t\t---\n\t\t\n\n\t\timport { Card, Cards } from '../site/src/components/Cards';\n\t\t\n\n\t\tStandards on the Sui blockchain are features, frameworks, or apps that you can extend or customize.\n\t\t\n\n\t\t<Cards>\n\n\t\n  \n3 changes: 0 additions & 3 deletions\n3  \ndocs/content/standards/coin.mdx\n\t@@ -4,9 +4,6 @@ description: The Sui Coin standard enables you to create a broad range of fungib\n\t\tsidebar_label: Coin\n\t\t---\n\t\t\n\n\t\timport TabItem from '@theme/TabItem';\n\t\timport Tabs from '@theme/Tabs';\n\t\t\n\n\t\tThe Coin standard is the technical standard used for smart contracts on Sui for creating coins on the Sui blockchain. The standardization of coin creation on Sui means that wallets, exchanges, and other smart contracts can manage coins created on Sui the same as they manage SUI, without any additional processing logic. \n\t\t\n\n\t\tSee [Sui Tokenomics](../concepts/tokenomics.mdx) to learn more about the SUI native coin and its use on the Sui network.\n\n\t\n  \n4 changes: 2 additions & 2 deletions\n4  \ndocs/content/standards/deepbook/trade-and-swap.mdx\n\t@@ -478,7 +478,7 @@ public async placeMarketOrder(\n\t\t\n\n\t\t### Cancel single order {#cancel-single-order}\n\t\t\n\n\t\tCancel a limit order placed onto the CLOB. Abort if order_id is invalid or if the order is not submitted by the transaction sender.\n\t\tCancel a limit order placed onto the CLOB. Abort if `order_id` is invalid or if the order is not submitted by the transaction sender.\n\t\t\n\n\t\t**Function signature for canceling single order in Move contract**\n\t\t\n\n\n\t@@ -588,7 +588,7 @@ public async cancelAllOrders(\n\t\t\n\t\tCancel multiple limit orders to save gas costs. Abort if any of the order ids is invalid or is not submitted by the sender. Note that this function can reduce gas costs even further if the caller has multiple orders at the same price level and if orders with the same price are grouped in the vector.\n\t\t\n\t\tFor example, if we have the following order_id to price mapping, {0: 100., 1: 200., 2: 100., 3: 200.}.Grouping order_ids like [0, 2, 1, 3] would make it the most gas efficient.\n\t\tFor example, if we have the following `order_id` to price mapping, `{0: 100., 1: 200., 2: 100., 3: 200.}`. Grouping `order_ids` like `[0, 2, 1, 3]` would make it the most gas efficient.\n\t\t\n\t\t**Function signature for batch cancel order**\n\t\t\n\n\t\n  \n48 changes: 27 additions & 21 deletions\n48  \ndocs/site/docusaurus.config.js\n\t\t@@ -1,26 +1,35 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tconst lightCodeTheme = require(\"prism-react-renderer/themes/github\");\n\t\tconst darkCodeTheme = require(\"prism-react-renderer/themes/nightOwl\");\n\t\tconst math = require(\"remark-math\");\n\t\tconst katex = require(\"rehype-katex\");\n\t\timport { themes } from \"prism-react-renderer\";\n\t\timport path from \"path\";\n\t\timport math from \"remark-math\";\n\t\timport katex from \"rehype-katex\";\n\t\t\n\n\t\trequire(\"dotenv\").config();\n\t\t\n\n\t\t/** @type {import('@docusaurus/types').Config} */\n\t\tconst config = {\n\t\t  title: \"Sui Documentation\",\n\t\t  staticDirectories: [\"static\"],\n\t\t  tagline:\n\t\t    \"Sui is a next-generation smart contract platform with high throughput, low latency, and an asset-oriented programming model powered by Move\",\n\t\t  favicon: \"img/favicon.ico\",\n\t\t  favicon: \"/img/favicon.ico\",\n\t\t\n\n\t\t  // Set the production url of your site here\n\t\t  url: \"https://docs.sui.io\",\n\t\t  // Set the /<baseUrl>/ pathname under which your site is served\n\t\t  // For GitHub pages deployment, it is often '/<projectName>/'\n\t\t  baseUrl: \"/\",\n\t\t  customFields: {\n\t\t    amplitudeKey: process.env.AMPLITUDE_KEY,\n\t\t  },\n\t\t\n\n\t\t  onBrokenLinks: \"throw\",\n\t\t  onBrokenMarkdownLinks: \"throw\",\n\t\t  onBrokenMarkdownLinks: \"warn\",\n\t\t\n\n\t\t  // Even if you don't use internationalization, you can use this field to set\n\t\t  // useful metadata like html lang. For example, if your site is Chinese, you\n\t\t  // may want to replace \"en\" with \"zh-Hans\".\n\t\t  /*  i18n: {\n\t\t    defaultLocale: \"en\",\n\t\t    locales: [\n\n\t@@ -35,6 +44,7 @@ const config = {\n\t\t    ],\n\t\t  },*/\n\t\t  markdown: {\n\t\t    format: \"detect\",\n\t\t    mermaid: true,\n\t\t  },\n\t\t  plugins: [\n\n\t@@ -68,6 +78,8 @@ const config = {\n\t\t        },\n\t\t      };\n\t\t    },\n\t\t    path.resolve(__dirname, `./src/plugins/descriptions`),\n\t\t    path.resolve(__dirname, `./src/plugins/framework`),\n\t\t  ],\n\t\t  presets: [\n\t\t    [\n\n\t@@ -94,8 +106,10 @@ const config = {\n\t\t          ],*/\n\t\t          remarkPlugins: [\n\t\t            math,\n\t\t            require(\"@docusaurus/remark-plugin-npm2yarn\"),\n\t\t            { sync: true, converters: [\"npm\", \"yarn\", \"pnpm\"] },\n\t\t            [\n\t\t              require(\"@docusaurus/remark-plugin-npm2yarn\"),\n\t\t              { sync: true, converters: [\"yarn\", \"pnpm\"] },\n\t\t            ],\n\t\t          ],\n\t\t          rehypePlugins: [katex],\n\t\t        },\n\n\t@@ -105,9 +119,6 @@ const config = {\n\t\t            require.resolve(\"./src/css/custom.css\"),\n\t\t          ],\n\t\t        },\n\t\t        googleTagManager: {\n\t\t          containerId: \"GTM-TTZ5J8V\",\n\t\t        },\n\t\t      }),\n\t\t    ],\n\t\t  ],\n\n\t@@ -128,7 +139,7 @@ const config = {\n\t\t      type: \"text/css\",\n\t\t    },\n\t\t  ],\n\t\t  themes: [\"@docusaurus/theme-mermaid\"],\n\t\t  themes: [\"@docusaurus/theme-mermaid\", \"docusaurus-theme-frontmatter\"],\n\t\t  themeConfig:\n\t\t    /** @type {import('@docusaurus/preset-classic').ThemeConfig} */\n\t\t    ({\n\n\t@@ -213,17 +224,12 @@ const config = {\n\t\t        style: \"dark\",\n\t\t        copyright: `© ${new Date().getFullYear()} Sui Foundation | Documentation distributed under <a href=\"https://github.com/sui-foundation/sui-docs/blob/main/LICENSE\">CC BY 4.0</a>`,\n\t\t      },\n\t\t\n\n\t\t      /**\n\t\t       * Syntax Highlighting Configuration\n\t\t       * TODO: add better themes like Atom One Dark / Light\n\t\t       */\n\t\t      prism: {\n\t\t        theme: lightCodeTheme,\n\t\t        darkTheme: darkCodeTheme,\n\t\t        theme: themes.github,\n\t\t        darkTheme: themes.nightOwl,\n\t\t        additionalLanguages: [\"rust\", \"typescript\", \"toml\"],\n\t\t      },\n\t\t    }),\n\t\t};\n\t\t\n\n\t\tmodule.exports = config;\n\t\texport default config;\n  \n55 changes: 28 additions & 27 deletions\n55  \ndocs/site/package.json\n\t@@ -18,46 +18,47 @@\n\t\t    \"pull-amplitude\": \"ampli pull web\"\n\t\t  },\n\t\t  \"dependencies\": {\n\t\t    \"@amplitude/analytics-browser\": \"^2.3.6\",\n\t\t    \"@docusaurus/core\": \"^2.4.1\",\n\t\t    \"@docusaurus/plugin-google-tag-manager\": \"^2.4.1\",\n\t\t    \"@docusaurus/preset-classic\": \"^2.4.1\",\n\t\t    \"@docusaurus/remark-plugin-npm2yarn\": \"^2.4.3\",\n\t\t    \"@docusaurus/theme-common\": \"^2.4.3\",\n\t\t    \"@docusaurus/theme-mermaid\": \"^2.4.3\",\n\t\t    \"@emotion/react\": \"^11.11.1\",\n\t\t    \"@amplitude/analytics-browser\": \"^2.5.3\",\n\t\t    \"@docusaurus/core\": \"3.1.1\",\n\t\t    \"@docusaurus/preset-classic\": \"3.1.1\",\n\t\t    \"@docusaurus/remark-plugin-npm2yarn\": \"^3.1.1\",\n\t\t    \"@docusaurus/theme-common\": \"^3.1.1\",\n\t\t    \"@docusaurus/theme-mermaid\": \"^3.1.1\",\n\t\t    \"@emotion/react\": \"^11.11.4\",\n\t\t    \"@emotion/styled\": \"^11.11.0\",\n\t\t    \"@graphql-markdown/docusaurus\": \"^1.24.0\",\n\t\t    \"@graphql-tools/graphql-file-loader\": \"^8.0.1\",\n\t\t    \"@mdx-js/react\": \"^1.6.22\",\n\t\t    \"@mui/material\": \"^5.14.8\",\n\t\t    \"@graphql-markdown/docusaurus\": \"^1.22.0\",\n\t\t    \"@graphql-tools/graphql-file-loader\": \"^8.0.0\",\n\t\t    \"autoprefixer\": \"^10.4.15\",\n\t\t    \"autoprefixer\": \"^10.4.18\",\n\t\t    \"axios\": \"^1.6.8\",\n\t\t    \"clsx\": \"^2.1.0\",\n\t\t    \"docusaurus-plugin-includes\": \"^1.1.5\",\n\t\t    \"docusaurus-theme-frontmatter\": \"^1.3.0\",\n\t\t    \"dotenv\": \"^16.4.5\",\n\t\t    \"github\": \"link:prism-react-renderer/themes/github\",\n\t\t    \"graphql\": \"^16.8.1\",\n\t\t    \"graphql-config\": \"^5.0.3\",\n\t\t    \"axios\": \"^1.6.0\",\n\t\t    \"clsx\": \"^2.0.0\",\n\t\t    \"docusaurus-plugin-includes\": \"^1.1.4\",\n\t\t    \"dotenv\": \"^16.3.1\",\n\t\t    \"firebase\": \"^10.4.0\",\n\t\t    \"gray-matter\": \"^4.0.3\",\n\t\t    \"hast-util-is-element\": \"^1.1.0\",\n\t\t    \"lodash\": \"^4.17.21\",\n\t\t    \"markdown-to-jsx\": \"^7.3.2\",\n\t\t    \"postcss\": \"^8.4.29\",\n\t\t    \"prism-react-renderer\": \"^1.3.5\",\n\t\t    \"markdown-to-jsx\": \"^7.4.3\",\n\t\t    \"nightOwl\": \"link:prism-react-renderer/themes/nightOwl\",\n\t\t    \"postcss\": \"^8.4.37\",\n\t\t    \"prism-react-renderer\": \"^2.3.1\",\n\t\t    \"prismjs\": \"^1.29.0\",\n\t\t    \"react\": \"^17.0.2\",\n\t\t    \"react-dom\": \"^17.0.2\",\n\t\t    \"react\": \"^18.0.0\",\n\t\t    \"react-dom\": \"^18.0.0\",\n\t\t    \"react-scrollspy-navigation\": \"^1.0.3\",\n\t\t    \"react-syntax-highlighter\": \"^15.5.0\",\n\t\t    \"react-ui-scrollspy\": \"^2.3.0\",\n\t\t    \"rehype-katex\": \"^5.0.0\",\n\t\t    \"remark-math\": \"^3.0.1\",\n\t\t    \"tailwindcss\": \"^3.3.3\"\n\t\t    \"rehype-katex\": \"^7.0.0\",\n\t\t    \"remark-math\": \"^6.0.0\",\n\t\t    \"tailwindcss\": \"^3.4.1\"\n\t\t  },\n\t\t  \"devDependencies\": {\n\t\t    \"graphql\": \"^16.8.1\",\n\t\t    \"graphql-config\": \"^5.0.3\",\n\t\t    \"@docusaurus/module-type-aliases\": \"^2.4.1\",\n\t\t    \"@babel/plugin-transform-react-jsx\": \"^7.23.4\",\n\t\t    \"@docusaurus/module-type-aliases\": \"^3.1.1\",\n\t\t    \"@tsconfig/docusaurus\": \"^1.0.5\",\n\t\t    \"typescript\": \"^4.7.4\"\n\t\t  },\n\n\t\n \n6,825 changes: 5,093 additions & 1,732 deletions\n6,825  \ndocs/site/pnpm-lock.yaml\nLoad diff\n\nLarge diffs are not rendered by default.\n\n  \n32 changes: 11 additions & 21 deletions\n32  \ndocs/site/src/components/Cards/index.tsx\n\t\t@@ -1,34 +1,32 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\timport React, { useEffect, useState } from \"react\";\n\t\timport { useLocation, useHistory } from \"@docusaurus/router\";\n\t\timport { useDocsVersion } from \"@docusaurus/theme-common/internal\";\n\t\timport Markdown from \"markdown-to-jsx\";\n\t\timport React, { useEffect, useState, useContext } from \"react\";\n\t\timport { useHistory } from \"@docusaurus/router\";\n\t\timport useDocusaurusContext from '@docusaurus/useDocusaurusContext';\n\t\timport {usePluginData} from '@docusaurus/useGlobalData';\n\t\timport styles from \"./styles.module.css\";\n\t\t\n\n\t\texport function Card(props) {\n\t\t  const location = useLocation();\n\t\t  const history = useHistory();\n\t\t  const isHome = location.pathname === \"/\";\n\t\t  const [href, setHref] = useState();\n\t\t\n\n\t\t  useEffect(() => {\n\t\t    if (href) {\n\t\t      window.open(href, \"_blank\");\n\t\t    }\n\t\t    return true;\n\t\t    return;\n\t\t  }, [href]);\n\t\t\n\n\t\t  const docs = useDocsVersion().docs;\n\t\t  const { descriptions } = usePluginData(\"sui-description-plugin\");\n\t\t  let h = props.href;\n\t\t  if (h.match(/^\\//)) {\n\t\t    h = h.substring(1);\n\t\t  }\n\t\t  let i = Object.entries(docs).find((doc) => doc[0] === h);\n\t\t  const d = descriptions.find((desc) => desc[\"id\"] === h);\n\t\t  let description = \"\";\n\t\t  if (Array.isArray(i)) {\n\t\t    description = i[1].description;\n\t\t  if (typeof d !== \"undefined\") {\n\t\t    description = d.description;\n\t\t  }\n\t\t\n\n\t\t  const handleClick = (loc) => {\n\n\t@@ -46,22 +44,14 @@ export function Card(props) {\n\t\t      </div>\n\t\t\n\n\t\t      <div className={styles.card__copy}>\n\t\t        <Markdown>{props.children ? props.children : description}</Markdown>\n\t\t        {props.children ? props.children : description}\n\t\t      </div>\n\t\t    </div>\n\t\t  );\n\t\t}\n\t\t\n\n\t\texport function Cards({ children, ...props }) {\n\t\t  const location = useLocation();\n\t\t  let twClassList =\n\t\t    location.pathname === \"/\"\n\t\t      ? `gap-16 grid lg:grid-rows-${Math.ceil(\n\t\t          children.length / 3,\n\t\t        )} md:grid-rows-${Math.ceil(\n\t\t          children.length / 2,\n\t\t        )} lg:grid-cols-3 md:grid-cols-2`\n\t\t      : \"grid-card gap-8 grid xl:grid-rows-${Math.ceil(children.length/3)} lg:grid-rows-${Math.ceil(children.length/2)} xl:grid-cols-3 lg:grid-cols-2 justify-start pb-8\";\n\t\t  let twClassList = \"grid-card gap-8 grid xl:grid-rows-${Math.ceil(children.length/3)} lg:grid-rows-${Math.ceil(children.length/2)} xl:grid-cols-3 lg:grid-cols-2 justify-start pb-8\";\n\t\t  return (\n\t\t    <div className={twClassList} {...props}>\n\t\t      {children}\n\n\t\n  \n6 changes: 3 additions & 3 deletions\n6  \ndocs/site/src/components/ExampleImport/index.tsx\n\t@@ -2,8 +2,8 @@\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\timport React, { useState, useEffect } from \"react\";\n\t\timport Highlight from \"prism-react-renderer\";\n\t\timport github from \"prism-react-renderer/themes/github\";\n\t\timport {Highlight, themes} from \"prism-react-renderer\";\n\t\t\n\n\t\timport axios from \"axios\";\n\t\timport { Prism } from \"prism-react-renderer\";\n\t\timport CopyButton from \"@theme/CodeBlock/CopyButton\";\n\n\t@@ -82,7 +82,7 @@ export default function ExampleImport(props) {\n\t\t      Prism={Prism}\n\t\t      code={example}\n\t\t      language={highlight as Language}\n\t\t      theme={github}\n\t\t      theme={themes.github}\n\t\t    >\n\t\t      {({ className, style, tokens, getLineProps, getTokenProps }) => (\n\t\t        <div className=\"codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block\">\n\n\t\n \n78 changes: 78 additions & 0 deletions\n78  \ndocs/site/src/plugins/descriptions/index.js\n\t\t@@ -0,0 +1,78 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\t// This plugin gets the descriptions from yaml header and\n\t\t// adds them to global data as\n\t\t// { id: docID, description: YAML header }\n\t\t\n\n\t\timport path from \"path\";\n\t\timport fs from \"fs\";\n\t\timport matter from \"gray-matter\";\n\t\t\n\n\t\tconst descriptionPlugin = (context, options) => {\n\t\t  return {\n\t\t    name: \"sui-description-plugin\",\n\t\t\n\n\t\t    async loadContent() {\n\t\t      const c = context.siteConfig.presets.filter((s) => s[0] === \"classic\");\n\t\t      const docs = c[0][1].docs.path;\n\t\t      const docPath = path.join(__dirname, \"../../..\", docs);\n\t\t      const mdxFiles = recurseFiles(docPath);\n\t\t\n\n\t\t      function recurseFiles(dirPath, files = []) {\n\t\t        const f = fs.readdirSync(dirPath, { withFileTypes: true });\n\t\t\n\n\t\t        f.forEach((file) => {\n\t\t          const fp = path.join(dirPath, file.name);\n\t\t          if (file.isDirectory()) {\n\t\t            recurseFiles(fp, files);\n\t\t          } else if (file.isFile() && path.extname(file.name) === \".mdx\") {\n\t\t            if (!fp.match(/\\/sui-api\\/sui-graphql\\//) && !fp.match(/snippets/))\n\t\t              files.push(fp);\n\t\t          }\n\t\t        });\n\t\t\n\n\t\t        return files;\n\t\t      }\n\t\t\n\n\t\t      let descriptions = [];\n\t\t\n\n\t\t      mdxFiles.forEach((file) => {\n\t\t        const markdown = fs.readFileSync(file, \"utf8\");\n\t\t        const { data, content } = matter(markdown);\n\t\t        let description = \"\";\n\t\t        if (typeof data.description !== \"undefined\") {\n\t\t          description = data.description;\n\t\t        } else {\n\t\t          const splits = content.split(\"\\n\");\n\t\t          for (const s of splits) {\n\t\t            if (\n\t\t              s.trim() !== \"\" &&\n\t\t              !s.match(/^import/) &&\n\t\t              s.match(/^[a-zA-Z]{1}(.*)$/)\n\t\t            ) {\n\t\t              description = s.replace(/\\[([^\\]]+)\\]\\([^\\)]+\\)/g, \"$1\");\n\t\t              break;\n\t\t            }\n\t\t          }\n\t\t        }\n\t\t        const re = new RegExp(\".*\" + docs + \"/\");\n\t\t        descriptions.push({\n\t\t          id: file.replace(re, \"\").replace(/\\.mdx$/, \"\"),\n\t\t          description,\n\t\t        });\n\t\t      });\n\t\t      const descriptionData = {\n\t\t        descriptions,\n\t\t      };\n\t\t      return descriptionData;\n\t\t    },\n\t\t    // This function exposes the loaded content to `globalData`\n\t\t    async contentLoaded({ content, actions }) {\n\t\t      const { setGlobalData } = actions;\n\t\t      setGlobalData(content);\n\t\t    },\n\t\t  };\n\t\t};\n\t\t\n\n\t\tmodule.exports = descriptionPlugin;\n \n153 changes: 153 additions & 0 deletions\n153  \ndocs/site/src/plugins/framework/index.js\n\t\t@@ -0,0 +1,153 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\t// Plugin copies files from specified directories into the\n\t\t// references/framework directory. Formats the nav listing\n\t\t// and processes files so they still work in the crates/.../docs\n\t\t// directory on github. Source files are created via cargo docs.\n\t\t\n\n\t\timport path from \"path\";\n\t\timport fs from \"fs\";\n\t\t\n\n\t\tconst FRAMEWORK_PATH = path.join(\n\t\t  __dirname,\n\t\t  \"../../../../../crates/sui-framework/docs/sui-framework\",\n\t\t);\n\t\tconst STDLIB_PATH = path.join(\n\t\t  __dirname,\n\t\t  \"../../../../../crates/sui-framework/docs/move-stdlib\",\n\t\t);\n\t\tconst DEEPBOOK_PATH = path.join(\n\t\t  __dirname,\n\t\t  \"../../../../../crates/sui-framework/docs/deepbook\",\n\t\t);\n\t\tconst SUISYS_PATH = path.join(\n\t\t  __dirname,\n\t\t  \"../../../../../crates/sui-framework/docs/sui-system\",\n\t\t);\n\t\tconst DOCS_PATH = path.join(\n\t\t  __dirname,\n\t\t  \"../../../../content/references/framework\",\n\t\t);\n\t\t\n\n\t\t\n\n\t\tconst frameworkPlugin = (context, options) => {\n\t\t  return {\n\t\t    name: \"sui-framework-plugin\",\n\t\t\n\n\t\t    async loadContent() {\n\t\t      // framework folder is added to gitignore, so should only exist locally.\n\t\t      // Clearing the folder programmatically messes up the watch dev build,\n\t\t      // so only do it when the directory is missing. Should never exist on vercel.\n\t\t      if (fs.existsSync(DOCS_PATH)) {\n\t\t        console.log(\n\t\t          \"\\n******\\nSkipping framework doc build. If you want to rebuild, delete the framework folder before restarting the server.\\n******\",\n\t\t        );\n\t\t        return;\n\t\t      } else {\n\t\t        fs.mkdirSync(DOCS_PATH);\n\t\t      }\n\t\t      const recurseFiles = (dirPath, files = []) => {\n\t\t        const f = fs.readdirSync(dirPath, { withFileTypes: true });\n\t\t        // Copy md files from provided directory.\n\t\t        f.forEach((file) => {\n\t\t          const fp = path.join(dirPath, file.name);\n\t\t          if (file.isDirectory()) {\n\t\t            recurseFiles(fp, files);\n\t\t          } else if (file.isFile() && path.extname(file.name) === \".md\") {\n\t\t            files.push(fp);\n\t\t          }\n\t\t        });\n\t\t\n\n\t\t        return files;\n\t\t      };\n\t\t\n\n\t\t      const frameworkFiles = recurseFiles(FRAMEWORK_PATH);\n\t\t      const stdlibFiles = recurseFiles(STDLIB_PATH);\n\t\t      const deepbookFiles = recurseFiles(DEEPBOOK_PATH);\n\t\t      const suisysFiles = recurseFiles(SUISYS_PATH);\n\t\t      const allFiles = [\n\t\t        frameworkFiles,\n\t\t        stdlibFiles,\n\t\t        deepbookFiles,\n\t\t        suisysFiles,\n\t\t      ];\n\t\t      allFiles.forEach((theseFiles) => {\n\t\t        theseFiles.forEach((file) => {\n\t\t          const markdown = fs.readFileSync(file, \"utf8\");\n\t\t          // .md extension in links messes up routing.\n\t\t          // Removing here so linking still works in github crates/docs.\n\t\t          // Remove the backticks from title.\n\t\t          // Remove code blocks without pre's. Render automatically adds\n\t\t          // pre element that messes up formatting.\n\t\t          // Remove empty code blocks because it looks lame.\n\t\t          const reMarkdown = markdown\n\t\t            .replace(/<a\\s+(.*?)\\.md(.*?)>/g, `<a $1$2>`)\n\t\t            .replace(\n\t\t              /(title: .*)Module `(0x[1-9a-f]{1,4}::)(.*)`/g,\n\t\t              `$1 Module $2$3\\nsidebar_label: $3`,\n\t\t            )\n\t\t            .replace(/(?<!<pre>)<code>(.*?)<\\/code>/gs, `$1`)\n\t\t            .replace(/<pre><code><\\/code><\\/pre>/g, \"\");\n\t\t          const filename = file.replace(/.*\\/docs\\/(.*)$/, `$1`);\n\t\t          const parts = filename.split(\"/\");\n\t\t          const fileWrite = path.join(DOCS_PATH, filename);\n\t\t          let newDir = DOCS_PATH;\n\t\t\n\n\t\t          // Should work for nested docs, but is currently flat tree.\n\t\t          parts.forEach((part) => {\n\t\t            if (!part.match(/\\.md$/)) {\n\t\t              // Capitalize lib name for nav.\n\t\t              let styledPart = part\n\t\t                .split(\"-\")\n\t\t                .map(\n\t\t                  (word) =>\n\t\t                    word.charAt(0).toUpperCase() + word.slice(1).toLowerCase(),\n\t\t                )\n\t\t                .join(\" \");\n\t\t\n\n\t\t              newDir = path.join(newDir, part);\n\t\t\n\n\t\t              if (!fs.existsSync(newDir)) {\n\t\t                fs.mkdirSync(newDir);\n\t\t                // Create file that handles nav label. Only run once at dir create.\n\t\t                const catfile = path.join(newDir, \"_category_.json\");\n\t\t                fs.writeFile(\n\t\t                  catfile,\n\t\t                  JSON.stringify({\n\t\t                    label: styledPart,\n\t\t                    link: {\n\t\t                      type: \"generated-index\",\n\t\t                      slug: path.join(\"/references/framework\", part),\n\t\t                      description: `Documentation for the modules in the sui/crates/sui-framework/packages/${part} crate. Select a module from the list to see its details.`,\n\t\t                    },\n\t\t                  }),\n\t\t                  \"utf8\",\n\t\t                  (err) => {\n\t\t                    if (err) {\n\t\t                      console.error(\n\t\t                        \"An error occurred creating category file:\",\n\t\t                        err,\n\t\t                      );\n\t\t                      return;\n\t\t                    }\n\t\t                  },\n\t\t                );\n\t\t              }\n\t\t            }\n\t\t          });\n\t\t          fs.writeFileSync(fileWrite, reMarkdown, \"utf8\", (err) => {\n\t\t            if (err) {\n\t\t              console.error(\"An error occurred creating framework file:\", err);\n\t\t              return;\n\t\t            }\n\t\t          });\n\t\t        });\n\t\t      });\n\t\t\n\n\t\t      return;\n\t\t    },\n\t\t  };\n\t\t};\n\t\t\n\n\t\tmodule.exports = frameworkPlugin;\n \n92 changes: 92 additions & 0 deletions\n92  \ndocs/site/src/theme/DocCard/index.js\n\t\t@@ -0,0 +1,92 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\timport React from \"react\";\n\t\timport clsx from \"clsx\";\n\t\timport Link from \"@docusaurus/Link\";\n\t\timport {\n\t\t  findFirstSidebarItemLink,\n\t\t  useDocById,\n\t\t} from \"@docusaurus/theme-common/internal\";\n\t\timport isInternalUrl from \"@docusaurus/isInternalUrl\";\n\t\timport { translate } from \"@docusaurus/Translate\";\n\t\timport Heading from \"@theme/Heading\";\n\t\timport styles from \"./styles.module.css\";\n\t\tfunction CardContainer({ href, children }) {\n\t\t  return (\n\t\t    <Link\n\t\t      href={href}\n\t\t      className={clsx(\"card padding--sm\", styles.cardContainer)}\n\t\t    >\n\t\t      {children}\n\t\t    </Link>\n\t\t  );\n\t\t}\n\t\tfunction CardLayout({ href, icon, title, description }) {\n\t\t  return (\n\t\t    <CardContainer href={href}>\n\t\t      <Heading\n\t\t        as=\"h2\"\n\t\t        className={clsx(\"text--truncate\", styles.cardTitle)}\n\t\t        title={title}\n\t\t      >\n\t\t        {icon} {title}\n\t\t      </Heading>\n\t\t      {description && (\n\t\t        <p\n\t\t          className={clsx(\"text--truncate\", styles.cardDescription)}\n\t\t          title={description}\n\t\t        >\n\t\t          {description}\n\t\t        </p>\n\t\t      )}\n\t\t    </CardContainer>\n\t\t  );\n\t\t}\n\t\tfunction CardCategory({ item }) {\n\t\t  const href = findFirstSidebarItemLink(item);\n\t\t  // Unexpected: categories that don't have a link have been filtered upfront\n\t\t  if (!href) {\n\t\t    return null;\n\t\t  }\n\t\t  return (\n\t\t    <CardLayout\n\t\t      href={href}\n\t\t      icon=\"🗃️\"\n\t\t      title={item.label}\n\t\t      description={\n\t\t        item.description ??\n\t\t        translate(\n\t\t          {\n\t\t            message: \"{count} items\",\n\t\t            id: \"theme.docs.DocCard.categoryDescription\",\n\t\t            description:\n\t\t              \"The default description for a category card in the generated index about how many items this category includes\",\n\t\t          },\n\t\t          { count: item.items.length },\n\t\t        )\n\t\t      }\n\t\t    />\n\t\t  );\n\t\t}\n\t\tfunction CardLink({ item }) {\n\t\t  const icon = isInternalUrl(item.href) ? \"⚙️\" : \"🔗\";\n\t\t  const doc = useDocById(item.docId ?? undefined);\n\t\t  return (\n\t\t    <CardLayout\n\t\t      href={item.href}\n\t\t      icon={icon}\n\t\t      title={item.label}\n\t\t      description={item.description ?? doc?.description}\n\t\t    />\n\t\t  );\n\t\t}\n\t\texport default function DocCard({ item }) {\n\t\t  switch (item.type) {\n\t\t    case \"link\":\n\t\t      return <CardLink item={item} />;\n\t\t    case \"category\":\n\t\t      return <CardCategory item={item} />;\n\t\t    default:\n\t\t      throw new Error(`unknown item type ${JSON.stringify(item)}`);\n\t\t  }\n\t\t}\n \n29 changes: 29 additions & 0 deletions\n29  \ndocs/site/src/theme/DocCard/styles.module.css\n\t\t@@ -0,0 +1,29 @@\n\t\t.cardContainer {\n\t\t  --ifm-link-color: var(--ifm-color-emphasis-800);\n\t\t  --ifm-link-hover-color: var(--ifm-color-emphasis-700);\n\t\t  --ifm-link-hover-decoration: none;\n\t\t\n\n\t\t  box-shadow: 0 1.5px 3px 0 rgb(0 0 0 / 15%);\n\t\t  border: 1px solid var(--ifm-color-emphasis-200);\n\t\t  transition: all var(--ifm-transition-fast) ease;\n\t\t  transition-property: border, box-shadow;\n\t\t}\n\t\t\n\n\t\t.cardContainer:hover {\n\t\t  border-color: var(--ifm-color-primary);\n\t\t  box-shadow: 0 3px 6px 0 rgb(0 0 0 / 20%);\n\t\t}\n\t\t\n\n\t\t.cardContainer *:last-child {\n\t\t  margin-bottom: 0;\n\t\t}\n\t\t\n\n\t\t.cardTitle {\n\t\t  font-size: 1.1rem;\n\t\t  margin-bottom: 0;\n\t\t}\n\t\t\n\n\t\t.cardDescription {\n\t\t  font-size: 0.8rem;\n\t\t  display: none;\n\t\t}\n \n29 changes: 29 additions & 0 deletions\n29  \ndocs/site/src/theme/DocCardList/index.js\n\t\t@@ -0,0 +1,29 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\timport React from \"react\";\n\t\timport clsx from \"clsx\";\n\t\timport {\n\t\t  useCurrentSidebarCategory,\n\t\t  filterDocCardListItems,\n\t\t} from \"@docusaurus/theme-common\";\n\t\timport DocCard from \"@theme/DocCard\";\n\t\tfunction DocCardListForCurrentSidebarCategory({ className }) {\n\t\t  const category = useCurrentSidebarCategory();\n\t\t  return <DocCardList items={category.items} className={className} />;\n\t\t}\n\t\texport default function DocCardList(props) {\n\t\t  const { items, className } = props;\n\t\t  if (!items) {\n\t\t    return <DocCardListForCurrentSidebarCategory {...props} />;\n\t\t  }\n\t\t  const filteredItems = filterDocCardListItems(items);\n\t\t  return (\n\t\t    <section className={clsx(\"row\", className)}>\n\t\t      {filteredItems.map((item, index) => (\n\t\t        <article key={index} className=\"col col--4 margin-bottom--sm\">\n\t\t          <DocCard item={item} />\n\t\t        </article>\n\t\t      ))}\n\t\t    </section>\n\t\t  );\n\t\t}\n \n18 changes: 18 additions & 0 deletions\n18  \ndocs/site/src/theme/MDXContent/index.js\n\t\t@@ -0,0 +1,18 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\timport React from \"react\";\n\t\timport { MDXProvider } from \"@mdx-js/react\";\n\t\timport MDXComponents from \"@theme/MDXComponents\";\n\t\timport Tabs from \"@theme/Tabs\";\n\t\timport TabItem from \"@theme/TabItem\";\n\t\timport { Card, Cards } from \"@site/src/components/Cards\";\n\t\texport default function MDXContent({ children }) {\n\t\t  const suiComponents = {\n\t\t    ...MDXComponents,\n\t\t    Card,\n\t\t    Cards,\n\t\t    Tabs,\n\t\t    TabItem,\n\t\t  };\n\t\t  return <MDXProvider components={suiComponents}>{children}</MDXProvider>;\n\t\t}\n  \n2 changes: 1 addition & 1 deletion\n2  \ndocs/site/src/theme/Navbar/ColorModeToggle/styles.module.css\n\t@@ -3,4 +3,4 @@\n\t\t}\n\t\t.darkNavbarColorModeToggle:hover {\n\t\t  background: var(--ifm-color-gray-800);\n\t\t}\n\t\t}\n \n34 changes: 0 additions & 34 deletions\n34  \ndocs/site/src/theme/Navbar/MobileSidebar/Header/index.js\nLoad diff\n\nThis file was deleted.\n\n \n25 changes: 0 additions & 25 deletions\n25  \ndocs/site/src/theme/Navbar/MobileSidebar/Layout/index.js\nLoad diff\n\nThis file was deleted.\n\n \n29 changes: 0 additions & 29 deletions\n29  \ndocs/site/src/theme/Navbar/MobileSidebar/PrimaryMenu/index.js\nLoad diff\n\nThis file was deleted.\n\n \n33 changes: 0 additions & 33 deletions\n33  \ndocs/site/src/theme/Navbar/MobileSidebar/SecondaryMenu/index.js\nLoad diff\n\nThis file was deleted.\n\n \n25 changes: 0 additions & 25 deletions\n25  \ndocs/site/src/theme/Navbar/MobileSidebar/Toggle/index.js\nLoad diff\n\nThis file was deleted.\n\n \n25 changes: 0 additions & 25 deletions\n25  \ndocs/site/src/theme/Navbar/MobileSidebar/index.js\nLoad diff\n\nThis file was deleted.\n\n  \n17 changes: 16 additions & 1 deletion\n17  \ndocs/site/src/theme/Navbar/Search/styles.module.css\n\t\t@@ -1,3 +1,18 @@\n\t\t/*\n\t\tWorkaround to avoid rendering empty search container\n\t\tSee https://github.com/facebook/docusaurus/pull/9385\n\t\t*/\n\t\t/*\n\t\tTODO temporary @supports check, remove before 2025\n\t\tonly needed for Firefox < 121\n\t\tsee https://github.com/facebook/docusaurus/issues/9527#issuecomment-1805272379\n\t\t */\n\t\t@supports selector(:has(*)) {\n\t\t  .navbarSearchContainer:not(:has(> *)) {\n\t\t    display: none;\n\t\t  }\n\t\t}\n\t\t\n\n\t\t@media (max-width: 996px) {\n\t\t  .searchBox {\n\t\t    position: absolute;\n\n\t@@ -12,4 +27,4 @@\n\t\t    display: flex;\n\t\t    column-gap: 1rem;\n\t\t  }\n\t\t}\n\t\t}\n  \n17 changes: 14 additions & 3 deletions\n17  \ndocs/site/src/theme/Navbar/index.js\n\t@@ -3,10 +3,21 @@\n\t\timport React from \"react\";\n\t\timport NavbarLayout from \"@theme/Navbar/Layout\";\n\t\timport NavbarContent from \"@theme/Navbar/Content\";\n\t\timport {\n\t\t  NavbarProvider,\n\t\t  ScrollControllerProvider,\n\t\t  ColorModeProvider,\n\t\t} from \"@docusaurus/theme-common/internal\";\n\t\texport default function Navbar() {\n\t\t  return (\n\t\t    <NavbarLayout>\n\t\t      <NavbarContent />\n\t\t    </NavbarLayout>\n\t\t    <NavbarProvider>\n\t\t      <ScrollControllerProvider>\n\t\t        <ColorModeProvider>\n\t\t          <NavbarLayout>\n\t\t            <NavbarContent />\n\t\t          </NavbarLayout>\n\t\t        </ColorModeProvider>\n\t\t      </ScrollControllerProvider>\n\t\t    </NavbarProvider>\n\t\t  );\n\t\t}\n0 comments on commit 2b92a11\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "sui/Cargo.lock at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/blob/main/Cargo.lock",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nconsensus\ncrates\ndapps\ndashboards\ndoc\ndocker\ndocs\nexamples\nexternal-crates\nkiosk\nnarwhal\nnre\nscripts\nsdk\nsui-execution\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui\n/Cargo.lock\nLatest commit\ntzakian\n[cleanup][move] A bit of cleaning in language storage and removing re…\nb8dfe64\n · \nHistory\nHistory\nFile metadata and controls\nCode\nBlame\n16475 lines (15193 loc) · 352 KB\nRaw\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n16402\n16403\n16404\n16405\n16406\n16407\n16408\n16409\n16410\n16411\n16412\n16413\n16414\n16415\n16416\n16417\n16418\n16419\n16420\n16421\n16422\n16423\n16424\n16425\n16426\n16427\n16428\n16429\n16430\n16431\n16432\n16433\n16434\n16435\n16436\n16437\n16438\n16439\n16440\n16441\n16442\n16443\n16444\n16445\n16446\n16447\n16448\n16449\n16450\n16451\n16452\n16453\n16454\n16455\n16456\n16457\n16458\n16459\n16460\n16461\n16462\n16463\n16464\n16465\n16466\n16467\n16468\n16469\n16470\n16471\n16472\n16473\n16474\n16475"
    },
    {
      "title": "[Docs] Update link to reseach in README.md by amnn · Pull Request #17437 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/17437",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\n[Docs] Update link to reseach in README.md #17437\n Merged\namnn merged 1 commit into main from amnn/readme-research \n+1 −1 \n Conversation 1\n Commits 1\n Checks 46\n Files changed 1\nConversation\nContributor\namnn commented \nDescription\n\nAs in title\n\nFixes #17436\n\nTest plan\n\n👀\n\nRelease notes\n\nCheck each box that your changes affect. If none of the boxes relate to your changes, release notes aren't required.\n\nFor each box you select, include information after the relevant heading that describes the impact of your changes that a user might notice and any actions they must take to implement updates.\n\n Protocol:\n Nodes (Validators and Full nodes):\n Indexer:\n JSON-RPC:\n GraphQL:\n CLI:\n Rust SDK:\n[Docs] Update link to reseach in README.md\nVerified\nde3a51f\n amnn requested a review from a team \n amnn self-assigned this \n amnn requested a review from ronny-mysten as a code owner \nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nsui-docs\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMay 1, 2024 0:55am\n3 Ignored Deployments\n vercel bot deployed to Preview – sui-docs \nView deployment\nronny-mysten approved these changes \nView reviewed changes\nView details\n amnn merged commit 9283fc5 into main \n50 checks passed\n amnn deleted the amnn/readme-research branch \nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\nronny-mysten\n\nAssignees\n\namnn\n\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\n Sui doc content issue or request - Link broken in README.md\n2 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "sui/README.md at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/blob/main/README.md",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nconsensus\ncrates\ndapps\ndashboards\ndoc\ndocker\ndocs\nexamples\nexternal-crates\nkiosk\nnarwhal\nnre\nscripts\nsdk\nsui-execution\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui\n/README.md\nLatest commit\namnn\n[Docs] Update link to reseach in README.md (#17437)\n9283fc5\n · \nHistory\nHistory\nFile metadata and controls\nPreview\nCode\nBlame\n58 lines (41 loc) · 4.15 KB · \nRaw\n\nWelcome to Sui\n\nSui is a next-generation smart contract platform with high throughput, low latency, and an asset-oriented programming model powered by the Move programming language.\n\nSui Highlights\n\nSui offers the following benefits and capabilities:\n\nUnmatched scalability, instant settlement\nA safe smart contract language accessible to mainstream developers\nAbility to define rich and composable on-chain assets\nBetter user experience for web3 apps\n\nSui is the only blockchain today that can scale with the growth of web3 while achieving industry-leading performance, cost, programmability, and usability. As Sui approaches Mainnet launch, it will demonstrate capacity beyond the transaction processing capabilities of established systems – traditional and blockchain alike. Sui is the first internet-scale programmable blockchain platform, a foundational layer for web3.\n\nSui Architecture\nSui Overview\n\nSui is a smart contract platform maintained by a permissionless set of authorities that play a role similar to validators or miners in other blockchain systems.\n\nSui offers scalability and unprecedented low-latency for common use cases. Sui makes the vast majority of transactions processable in parallel, which makes better use of processing resources, and offers the option to increase throughput with more resources. Sui forgoes consensus to instead use simpler and lower-latency primitives for common use cases, such as payment transactions and asset transfers. This is unprecedented in the blockchain world and enables a number of new latency-sensitive distributed applications, ranging from gaming to retail payment at physical points of sale.\n\nSui is written in Rust and supports smart contracts written in the Move programming language to define assets that may have an owner. Move programs define operations on these assets including custom rules for their creation, the transfer of these assets to new owners, and operations that mutate assets.\n\nSui has a native token called SUI, with a fixed supply. The SUI token is used to pay for gas, and is also used as delegated stake on authorities within an epoch. The voting power of authorities within this epoch is a function of this delegated stake. Authorities are periodically reconfigured according to the stake delegated to them. In any epoch, the set of authorities is Byzantine fault tolerant. At the end of the epoch, fees collected through all transactions processed are distributed to authorities according to their contribution to the operation of the system. Authorities can in turn share some of the fees as rewards to users that delegated stakes to them.\n\nSui is backed by a number of state-of-the-art peer-reviewed works and years of open source development.\n\nMore About Sui\n\nUse the following links to learn more about Sui and the Sui ecosystem:\n\nLearn more about working with Sui in the Sui Documentation.\nJoin the Sui community on Sui Discord.\nFind out more about the Sui ecosystem on the Sui Resources page.\nReview information about Sui governance, decentralization, and Developer Grants Program on the Sui Foundation site."
    },
    {
      "title": "[Docs] Update link to reseach in README.md (#17437) · MystenLabs/sui@9283fc5 · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/9283fc59b844d890324303750ae476bd7b6a13a7",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\n[Docs] Update link to reseach in README.md (#17437)\nBrowse files\n## Description \n\nAs in title\n\nFixes #17436 \n\n## Test plan \n\n:eyes:\n\n---\n\n## Release notes\n\nCheck each box that your changes affect. If none of the boxes relate to\nyour changes, release notes aren't required.\n\nFor each box you select, include information after the relevant heading\nthat describes the impact of your changes that a user might notice and\nany actions they must take to implement updates.\n\n- [ ] Protocol: \n- [ ] Nodes (Validators and Full nodes): \n- [ ] Indexer: \n- [ ] JSON-RPC: \n- [ ] GraphQL: \n- [ ] CLI: \n- [ ] Rust SDK:\n main (#17437)\n testnet-v1.25.0 \n…\n devnet-v1.25.0\namnn committed  \nVerified\n1 parent bb02e4b\ncommit 9283fc5\nShowing 1 changed file with 1 addition and 1 deletion.\nWhitespace\nIgnore whitespace\nSplit\nUnified\n  \n2 changes: 1 addition & 1 deletion\n2  \nREADME.md\n\t@@ -46,7 +46,7 @@ Sui is written in [Rust](https://www.rust-lang.org) and supports smart contracts\n\t\t\n\n\t\tSui has a native token called SUI, with a fixed supply. The SUI token is used to pay for gas, and is also used as [delegated stake on authorities](https://learn.bybit.com/blockchain/delegated-proof-of-stake-dpos/) within an epoch. The voting power of authorities within this epoch is a function of this delegated stake. Authorities are periodically reconfigured according to the stake delegated to them. In any epoch, the set of authorities is [Byzantine fault tolerant](https://pmg.csail.mit.edu/papers/osdi99.pdf). At the end of the epoch, fees collected through all transactions processed are distributed to authorities according to their contribution to the operation of the system. Authorities can in turn share some of the fees as rewards to users that delegated stakes to them.\n\t\t\n\n\t\tSui is backed by a number of state-of-the-art [peer-reviewed works](https://github.com/MystenLabs/sui/blob/main/docs/content/references/research-papers.mdx) and years of open source development.\n\t\tSui is backed by a number of state-of-the-art [peer-reviewed works](https://github.com/MystenLabs/sui/blob/main/docs/content/concepts/research-papers.mdx) and years of open source development.\n\t\t\n\n\t\t## More About Sui\n\t\t\n\n\n\t\n0 comments on commit 9283fc5\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "sui/CONTRIBUTING.md at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/blob/main/CONTRIBUTING.md",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nconsensus\ncrates\ndapps\ndashboards\ndoc\ndocker\ndocs\nexamples\nexternal-crates\nkiosk\nnarwhal\nnre\nscripts\nsdk\nsui-execution\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui\n/CONTRIBUTING.md\nLatest commit\nronny-mysten\nand\nmlegner\n[docs] Update CONTRIBUTING.md (#16149)\n26a227c\n · \nHistory\nHistory\nFile metadata and controls\nPreview\nCode\nBlame\n17 lines (9 loc) · 1.46 KB · \nRaw\nContributors\n\nThanks for considering making a contribution to the Sui network or its documentation. The Sui monorepo houses the code that powers and documents the Sui blockchain.\n\nContribute to Sui\n\nSee Sui Environment Setup for approach to submitting code fixes and enhancements.\n\nIf you want to contribute code that creates a feature on Sui, start with a Sui Improvement Proposal before developing the logic.\n\nFound a bug or security vulnerability? Create a GitHub issue.\n\nFound a small error or typo in the documentation? Each page on the sui.docs.io site includes an Edit this page link at the bottom that you can use to edit the page in GitHub. The content is located in the docs/content directory of the Sui repo, so you can make a usual PR if you prefer.\n\nFor larger documentation issues, you can create an issue in GitHub. To fix the problem yourself, follow the documentation contribution guidelines.\n\nWant to contribute to the Sui framework? See CONTRIBUTING.md for information related to sui-framework crate contributions."
    },
    {
      "title": "[docs] Update CONTRIBUTING.md by ronny-mysten · Pull Request #16149 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/16149",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\n[docs] Update CONTRIBUTING.md #16149\n Merged\nronny-mysten merged 9 commits into MystenLabs:main from ronny-mysten:DOCS-321 \n+30 −53 \n Conversation 9\n Commits 9\n Checks 35\n Files changed 6\nConversation\nContributor\nronny-mysten commented \nDescription\n\nDescribe the changes or additions included in this PR.\n\nTest Plan\n\nHow did you test the new or updated feature?\n\nIf your changes are not user-facing and do not break anything, you can skip the following section. Otherwise, please briefly describe what has changed under the Release Notes section.\n\nType of Change (Check all that apply)\n protocol change\n user-visible impact\n breaking change for a client SDKs\n breaking change for FNs (FN binary must upgrade)\n breaking change for validators or node operators (must upgrade binaries)\n breaking change for on-chain data layout\n necessitate either a data wipe or data migration\nRelease notes\nronny-mysten added 2 commits \nUpdate content\nVerified\nfbfb70d\nIssues have been automated\nVerified\nbf40e35\n ronny-mysten requested a review from mlegner \nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nmysten-ui\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tFeb 12, 2024 9:20pm\nsui-core\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tFeb 12, 2024 9:20pm\nsui-typescript-docs\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tFeb 12, 2024 9:20pm\n3 Ignored Deployments\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\n vercel bot deployed to Preview – mysten-ui \nView deployment\nmlegner reviewed \nView reviewed changes\nCONTRIBUTING.md\nShow resolved\nContributor\nmlegner commented \n\n@ronny-mysten I just noticed that the link in the CODE_OF_CONDUCT.MD file to the documentation is also broken. Maybe we can fix that as well? 🙂\n\nUpdating links\nVerified\nc0ffe26\n ronny-mysten requested a review from a team as a code owner \n ronny-mysten requested a review from mlegner \nContributor\ngithub-actions bot commented  • \nedited \n\n⚠️ 🦋 Changesets Warning: This PR has changes to public npm packages, but does not contain a changeset. You can create a changeset easily by running pnpm changeset in the root of the Sui repo, and following the prompts. If your change does not need a changeset (e.g. a documentation-only change), you can ignore this message. This warning will be removed when a changeset is added to this pull request.\n\nLearn more about Changesets.\n\n vercel bot deployed to Preview – sui-core \nView deployment\n vercel bot deployed to Preview – mysten-ui \nView deployment\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\nfull urls\nVerified\ne0c0cfc\n vercel bot deployed to Preview – sui-core \nView deployment\n vercel bot deployed to Preview – mysten-ui \nView deployment\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\nLint\nVerified\nba7453b\n vercel bot deployed to Preview – sui-core \nView deployment\n vercel bot deployed to Preview – mysten-ui \nView deployment\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\nmlegner approved these changes \nView reviewed changes\nsdk/typescript/README.md\nOutdated\nShow resolved\nsdk/typescript/README.md\nOutdated\nShow resolved\nsdk/typescript/README.md\nOutdated\nShow resolved\nronny-mysten and others added 3 commits \nUpdate sdk/typescript/README.md …\nVerified\n46b2337\nUpdate sdk/typescript/README.md …\nVerified\nb162c2c\nUpdate sdk/typescript/README.md …\nVerified\n5f8aa63\n ronny-mysten enabled auto-merge (squash) \nContributor\nAuthor\nronny-mysten commented  • \nedited \n\nI believe there's an extra whitespace in the link (also below)\n\nI was testing you. You passed.\n\n1\n vercel bot deployed to Preview – sui-core \nView deployment\n vercel bot deployed to Preview – mysten-ui \nView deployment\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\nLint and cappy fix\nVerified\nad2aaf2\n vercel bot deployed to Preview – sui-core \nView deployment\n vercel bot deployed to Preview – mysten-ui \nView deployment\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\nView details\n ronny-mysten merged commit 26a227c into MystenLabs:main \n41 checks passed\nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\nmlegner\n\nAssignees\nNo one assigned\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n2 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "sui/CODE_OF_CONDUCT.MD at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/blob/main/CODE_OF_CONDUCT.MD",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nconsensus\ncrates\ndapps\ndashboards\ndoc\ndocker\ndocs\nexamples\nexternal-crates\nkiosk\nnarwhal\nnre\nscripts\nsdk\nsui-execution\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui\n/CODE_OF_CONDUCT.MD\nLatest commit\nronny-mysten\nand\nmlegner\n[docs] Update CONTRIBUTING.md (#16149)\n26a227c\n · \nHistory\nHistory\nFile metadata and controls\nPreview\nCode\nBlame\n26 lines (19 loc) · 1.16 KB\nRaw\nSui Code of Conduct\n\nSui as an open source project encourages free discussion rooted in respect. We endeavor to always be mindful of others' perspectives and ask all fellow contributors to do the same. We welcome you to the Sui platform and ask you to help us grow it with relevant, on-point contributions.\n\nOur pledge\n\nWe as members, contributors, and leaders pledge to make participation in our community a harassment-free experience for everyone, regardless of age, body size, visible or invisible disability, ethnicity, sex characteristics, gender identity and expression, level of experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, or sexual identity and orientation.\n\nWe pledge to act and interact in ways that contribute to an open, welcoming, diverse, inclusive, and healthy community.\n\nMore information\n\nSee the central Sui Code of Conduct for full details.\n\nOur Code of Conduct is adapted from the Contributor Covenant version 2.1."
    },
    {
      "title": "[docs] Update CONTRIBUTING.md (#16149) · MystenLabs/sui@26a227c · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/26a227c3192177c3b88c947463dbb2bf96b4bc35",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\n[docs] Update CONTRIBUTING.md (#16149)\nBrowse files\n## Description \n\nDescribe the changes or additions included in this PR.\n\n## Test Plan \n\nHow did you test the new or updated feature?\n\n---\nIf your changes are not user-facing and do not break anything, you can\nskip the following section. Otherwise, please briefly describe what has\nchanged under the Release Notes section.\n\n### Type of Change (Check all that apply)\n\n- [ ] protocol change\n- [ ] user-visible impact\n- [ ] breaking change for a client SDKs\n- [ ] breaking change for FNs (FN binary must upgrade)\n- [ ] breaking change for validators or node operators (must upgrade\nbinaries)\n- [ ] breaking change for on-chain data layout\n- [ ] necessitate either a data wipe or data migration\n\n### Release notes\n\n---------\n\nCo-authored-by: Markus Legner <mlegner@users.noreply.github.com>\n Loading branch information\nronny-mysten and mlegner committed  \nVerified\n1 parent 62cbacb\ncommit 26a227c\n \nShowing 6 changed files with 30 additions and 53 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nISSUES.md\ncrates\nsui-sdk\nREADME.md\nsui-types/src\nREADME.md\nsdk/typescript\nREADME.md\n  \n2 changes: 1 addition & 1 deletion\n2  \nCODE_OF_CONDUCT.MD\n\t@@ -19,7 +19,7 @@ diverse, inclusive, and healthy community.\n\t\t\n\n\t\t## More information\n\t\t\n\n\t\tSee the central [Sui Code of Conduct](doc/src/contribute/code-of-conduct.md) for\n\t\tSee the central [Sui Code of Conduct](https://github.com/MystenLabs/sui/blob/main/docs/content/references/contribute/code-of-conduct.mdx) for\n\t\tfull details.\n\t\t\n\n\t\tOur Code of Conduct is adapted from the\n\n\t\n \n16 changes: 12 additions & 4 deletions\n16  \nCONTRIBUTING.md\n\t\t@@ -1,9 +1,17 @@\n\t\t# Contributors\n\t\t\n\n\t\t## How to Contribute\n\t\tThanks for considering making a contribution to the Sui network or its documentation. The Sui monorepo houses the code that powers and documents the Sui blockchain. \n\t\t\n\n\t\tSee [Contributing to Sui](doc/src/contribute/index.md) for instructions on helping Sui grow.\n\t\t## Contribute to Sui\n\t\t\n\n\t\tSee [ISSUES.md](./ISSUES.md) for filing bug reports.\n\t\tSee [Sui Environment Setup](https://github.com/MystenLabs/sui/blob/main/docs/content/guides/developer/getting-started/sui-environment.mdx) for approach to submitting code fixes and enhancements.\n\t\t\n\n\t\tSee [CONTRIBUTING.md](./crates/sui-framework/CONTRIBUTING.md) for information related to `sui-framework` crate contributions..\n\t\tIf you want to contribute code that creates a feature on Sui, start with a [Sui Improvement Proposal](https://github.com/sui-foundation/sips/tree/main) before developing the logic.\n\t\t\n\n\t\tFound a bug or security vulnerability? Create a [GitHub issue](https://github.com/MystenLabs/sui/issues/new/choose). \n\t\t\n\n\t\tFound a small error or typo in the documentation? Each page on the [sui.docs.io](https://sui.docs.io) site includes an **Edit this page** link at the bottom that you can use to edit the page in GitHub. The content is located in the docs/content directory of the Sui repo, so you can make a usual PR if you prefer. \n\t\t\n\n\t\tFor larger documentation issues, you can [create an issue](https://github.com/MystenLabs/sui/issues/new/choose) in GitHub. To fix the problem yourself, follow the [documentation contribution](./docs/content/references/contribute/contribution-process.mdx) guidelines.\n\t\t\n\n\t\tWant to contribute to the Sui framework? See [CONTRIBUTING.md](https://github.com/MystenLabs/sui/blob/main/crates/sui-framework/CONTRIBUTING.md) for information related to `sui-framework` crate contributions.\n \n32 changes: 0 additions & 32 deletions\n32  \nISSUES.md\nLoad diff\n\nThis file was deleted.\n\n  \n10 changes: 5 additions & 5 deletions\n10  \ncrates/sui-sdk/README.md\n\t@@ -160,18 +160,18 @@ See the programmable transactions [example](https://github.com/MystenLabs/sui/bl\n\t\t### Tic Tac Toe quick start\n\t\t\n\n\t\t1. Prepare the environment \n\t\t   1. Install `sui` binary following the [Sui installation](https://github.com/MystenLabs/sui/blob/main/doc/src/build/install.md##install-sui-binaries) docs.\n\t\t   1. [Connect to Sui Devnet](https://github.com/MystenLabs/sui/blob/main/doc/src/build/connect-sui-network.md).\n\t\t   1. [Make sure you have two addresses with gas](https://github.com/MystenLabs/sui/blob/main/doc/src/build/cli-client.md#add-existing-accounts-to-clientyaml) by using the `new-address` command to create new addresses:\n\t\t   1. Install `sui` binary following the [Sui installation](https://github.com/MystenLabs/sui/blob/main/docs/content/guides/developer/getting-started/sui-install.mdx) docs.\n\t\t   1. [Connect to Sui Devnet](https://github.com/MystenLabs/sui/blob/main/docs/content/guides/developer/getting-started/connect.mdx).\n\t\t   1. [Make sure you have two addresses with gas](https://github.com/MystenLabs/sui/blob/main/docs/content/guides/developer/getting-started/get-address.mdx) by using the `new-address` command to create new addresses:\n\t\t      ```shell\n\t\t      sui client new-address ed25519\n\t\t      ```\n\t\t      You must specify the key scheme, one of `ed25519` or `secp256k1` or `secp256r1`.\n\t\t      You can skip this step if you are going to play with a friend. :)\n\t\t   1. [Request Sui tokens](https://github.com/MystenLabs/sui/blob/main/doc/src/build/install.md#sui-tokens) for all addresses that will be used to join the game.\n\t\t   1. [Request Sui tokens](https://github.com/MystenLabs/sui/blob/main/docs/content/guides/developer/getting-started/get-coins.mdx) for all addresses that will be used to join the game.\n\t\t\n\n\t\t2. Publish the move contract\n\t\t   1. [Download the Sui source code](https://github.com/MystenLabs/sui/blob/main/doc/src/build/install.md#source-code).\n\t\t   1. [Download the Sui source code](https://github.com/MystenLabs/sui/blob/main/docs/content/guides/developer/getting-started/sui-install.mdx).\n\t\t   1. Publish the [`games` package](https://github.com/MystenLabs/sui/tree/main/sui_programmability/examples/games) \n\t\t      using the Sui client:\n\t\t      ```shell\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \ncrates/sui-types/src/README.md\n\t@@ -3,7 +3,7 @@\n\t\tNote: this README file currently covers cryptography-related structs and methods.\n\t\t\n\n\t\tCurrently, three files are equipped with signature and hashing functionality (`crypto.rs`, `signature_seed` and\n\t\t`messages.rs`). See [Sui Signatures](../../../doc/src/learn/cryptography/sui-signatures.md) for supported signature schemes and its requirments for user and authority signatures. See [fastcrypto](https://github.com/MystenLabs/fastcrypto) for concrete implementation of various cryptography libraries.\n\t\t`messages.rs`). See [Sui Signatures](https://github.com/MystenLabs/sui/blob/main/docs/content/concepts/cryptography/transaction-auth/signatures.mdx) for supported signature schemes and its requirments for user and authority signatures. See [fastcrypto](https://github.com/MystenLabs/fastcrypto) for concrete implementation of various cryptography libraries.\n\t\t\n\n\t\t## Quick links\n\t\t\n\n\n\t\n  \n21 changes: 11 additions & 10 deletions\n21  \nsdk/typescript/README.md\n\t@@ -5,20 +5,20 @@ For more complete docs, visit the [Sui TypeScript SDK docs](https://sdk.mystenla\n\t\t# Sui TypeScript SDK\n\t\t\n\n\t\tThis is the Sui TypeScript SDK built on the Sui\n\t\t[JSON RPC API](https://github.com/MystenLabs/sui/blob/main/doc/src/build/json-rpc.md). It provides\n\t\tutility classes and functions for applications to sign transactions and interact with the Sui\n\t\tnetwork.\n\t\t[JSON RPC API](https://github.com/MystenLabs/sui/blob/main/docs/content/references/sui-api.mdx). It\n\t\tprovides utility classes and functions for applications to sign transactions and interact with the\n\t\tSui network.\n\t\t\n\n\t\tWARNING: Note that we are still iterating on the RPC and SDK API before TestNet, therefore please\n\t\texpect frequent breaking changes in the short-term. We expect the API to stabilize after the\n\t\tupcoming TestNet launch.\n\t\t\n\n\t\t## Working with DevNet\n\t\t## Working with Devnet\n\t\t\n\n\t\tThe SDK will be published to [npm registry](https://www.npmjs.com/package/@mysten/sui.js) with the\n\t\tsame bi-weekly release cycle as the DevNet validators and\n\t\t[RPC Server](https://github.com/MystenLabs/sui/blob/main/doc/src/build/json-rpc.md). To use the SDK\n\t\tin your project, you can do:\n\t\tsame bi-weekly release cycle as the Devnet validators and\n\t\t[RPC Server](https://github.com/MystenLabs/sui/blob/main/docs/content/references/sui-api.mdx). To\n\t\tuse the SDK in your project, you can do:\n\t\t\n\n\t\t```bash\n\t\t$ npm install @mysten/sui.js\n\n\t@@ -37,7 +37,8 @@ contain the latest changes from `main`.\n\t\tnpm install @mysten/sui.js@experimental\n\t\t```\n\t\t\n\n\t\tRefer to the [JSON RPC](https://github.com/MystenLabs/sui/blob/main/doc/src/build/json-rpc.md) topic\n\t\tRefer to the\n\t\t[JSON RPC](https://github.com/MystenLabs/sui/blob/main/docs/content/references/sui-api.mdx) topic\n\t\tfor instructions about how to start a local network and local RPC server.\n\t\t\n\n\t\t## Building Locally\n\n\t@@ -92,7 +93,7 @@ Some more follow up here is if you used homebrew to install node, there could be\n\t\tnode on your machine.\n\t\thttps://stackoverflow.com/questions/52676244/node-version-not-updating-after-nvm-use-on-mac\n\t\t\n\n\t\tTo run E2E tests against DevNet\n\t\tTo run E2E tests against Devnet\n\t\t\n\n\t\t```\n\t\tVITE_FAUCET_URL='https://faucet.devnet.sui.io:443/gas' VITE_FULLNODE_URL='https://fullnode.devnet.sui.io' pnpm --filter @mysten/sui.js exec vitest e2e\n\n\t@@ -104,7 +105,7 @@ The `SuiClient` class provides a connection to the JSON-RPC Server and should be\n\t\tread-only operations. The default URLs to connect with the RPC server are:\n\t\t\n\n\t\t- local: http://127.0.0.1:9000\n\t\t- DevNet: https://fullnode.devnet.sui.io\n\t\t- Devnet: https://fullnode.devnet.sui.io\n\t\t\n\n\t\t```typescript\n\t\timport { getFullnodeUrl, SuiClient } from '@mysten/sui.js/client';\n\n\t\n0 comments on commit 26a227c\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Bump crate-ci/typos from 1.14.12 to 1.16.11 by dependabot[bot] · Pull Request #13682 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/13682",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\nBump crate-ci/typos from 1.14.12 to 1.16.11 #13682\n Merged\nronny-mysten merged 2 commits into main from dependabot/github_actions/crate-ci/typos-1.16.11 \n+6 −8 \n Conversation 1\n Commits 2\n Checks 34\n Files changed 4\nConversation\nContributor\ndependabot bot commented on behalf of github \n\nBumps crate-ci/typos from 1.14.12 to 1.16.11.\n\nRelease notes\nChangelog\nCommits\n\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting @dependabot rebase.\n\nDependabot commands and options\nBump crate-ci/typos from 1.14.12 to 1.16.11 …\nVerified\n9229acb\n dependabot bot added dependencies github_actions labels \nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nsui-typescript-docs\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tSep 7, 2023 0:18am\n4 Ignored Deployments\n dependabot bot mentioned this pull request \nbuild(deps): bump crate-ci/typos from 1.14.12 to 1.16.10 #13613\n Closed\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\n vercel bot deployed to Preview – mysten-ui \nView deployment\nchore: tell typos to ignore \"groth\" and fix typos\nVerified\n1a58b93\n mlegner requested review from randall-Mysten and ronny-mysten as code owners \n github-actions bot added the Type: Documentation label \n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\nronny-mysten approved these changes \nView reviewed changes\nView details\n ronny-mysten merged commit e255c33 into main \n39 checks passed\n ronny-mysten deleted the dependabot/github_actions/crate-ci/typos-1.16.11 branch \nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\nronny-mysten\n\nrandall-Mysten\n\nAssignees\nNo one assigned\nLabels\ndependencies\ngithub_actions\nType: Documentation\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n2 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "[docs] Framework docs by ronny-mysten · Pull Request #16844 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/16844",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\n[docs] Framework docs #16844\n Merged\nronny-mysten merged 15 commits into MystenLabs:main from ronny-mysten:frameworkdocs \n+5,704 −2,188 \n Conversation 13\n Commits 15\n Checks 39\n Files changed 123\nConversation\nContributor\nronny-mysten commented  • \nedited \nDescription\nUpdate to Docusaurus 3\nAdd components to global scope so they don't need to be imported in mdx files.\nPut framework docs into site\nFix mdx docs to build properly under d3\nAdd plugin to put descriptions into globaldata\nPut framework docs into move section\nTest Plan\n\nThe PR boils down to what's shown at https://sui-core-git-fork-ronny-mysten-frameworkdocs-sui-foundation.vercel.app/references/framework\n\nIf your changes are not user-facing and do not break anything, you can skip the following section. Otherwise, please briefly describe what has changed under the Release Notes section.\n\nType of Change (Check all that apply)\n protocol change\n user-visible impact\n breaking change for a client SDKs\n breaking change for FNs (FN binary must upgrade)\n breaking change for validators or node operators (must upgrade binaries)\n breaking change for on-chain data layout\n necessitate either a data wipe or data migration\nRelease notes\nronny-mysten added 5 commits \nUpdated libs\nVerified\na749301\nFixed details, added components to global scope\nVerified\n50d5c4f\nFixed details and npm2yarn\nVerified\ndf9e724\nAdded categories\nVerified\nb68aa9a\nUpdated overview\nVerified\neb48ee1\nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nexplorer\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMar 28, 2024 3:41am\nmultisig-toolkit\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMar 28, 2024 3:41am\nmysten-ui\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMar 28, 2024 3:41am\nsui-core\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMar 28, 2024 3:41am\nsui-kiosk\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMar 28, 2024 3:41am\nsui-typescript-docs\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMar 28, 2024 3:41am\n github-actions bot added the Type: Documentation label \n vercel bot deployed to Preview – sui-kiosk \nView deployment\n vercel bot had a problem deploying to Preview – sui-core  Failure\n vercel bot deployed to Preview – explorer \nView deployment\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\n vercel bot deployed to Preview – multisig-toolkit \nView deployment\n vercel bot deployed to Preview – mysten-ui \nView deployment\nronny-mysten commented \nView reviewed changes\ncrates/sui-framework/build.rs\nOutdated\nContributor\nAuthor\n ronny-mysten \n\n@tzakian Doubt this is an issue but want to make sure.\n\nContributor\n tzakian \n\nNot an issue at all! Change LGTM :)\n\n1\nMisc fixes; breaking local to test remote\nVerified\n393f29e\n vercel bot deployed to Preview – explorer \nView deployment\n vercel bot had a problem deploying to Preview – sui-core  Failure\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\n vercel bot deployed to Preview – sui-kiosk \nView deployment\n vercel bot deployed to Preview – multisig-toolkit \nView deployment\n vercel bot deployed to Preview – mysten-ui \nView deployment\nrevert\nVerified\nf820dc9\n vercel bot had a problem deploying to Preview – sui-core  Failure\n vercel bot deployed to Preview – multisig-toolkit \nView deployment\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\n vercel bot deployed to Preview – mysten-ui \nView deployment\n vercel bot deployed to Preview – explorer \nView deployment\n vercel bot deployed to Preview – sui-kiosk \nView deployment\nframework folder\nVerified\n2151450\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\n42 hidden items\nLoad more…\n vercel bot deployed to Preview – sui-kiosk \nView deployment\n vercel bot deployed to Preview – multisig-toolkit \nView deployment\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\n vercel bot deployed to Preview – explorer \nView deployment\n vercel bot deployed to Preview – mysten-ui \nView deployment\n vercel bot deployed to Preview – sui-core \nView deployment\n ronny-mysten requested a review from patrickkuo \nFix conflicts\nVerified\nfb7d7f4\n vercel bot deployed to Preview – sui-kiosk \nView deployment\n vercel bot deployed to Preview – explorer \nView deployment\n vercel bot deployed to Preview – multisig-toolkit \nView deployment\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\n vercel bot deployed to Preview – mysten-ui \nView deployment\n vercel bot deployed to Preview – sui-core \nView deployment\ntnowacki approved these changes \nView reviewed changes\ndocs/site/src/theme/Navbar/ColorModeToggle/styles.module.css\n\t\t@@ -3,4 +3,4 @@\n\t\t}\n\t\t.darkNavbarColorModeToggle:hover {\n\t\t  background: var(--ifm-color-gray-800);\n\t\t}\n\t\t}\nContributor\n tnowacki \n\n👀\n\ndocs/site/src/theme/Navbar/Search/styles.module.css\n\t\t@@ -12,4 +27,4 @@\n\t\t    display: flex;\n\t\t    column-gap: 1rem;\n\t\t  }\n\t\t}\n\t\t}\nContributor\n tnowacki \n\n👀\n\nstefan-mysten reviewed \nView reviewed changes\ndocs/content/concepts/graphql-rpc.mdx\n\t\t@@ -202,7 +202,7 @@ Fields that return a paginated response accept at least the following optional p\n\t\t\n\n\t\tThey also return a type that conforms to the [GraphQL Cursor Connections Specification](https://relay.dev/graphql/connections.htm), meaning its name ends in `Connection`, and it contains at least the following fields:\n\t\t\n\n\t\t- `pageInfo`, of type [PageInfo](../references/sui-api/sui-graphql/reference/objects/page-info.mdx), which indicates whether there are more pages before or after the page returned.\n\t\t- `pageInfo`, of type <a href=\"/references/sui-api/sui-graphql/reference/objects/page-info\" data-noBrokenLinkCheck='true'>PageInfo</a>, which indicates whether there are more pages before or after the page returned.\nContributor\n stefan-mysten  • \nedited \n\nOut of curiosity, this is now the recommended way to link to a page inside our docs?\n\nContributor\nAuthor\n ronny-mysten  • \nedited \n\nNo. It's the way we must point to docs now that are automatically generated. Because otherwise it throws an error because the page isn't (or might not) be built yet.\n\nstefan-mysten reviewed \nView reviewed changes\ndocs/content/guides/developer/getting-started/get-coins.mdx\n\t\t@@ -9,7 +9,7 @@ Sui faucet is a helpful tool where Sui developers can get free test SUI tokens t\n\t\tTo request tokens from the faucet, you must own a wallet address that can receive the SUI tokens. See the [Get Sui Address](./get-address.mdx) topic if you don't already have an address or need to create a new one.\n\t\t\n\n\t\t## Request test tokens via the CLI \n\t\tIf you are using the Devnet or Testnet networks, or you spun up a local network, you can use the [Sui CLI](https://docs.sui.io/guides/developer/getting-started/sui-install) to request tokens for your address. The `sui client faucet` uses the [active network](references/cli/client#list-available-network-environments) and [active address](references/cli/client#get-current-active-address) that is currently set in the Sui CLI by default, but you can specify custom data through the following two arguments:\n\t\tIf you are using the Devnet or Testnet networks, or you spun up a local network, you can use the [Sui CLI](../../../references/cli/client.mdx) to request tokens for your address. The `sui client faucet` uses the active network and active address that is currently set in the Sui CLI by default, but you can specify custom data through the following two arguments:\nContributor\n stefan-mysten \n\nSee my question above on passing links to other pages.\n\namnn approved these changes \nView reviewed changes\nContributor\namnn left a comment\n\nI think this is good to go, but couple of things we can follow-up on quickly (e.g. before declaring victory):\n\nI think we've gone too far with eliminating addresses. Can we eliminate them from the sidebar without eliminating them from the titles in each page? (Alternatively, we could add them in the sidebar, but just on the overall title, e.g. \"0x1: Move Stdlib\" or similar).\nWe are currently missing Sui System and Deepbook as well -- where did they go?\nstefan-mysten reviewed \nView reviewed changes\ndocs/content/sidebars/references.js\nComment on lines +100 to +107\n\t\t\t\t\t\ttype: 'category',\n\t\t\t\t\t\tlabel: 'Framework',\n\t\t\t\t\t\tlink: {\n\t\t\t\t\t\t\ttype: 'doc',\n\t\t\t\t\t\t\tid: 'references/framework',\n\t\t\t\t\t\t},\n\t\t\t\t\t\titems: [{ type: 'autogenerated', dirName: 'references/framework' }],\n\t\t\t\t\t},\nContributor\n stefan-mysten  • \nedited \n\nformatting seems a bit off. It's probably in the whole file?\n\nContributor\n stefan-mysten \n\nAlso, we probably want spaces instead of tabs here.\n\nstefan-mysten reviewed \nView reviewed changes\ndocs/site/docusaurus.config.js\n\t\t  onBrokenLinks: \"throw\",\n\t\t  onBrokenMarkdownLinks: \"throw\",\n\t\t  onBrokenMarkdownLinks: \"warn\",\nContributor\n stefan-mysten \n\nI assume these warnings are at build time, right?\n\nstefan-mysten approved these changes \nView reviewed changes\nContributor\nstefan-mysten left a comment\n\nAwesome work @ronny-mysten!!\n\ntitle/nav change, only build when framework dir doesnt exist\nVerified\n9a36165\n vercel bot deployed to Preview – sui-kiosk \nView deployment\n vercel bot deployed to Preview – multisig-toolkit \nView deployment\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\n vercel bot deployed to Preview – mysten-ui \nView deployment\n vercel bot deployed to Preview – explorer \nView deployment\n vercel bot deployed to Preview – sui-core \nView deployment\n ronny-mysten enabled auto-merge (squash) \nView details\n ronny-mysten merged commit 2b92a11 into MystenLabs:main \n45 checks passed\nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\ntzakian\n\namnn\n\ntnowacki\n\nstefan-mysten\n\ndamirka\n\nrvantonder\n\ncgswords\n\nmanolisliolios\n\npatrickkuo\n\nAssignees\nNo one assigned\nLabels\nType: Documentation\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n5 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Add GraphQL transport for SuiClient by hayes-mysten · Pull Request #14646 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/14646",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\nAdd GraphQL transport for SuiClient #14646\n Merged\nhayes-mysten merged 49 commits into main from mh--add-initial-sdk-gql-queries \n+27,918 −4,241 \n Conversation 43\n Commits 49\n Checks 38\n Files changed 72\nConversation\nContributor\nhayes-mysten commented  • \nedited by Eis-D-Z \nDescription\n\nDescribe the changes or additions included in this PR.\n\nTest Plan\n\nHow did you test the new or updated feature?\n\nIf your changes are not user-facing and not a breaking change, you can skip the following section. Otherwise, please indicate what changed, and then add to the Release Notes section as highlighted during the release process.\n\nType of Change (Check all that apply)\n protocol change\n user-visible impact\n breaking change for a client SDKs\n breaking change for FNs (FN binary must upgrade)\n breaking change for validators or node operators (must upgrade binaries)\n breaking change for on-chain data layout\n necessitate either a data wipe or data migration\nRelease notes\n hayes-mysten requested review from a team, oxade, amnn, wlmyng and stefan-mysten as code owners \nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nmysten-ui\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tFeb 8, 2024 7:17pm\nsui-core\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tFeb 8, 2024 7:17pm\nsui-typescript-docs\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tFeb 8, 2024 7:17pm\n3 Ignored Deployments\n vercel bot had a problem deploying to Preview – sui-kiosk  Failure\n vercel bot had a problem deploying to Preview – explorer  Failure\n vercel bot had a problem deploying to Preview – multisig-toolkit  Failure\n vercel bot had a problem deploying to Preview – mysten-ui  Failure\n vercel bot had a problem deploying to Preview – sui-typescript-docs  Failure\n vercel bot deployed to Preview – sui-core \nView deployment\nhayes-mysten commented \nView reviewed changes\ncrates/sui-graphql-rpc/schema/current_progress_schema.graphql\nOutdated\nShow resolved\n hayes-mysten force-pushed the mh--add-initial-sdk-gql-queries branch from 21976d1 to df59b87 \nCompare\n vercel bot had a problem deploying to Preview – sui-kiosk  Failure\n vercel bot had a problem deploying to Preview – sui-typescript-docs  Failure\n vercel bot had a problem deploying to Preview – multisig-toolkit  Failure\n vercel bot deployed to Preview – sui-core \nView deployment\n vercel bot had a problem deploying to Preview – mysten-ui  Failure\n vercel bot had a problem deploying to Preview – explorer  Failure\n vercel bot had a problem deploying to Preview – sui-kiosk  Failure\n vercel bot had a problem deploying to Preview – sui-typescript-docs  Failure\n vercel bot had a problem deploying to Preview – multisig-toolkit  Failure\n vercel bot had a problem deploying to Preview – explorer  Failure\n vercel bot had a problem deploying to Preview – mysten-ui  Failure\n hayes-mysten force-pushed the mh--add-initial-sdk-gql-queries branch from dc07f70 to 868ccfa \nCompare\n vercel bot had a problem deploying to Preview – sui-kiosk  Failure\n vercel bot had a problem deploying to Preview – explorer  Failure\n vercel bot had a problem deploying to Preview – mysten-ui  Failure\n vercel bot had a problem deploying to Preview – sui-typescript-docs  Failure\n203 hidden items\nLoad more…\nhayes-mysten and others added 22 commits \nAdd fallback support\n187fa73\nremove breaking change in bcs\nf036ee4\nrevert ts upgrade\na1d5110\nupdate e2e ci workflow\ne2e45ef\nfix e2e tests\nb297288\nfix incompatible attribute in getProtocolConfig\n8df9e25\nAdd Readme\n6070599\nrename graphql-transport package\n4c4aade\nremove reportRecords\n8889326\nupdate toShortTypeString matching\ne57a1bc\nremove extra / in .gitattributes\n5bfcf70\nUpdate sdk/graphql-transport/README.md …\n6b3943d\nUpdate sdk/graphql-transport/README.md …\nc177d1a\nUpdate sdk/graphql-transport/README.md …\ndeb80a4\nUpdate sdk/graphql-transport/README.md …\n8bed8cb\nUpdate sdk/graphql-transport/README.md …\nceae87d\nUpdate sdk/graphql-transport/README.md …\nd0d6926\nUpdate objects.graphql\n2a7842f\nUpdate getValidatorsApy.graphql\n876fc4a\nUpdate codegen.ts\nf0c738b\nPR feedback\na4a61f3\nFix lint\nce6d3f3\n hayes-mysten force-pushed the mh--add-initial-sdk-gql-queries branch from 51fb431 to ce6d3f3 \nCompare\n vercel bot deployed to Preview – mysten-ui \nView deployment\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\n vercel bot deployed to Preview – sui-core \nView deployment\nView details\n hayes-mysten merged commit d67d8c2 into main \n44 checks passed\n hayes-mysten deleted the mh--add-initial-sdk-gql-queries branch \nhayes-mysten added a commit that referenced this pull request \nAdd GraphQL transport for SuiClient (#14646) …\ndc3d3fa\nhayes-mysten added a commit that referenced this pull request \nAdd GraphQL transport for SuiClient (#14646) …\n261f446\nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\namnn\n\nJordan-Mysten\n\nwlmyng\n\nwilliamrobertson13\n\noxade\n\nstefan-mysten\n\nNikhil-Mysten\n\nAssignees\nNo one assigned\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n5 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Bump crate-ci/typos from 1.14.12 to 1.16.11 (#13682) · MystenLabs/sui@e255c33 · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/e255c33d6e9eef62fdf8685ab776de957759812c",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\nBump crate-ci/typos from 1.14.12 to 1.16.11 (#13682)\nBrowse files\nBumps [crate-ci/typos](https://github.com/crate-ci/typos) from 1.14.12\nto 1.16.11.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a\nhref=\"https://github.com/crate-ci/typos/releases\">crate-ci/typos's\nreleases</a>.</em></p>\n<blockquote>\n<h2>v1.16.11</h2>\n<h2>[1.16.11] - 2023-09-06</h2>\n<h3>Features</h3>\n<ul>\n<li>Support configuration in <code>pyproject.toml</code> files</li>\n</ul>\n<h2>v1.16.10</h2>\n<h2>[1.16.10] - 2023-09-01</h2>\n<h3>Compatibility</h3>\n<ul>\n<li>Bump MSRV to 1.70.0</li>\n</ul>\n<h3>Fixes</h3>\n<ul>\n<li>Updated the dictionary with the <a\nhref=\"https://redirect.github.com/crate-ci/typos/issues/784\">August\n2023</a> changes</li>\n</ul>\n<h2>v1.16.9</h2>\n<h2>[1.16.9] - 2023-08-30</h2>\n<h3>Fixes</h3>\n<ul>\n<li>Start correcting <code>arguement</code> again</li>\n</ul>\n<h2>v1.16.8</h2>\n<h2>[1.16.8] - 2023-08-21</h2>\n<h3>Fixes</h3>\n<ul>\n<li><em>(action)</em> With <code>fetch-depth:0</code>, don't ignore\nexcludes and fail with spaces in file names</li>\n</ul>\n<h2>v1.16.7</h2>\n<h2>[1.16.7] - 2023-08-21</h2>\n<h3>Fixes</h3>\n<ul>\n<li>Provide more context for IO error messages</li>\n</ul>\n<h2>v1.16.6</h2>\n<h2>[1.16.6] - 2023-08-18</h2>\n<h3>Fixes</h3>\n<ul>\n<li>Provide more context for IO error messages</li>\n</ul>\n<h2>v1.16.5</h2>\n<h2>[1.16.5] - 2023-08-14</h2>\n<h3>Fixes</h3>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a\nhref=\"https://github.com/crate-ci/typos/blob/master/CHANGELOG.md\">crate-ci/typos's\nchangelog</a>.</em></p>\n<blockquote>\n<h2>[1.16.11] - 2023-09-06</h2>\n<h3>Features</h3>\n<ul>\n<li>Support configuration in <code>pyproject.toml</code> files</li>\n</ul>\n<h2>[1.16.10] - 2023-09-01</h2>\n<h3>Compatibility</h3>\n<ul>\n<li>Bump MSRV to 1.70.0</li>\n</ul>\n<h3>Fixes</h3>\n<ul>\n<li>Updated the dictionary with the <a\nhref=\"https://redirect.github.com/crate-ci/typos/issues/784\">August\n2023</a> changes</li>\n</ul>\n<h2>[1.16.9] - 2023-08-30</h2>\n<h3>Fixes</h3>\n<ul>\n<li>Start correcting <code>arguement</code> again</li>\n</ul>\n<h2>[1.16.8] - 2023-08-21</h2>\n<h3>Fixes</h3>\n<ul>\n<li><em>(action)</em> With <code>fetch-depth:0</code>, don't ignore\nexcludes and fail with spaces in file names</li>\n</ul>\n<h2>[1.16.7] - 2023-08-21</h2>\n<h3>Fixes</h3>\n<ul>\n<li>Provide more context for IO error messages</li>\n</ul>\n<h2>[1.16.6] - 2023-08-18</h2>\n<h3>Fixes</h3>\n<ul>\n<li>Provide more context for IO error messages</li>\n</ul>\n<h2>[1.16.5] - 2023-08-14</h2>\n<h3>Fixes</h3>\n<ul>\n<li>Categorize <code>pnpm-lock.yaml</code> as a <code>lock</code>\nfile</li>\n</ul>\n<h2>[1.16.4] - 2023-08-12</h2>\n<h2>[1.16.3] - 2023-08-09</h2>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a\nhref=\"https://github.com/crate-ci/typos/commit/7c89b528fdb59c3cdee63aa37cd51e786786f3ed\"><code>7c89b52</code></a>\nchore: Release</li>\n<li><a\nhref=\"https://github.com/crate-ci/typos/commit/04903c60d67c9eee03ab876e3a90f609310a7d14\"><code>04903c6</code></a>\ndocs: Update changelog</li>\n<li><a\nhref=\"https://github.com/crate-ci/typos/commit/b856b9603f5c3f9249f16a8b13b6fe76c02399cf\"><code>b856b96</code></a>\nfeat(config): Support for <code>pyproject.toml</code> files (<a\nhref=\"https://redirect.github.com/crate-ci/typos/issues/790\">#790</a>)</li>\n<li><a\nhref=\"https://github.com/crate-ci/typos/commit/65d2fb6b91a696bfff5d59e7cf960cd7e51fb83a\"><code>65d2fb6</code></a>\nchore: Release</li>\n<li><a\nhref=\"https://github.com/crate-ci/typos/commit/602923bbc81425f1a398ec8891989a4f11a80bd8\"><code>602923b</code></a>\nchore: Release</li>\n<li><a\nhref=\"https://github.com/crate-ci/typos/commit/99bb02de481a736a1db422b4112230103c110efa\"><code>99bb02d</code></a>\ndocs: Update changelog</li>\n<li><a\nhref=\"https://github.com/crate-ci/typos/commit/b49c652faab6189956a287dfbbf7e6a32972f958\"><code>b49c652</code></a>\nMerge pull request <a\nhref=\"https://redirect.github.com/crate-ci/typos/issues/824\">#824</a>\nfrom epage/august</li>\n<li><a\nhref=\"https://github.com/crate-ci/typos/commit/c7a2909bbb0ea0215e77715f6ff0051f1e2fec10\"><code>c7a2909</code></a>\nfeat(dict): August updates</li>\n<li><a\nhref=\"https://github.com/crate-ci/typos/commit/0c05b217d458f3b98616853b8bb180b7eedeca6b\"><code>0c05b21</code></a>\nstyle: Make clippy happy</li>\n<li><a\nhref=\"https://github.com/crate-ci/typos/commit/67ca12a84780ccbdd6b965d5b41bf923d7d4226c\"><code>67ca12a</code></a>\nMerge pull request <a\nhref=\"https://redirect.github.com/crate-ci/typos/issues/822\">#822</a>\nfrom crate-ci/renovate/itertools-0.x</li>\n<li>Additional commits viewable in <a\nhref=\"https://github.com/crate-ci/typos/compare/v1.14.12...v1.16.11\">compare\nview</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility\nscore](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=crate-ci/typos&package-manager=github_actions&previous-version=1.14.12&new-version=1.16.11)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't\nalter it yourself. You can also trigger a rebase manually by commenting\n`@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits\nthat have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after\nyour CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge\nand block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating\nit. You can achieve the same result by closing it manually\n- `@dependabot show <dependency name> ignore conditions` will show all\nof the ignore conditions of the specified dependency\n- `@dependabot ignore this major version` will close this PR and stop\nDependabot creating any more for this major version (unless you reopen\nthe PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop\nDependabot creating any more for this minor version (unless you reopen\nthe PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop\nDependabot creating any more for this dependency (unless you reopen the\nPR or upgrade to it yourself)\n\n\n</details>\n\n---------\n\nSigned-off-by: dependabot[bot] <support@github.com>\nCo-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>\nCo-authored-by: Markus Legner <markus@mystenlabs.com>\n main (#13682)\n testnet-v1.25.0 \n…\n devnet-v1.10.0\ndependabot[bot] and mlegner committed  \nVerified\n1 parent 5dd554c\ncommit e255c33\n \nShowing 4 changed files with 6 additions and 8 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\n.github/workflows\ndocs.yml\n.typos.toml\ndoc/src/learn\nhow-sui-works.md\nsponsored-transactions.md\n  \n2 changes: 1 addition & 1 deletion\n2  \n.github/workflows/docs.yml\n\t@@ -26,6 +26,6 @@ jobs:\n\t\t    steps:\n\t\t      - uses: actions/checkout@7dd9e2a3dc350cf687eb1b2a4fadfee8c8e49675 # pin@v3\n\t\t      - name: Spell Check Docs\n\t\t        uses: crate-ci/typos@v1.14.12\n\t\t        uses: crate-ci/typos@v1.16.11\n\t\t        with:\n\t\t          files: ./doc ./*.md\n  \n3 changes: 3 additions & 0 deletions\n3  \n.typos.toml\n\t@@ -2,3 +2,6 @@\n\t\textend-ignore-re = [\n\t\t  \"[a-zA-Z0-9]{44}\"\n\t\t]\n\t\t\n\n\t\t[default.extend-words]\n\t\tgroth = \"groth\"\n  \n2 changes: 1 addition & 1 deletion\n2  \ndoc/src/learn/how-sui-works.md\n\t@@ -8,7 +8,7 @@ This document is written for engineers, developers, and technical readers knowle\n\t\t\n\n\t\tThe Sui blockchain is reshaping the industry by achieving unprecedented speed and scalability. Its innovative approach takes advantage of the fact that a large number of blockchain transactions involve non-overlapping states, which allows for parallel processing. Additionally, Sui optimizes for single-writer objects, removing the need for consensus in simple transactions.\n\t\t\n\n\t\tUnlike traditional blockchains which rely on fire-and-forget broadcasts, Sui's design enables requestors or proxies to proactively communicate with validators to finalize transactions, resulting in near-instant finality. With such low latency, Sui is a key enabler to incorporating transactions into games and other settings that require real-time completion.\n\t\tUnlike traditional blockchains which rely on fire-and-forget broadcasts, Sui's design enables requesters or proxies to proactively communicate with validators to finalize transactions, resulting in near-instant finality. With such low latency, Sui is a key enabler to incorporating transactions into games and other settings that require real-time completion.\n\t\t\n\n\t\tSui also supports smart contracts written in Sui Move, a powerful asset-centric adaptation of [Move](https://golden.com/wiki/Move_(programming_language)-MNA4DZ6) for the Sui blockchain, to enable strong inherent security and a more understandable programming model.\n\t\t\n\n\n\t\n  \n7 changes: 1 addition & 6 deletions\n7  \ndoc/src/learn/sponsored-transactions.md\n\t@@ -78,7 +78,7 @@ Depending on the nature of the Gas Station, sponsors can apply different authori\n\t\t\n\n\t\t### Abuse Detection\n\t\t\n\n\t\tFor all gas objects that the sponsor gives out, track if users ever try to equivocate and lock objects. If such behavior is detected, block list this user or requestor accordingly.\n\t\tFor all gas objects that the sponsor gives out, track if users ever try to equivocate and lock objects. If such behavior is detected, block list this user or requester accordingly.\n\t\t\n\n\t\t## Code examples to create a Sui Gas Station\n\t\t\n\n\n\t@@ -142,8 +142,3 @@ pub struct GasData {\n\t\t```\n\t\t\n\n\t\tTo learn more about Transaction in Sui, see [Transactions](../learn/transactions.md).\n\t\t\n\n\t\t\n\n\t\t\n\n\t\t\n\n\t\t\n\n3 comments on commit e255c33\nvercel bot commented on e255c33 \n\nSuccessfully deployed to the following URLs:\n\nsui-typescript-docs – ./sdk/docs\n\nsui-wallet-kit.vercel.app\nsui-typescript-docs-mysten-labs.vercel.app\nsui-typescript-docs-git-main-mysten-labs.vercel.app\nsui-typescript-docs.vercel.app\n\nvercel bot commented on e255c33 \n\nSuccessfully deployed to the following URLs:\n\nsui-kiosk – ./dapps/kiosk\n\nsui-kiosk.vercel.app\nsui-kiosk-mysten-labs.vercel.app\nsui-kiosk-git-main-mysten-labs.vercel.app\n\nvercel bot commented on e255c33 \n\nSuccessfully deployed to the following URLs:\n\nmultisig-toolkit – ./dapps/multisig-toolkit\n\nmultisig-toolkit-mysten-labs.vercel.app\nmultisig-toolkit.vercel.app\nmultisig-toolkit-git-main-mysten-labs.vercel.app\noffline-signer-helper.vercel.app\n\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Add GraphQL transport for SuiClient (#14646) · MystenLabs/sui@d67d8c2 · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/d67d8c2b85a7fd83be2599b1a13993860e3b2e17",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\nAdd GraphQL transport for SuiClient (#14646)\nBrowse files\n## Description \n\nDescribe the changes or additions included in this PR.\n\n## Test Plan \n\nHow did you test the new or updated feature?\n\n---\nIf your changes are not user-facing and not a breaking change, you can\nskip the following section. Otherwise, please indicate what changed, and\nthen add to the Release Notes section as highlighted during the release\nprocess.\n\n### Type of Change (Check all that apply)\n\n- [ ] protocol change\n- [ ] user-visible impact\n- [ ] breaking change for a client SDKs\n- [ ] breaking change for FNs (FN binary must upgrade)\n- [ ] breaking change for validators or node operators (must upgrade\nbinaries)\n- [ ] breaking change for on-chain data layout\n- [ ] necessitate either a data wipe or data migration\n\n### Release notes\n\n---------\n\nCo-authored-by: William Robertson <williamrobertson13@users.noreply.github.com>\n main (#14646)\n testnet-v1.25.0 \n…\n devnet-v1.19.0\nhayes-mysten and williamrobertson13 committed  \nVerified\n1 parent 7e2f857\ncommit d67d8c2\n \nShowing 72 changed files with 27,918 additions and 4,241 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\n.gitattributes\n.github\nactions/ts-e2e\naction.yml\nworkflows\ne2e.yml\n.prettierignore\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\nsdk\nbuild-scripts\nsrc\nbuild-dapp-kit.ts\nbuild-package.ts\nutils\nbuildPackage.ts\ntsconfig.json\ndocs/pages/bcs\nindex.mdx\ngraphql-transport\n.prettierignore\nCHANGELOG.md\nREADME.md\ncodegen.ts\npackage.json\nsrc\ngenerated\nqueries.ts\nindex.ts\nmappers\nbcs.ts\ncheckpint.ts\ndisplay.ts\nmove.ts\nobject.ts\nowner.ts\nstakes.ts\ntransaction-block.ts\nutil.ts\nvalidator.ts\nmethods.ts\nqueries\ncheckpoint.graphql\ndevInspectTransactionBlock.graphql\ndryRunTransactionBlock.graphql\nexecuteTransactionBlock.graphql\ngetAllBalances.graphql\ngetBalance.graphql\ngetChainIdentifier.graphql\ngetCoinMetadata.graphql\ngetCoins.graphql\ngetCommitteeInfo.graphql\ngetCurrentEpoch.graphql\ngetDynamicFieldObject.graphql\ngetDynamicFields.graphql\ngetLatestCheckpointSequenceNumber.graphql\ngetLatestSuiSystemState.graphql\ngetMoveFunctionArgTypes.graphql\ngetNormalizedMoveFunction.graphql\ngetNormalizedMoveModule.graphql\ngetNormalizedMoveModulesByPackage.graphql\ngetNormalizedMoveStruct.graphql\ngetProtocolConfig.graphql\ngetReferenceGasPrice.graphql\ngetTotalSupply.graphql\ngetTotalTransactionBlocks.graphql\ngetValidatorsApy.graphql\nnameService.graphql\nobjects.graphql\nqueryEvents.graphql\nstakes.graphql\ntransactions.graphql\ntransport.ts\ntest\ncompatability.test.ts\ntsconfig.json\ntsconfig.esm.json\ntsconfig.json\nvitest.config.ts\ntypescript\nsrc\nbcs\nindex.ts\nutils\nsui-types.ts\ntest\ne2e\ndata\ndynamic_fields\nMove.lock\nserializer\nMove.lock\nutils\nsetup.ts\nunit/cryptography\npublickey.test.ts\n  \n5 changes: 2 additions & 3 deletions\n5  \n.gitattributes\n\t@@ -7,6 +7,5 @@ crates/sui-core/tests/staged/sui.yaml text eol=lf\n\t\tcrates/sui-open-rpc/spec/openrpc.json text eol=lf\n\t\tsui_core/tests/staged/sui.yaml text eol=lf\n\t\t\n\n\t\t# These files is auto generated\n\t\tsdk/typescript/src/index.guard.ts linguist-generated=true\n\t\tsdk/typescript/src/rpc/client.guard.ts linguist-generated=true\n\t\t# These files are auto generated\n\t\tsdk/graphql-transport/src/queries/generated.ts linguist-generated=true\n  \n2 changes: 1 addition & 1 deletion\n2  \n.github/actions/ts-e2e/action.yml\n\t@@ -70,7 +70,7 @@ runs:\n\t\t      shell: bash\n\t\t\n\n\t\t    - name: Run TS SDK e2e tests\n\t\t      run: pnpm dlx concurrently --kill-others --success command-1 \"$E2E_RUN_LOCAL_NET_CMD\" 'pnpm --filter @mysten/sui.js test:e2e'\n\t\t      run: pnpm dlx concurrently --kill-others --success command-1 \"$E2E_RUN_LOCAL_NET_CMD\" 'pnpm --filter @mysten/sui.js --filter @mysten/graphql-transport test:e2e'\n\t\t      shell: bash\n\t\t\n\n\t\t    - name: Run Explorer e2e tests\n\n\t\n  \n7 changes: 6 additions & 1 deletion\n7  \n.github/workflows/e2e.yml\n\t@@ -10,6 +10,7 @@ jobs:\n\t\t      isWallet: ${{ (steps.turbo.outputs.packages && contains(fromJson(steps.turbo.outputs.packages), 'sui-wallet')) }}\n\t\t      isExplorer: ${{ (steps.turbo.outputs.packages && contains(fromJson(steps.turbo.outputs.packages), 'sui-explorer')) }}\n\t\t      isTypescriptSDK: ${{ (steps.turbo.outputs.packages && contains(fromJson(steps.turbo.outputs.packages), '@mysten/sui.js')) }}\n\t\t      isGraphQlTransport: ${{ (steps.turbo.outputs.packages && contains(fromJson(steps.turbo.outputs.packages), '@mysten/graphql-transport')) }}\n\t\t      isRust: ${{ steps.diff.outputs.isRust }}\n\t\t    steps:\n\t\t      - uses: actions/checkout@7dd9e2a3dc350cf687eb1b2a4fadfee8c8e49675 # pin@v3\n\n\t@@ -66,7 +67,11 @@ jobs:\n\t\t\n\t\t      - name: Run TS SDK e2e tests\n\t\t        if: ${{ needs.diff.outputs.isTypescriptSDK == 'true' || needs.diff.outputs.isRust == 'true'}}\n\t\t        run: pnpm dlx concurrently --kill-others --success command-1 \"$E2E_RUN_LOCAL_NET_CMD\" 'pnpm --filter @mysten/sui.js test:e2e'\n\t\t        run: pnpm dlx concurrently --kill-others --success command-1 \"$E2E_RUN_LOCAL_NET_CMD\" 'pnpm --filter @mysten/sui.js'\n\t\t\n\n\t\t      - name: Run RPC/GrpahQL comaptability e2e tests\n\t\t        if: ${{ needs.diff.outputs.isGraphQlTransport == 'true' || needs.diff.outputs.isRust == 'true'}}\n\t\t        run: pnpm dlx concurrently --kill-others --success command-1 \"$E2E_RUN_LOCAL_NET_CMD\" 'pnpm --filter @mysten/graphql-transport test:e2e'\n\t\t\n\n\t\t      - name: Build explorer\n\t\t        if: ${{ needs.diff.outputs.isTypescriptSDK == 'true' || needs.diff.outputs.isExplorer == 'true' || needs.diff.outputs.isRust == 'true'}}\n\n\t\n  \n1 change: 1 addition & 0 deletions\n1  \n.prettierignore\n\t@@ -18,6 +18,7 @@ build/\n\t\tcoverage/\n\t\tdist/\n\t\tout/\n\t\tgenerated/\n\t\tplaywright-report/\n\t\tstorybook-static/\n\t\tCHANGELOG.md\n\n\t\n \n19 changes: 19 additions & 0 deletions\n19  \ngraphql.config.ts\n\t\t@@ -0,0 +1,19 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\timport type { IGraphQLConfig } from 'graphql-config';\n\t\t\n\n\t\tconst config: IGraphQLConfig = {\n\t\t\tprojects: {\n\t\t\t\ttsSDK: {\n\t\t\t\t\tschema: './crates/sui-graphql-rpc/schema/current_progress_schema.graphql',\n\t\t\t\t\tdocuments: [\n\t\t\t\t\t\t'./sdk/graphql-transport/src/**/*.ts',\n\t\t\t\t\t\t'./sdk/graphql-transport/src/**/*.graphql',\n\t\t\t\t\t],\n\t\t\t\t\tinclude: ['./sdk/graphql-transport/src/**/*.ts', './sdk/graphql-transport/src/**/*.graphql'],\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t\t\n\n\t\texport default config;\n  \n1 change: 1 addition & 0 deletions\n1  \npackage.json\n\t@@ -56,6 +56,7 @@\n\t\t\t\t\"eslint-plugin-require-extensions\": \"^0.1.3\",\n\t\t\t\t\"eslint-plugin-tsdoc\": \"^0.2.17\",\n\t\t\t\t\"eslint-plugin-unused-imports\": \"^3.0.0\",\n\t\t\t\t\"graphql-config\": \"^5.0.3\",\n\t\t\t\t\"prettier\": \"^3.0.0\",\n\t\t\t\t\"prettier-plugin-tailwindcss\": \"^0.4.1\",\n\t\t\t\t\"tsx\": \"^3.12.7\",\n\n\t\n0 comments on commit d67d8c2\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Skip gateway and 127.0.0.1 address in link checker by Clay-Mysten · Pull Request #2260 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/2260",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\nSkip gateway and 127.0.0.1 address in link checker #2260\n Merged\nClay-Mysten merged 1 commit into main from Clay-Mysten-patch-14 \n Conversation 3\n Commits 1\n Checks 0\n Files changed\nConversation\nContributor\nClay-Mysten commented \n\nNo description provided.\n\nSkip gateway and 127.0.0.1 address in link checker\nVerified\n30c0cc2\n Clay-Mysten requested review from huitseeker, awelc, sblackshear, Jibz1 and todd-mystenlabs \n Clay-Mysten linked an issue  that may be closed by this pull request\nMap code to docs, consider automating testing of code in docs #1636\nClosed\nhuitseeker reviewed \nView reviewed changes\n.lycheeignore\n\t\t@@ -1,2 +1,4 @@\n\t\tfile://.*\nContributor\n huitseeker \n\nAre you sure you want to keep skipping file links? It may be that some internal links are relevant?\n\nContributor\nAuthor\n Clay-Mysten \n\nAre you sure you want to keep skipping file links? It may be that some internal links are relevant?\n\nI thought you added that for some known purpose. I am fine removing it. Yet those links won't work in docs.sui.io.\n\nJust let me know.\n\nhuitseeker approved these changes \nView reviewed changes\n Clay-Mysten merged commit d38385b into main \n Clay-Mysten deleted the Clay-Mysten-patch-14 branch \nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\nhuitseeker\n\nawelc\n\nsblackshear\n\nJibz1\n\ntodd-mystenlabs\n\nAssignees\nNo one assigned\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\n Map code to docs, consider automating testing of code in docs\n2 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Add graphql package by hayes-mysten · Pull Request #16067 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/16067",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\nAdd graphql package #16067\n Merged\nhayes-mysten merged 4 commits into main from mh--graphql-client \n+19,329 −13,341 \n Conversation 2\n Commits 4\n Checks 35\n Files changed 43\nConversation\nContributor\nhayes-mysten commented \nDescription\n\nDescribe the changes or additions included in this PR.\n\nTest Plan\n\nHow did you test the new or updated feature?\n\nIf your changes are not user-facing and do not break anything, you can skip the following section. Otherwise, please briefly describe what has changed under the Release Notes section.\n\nType of Change (Check all that apply)\n protocol change\n user-visible impact\n breaking change for a client SDKs\n breaking change for FNs (FN binary must upgrade)\n breaking change for validators or node operators (must upgrade binaries)\n breaking change for on-chain data layout\n necessitate either a data wipe or data migration\nRelease notes\nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nsui-core\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tFeb 8, 2024 9:35pm\nsui-typescript-docs\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tFeb 8, 2024 9:35pm\n4 Ignored Deployments\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\n vercel bot deployed to Preview – mysten-ui \nView deployment\n vercel bot deployed to Preview – explorer \nView deployment\n vercel bot deployed to Preview – sui-core \nView deployment\n hayes-mysten force-pushed the mh--graphql-client branch from ab2950c to e1d5acb \nCompare\n github-actions bot added the Type: Documentation label \n hayes-mysten changed the base branch from mh--add-initial-sdk-gql-queries to main \n hayes-mysten marked this pull request as ready for review \n hayes-mysten requested review from a team as code owners \n vercel bot had a problem deploying to Preview – sui-kiosk  Failure\n hayes-mysten requested a review from a team as a code owner \n hayes-mysten requested review from williamrobertson13 and Nikhil-Mysten and removed request for a team \n vercel bot had a problem deploying to Preview – mysten-ui  Failure\n vercel bot had a problem deploying to Preview – sui-typescript-docs  Failure\n vercel bot had a problem deploying to Preview – multisig-toolkit  Failure\n vercel bot had a problem deploying to Preview – explorer  Failure\n hayes-mysten force-pushed the mh--graphql-client branch from e1d5acb to eebcb6d \nCompare\n github-actions bot removed the Type: Documentation label \n vercel bot had a problem deploying to Preview – sui-typescript-docs  Failure\n vercel bot had a problem deploying to Preview – mysten-ui  Failure\n vercel bot had a problem deploying to Preview – sui-kiosk  Failure\n vercel bot had a problem deploying to Preview – explorer  Failure\n vercel bot had a problem deploying to Preview – multisig-toolkit  Failure\n vercel bot deployed to Preview – sui-core \nView deployment\nwilliamrobertson13 approved these changes \nView reviewed changes\nContributor\nwilliamrobertson13 left a comment\n\nnot a graphQL expert but lgtm besides the lint failures, thanks for adding tests 😄\n\n41 hidden items\nLoad more…\n vercel bot deployed to Preview – multisig-toolkit \nView deployment\n vercel bot deployed to Preview – sui-kiosk \nView deployment\n vercel bot deployed to Preview – explorer \nView deployment\n hayes-mysten force-pushed the mh--graphql-client branch from dc44ef6 to a86979a \nCompare\n vercel bot deployed to Preview – sui-kiosk \nView deployment\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\n vercel bot deployed to Preview – explorer \nView deployment\n vercel bot deployed to Preview – multisig-toolkit \nView deployment\n vercel bot deployed to Preview – sui-core \nView deployment\n vercel bot deployed to Preview – mysten-ui \nView deployment\n hayes-mysten force-pushed the mh--graphql-client branch from a86979a to f687cfd \nCompare\n vercel bot deployed to Preview – sui-core \nView deployment\n vercel bot deployed to Preview – sui-kiosk \nView deployment\n vercel bot deployed to Preview – mysten-ui \nView deployment\n vercel bot deployed to Preview – multisig-toolkit \nView deployment\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\n vercel bot deployed to Preview – explorer \nView deployment\nFix type issues with useSuiClientQueries\nea34247\n hayes-mysten force-pushed the mh--graphql-client branch from f687cfd to ea34247 \nCompare\n vercel bot deployed to Preview – sui-core \nView deployment\n vercel bot deployed to Preview – multisig-toolkit \nView deployment\n vercel bot deployed to Preview – mysten-ui \nView deployment\n vercel bot deployed to Preview – explorer \nView deployment\n vercel bot deployed to Preview – sui-kiosk \nView deployment\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\nfix ci\n17d429f\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\n vercel bot deployed to Preview – sui-core \nView deployment\nView details\n hayes-mysten merged commit 4830361 into main \n41 checks passed\n hayes-mysten deleted the mh--graphql-client branch \nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\nwilliamrobertson13\n\nNikhil-Mysten\n\nAssignees\nNo one assigned\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n2 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Skip gateway and 127.0.0.1 address in link checker (#2260) · MystenLabs/sui@d38385b · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/d38385bf0a0262d94ba82219d4ada41e4ee34208",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\nSkip gateway and 127.0.0.1 address in link checker (#2260)\nBrowse files\n Loading branch information\nClay-Mysten committed  \n1 parent 2183b44\ncommit d38385b\nShowing 1 changed file with 2 additions and 0 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\n \n2 changes: 2 additions & 0 deletions\n2  \n.lycheeignore\n\t\t@@ -1,2 +1,4 @@\n\t\tfile://.*\n\t\thttp://localhost.*\n\t\thttp://127.0.0.1.*\n\t\thttps://gateway.devnet.sui.io.*\n1 comment on commit d38385b\nContributor\ngithub-actions bot commented on d38385b \nBench results\n\n�[0m�[0m�[1m�[32m Finished�[0m release [optimized] target(s) in 0.56s\n�[0m�[0m�[1m�[32m Running�[0m target/release/bench microbench throughput\n�[2m2022-05-27T16:41:42.217210Z�[0m �[32m INFO�[0m �[2msui::benchmark�[0m�[2m:�[0m benchmark �[3mbenchmark�[0m�[2m=�[0mBenchmark { committee_size: 1, send_timeout_us: 400000000, recv_timeout_us: 400000000, buffer_size: 65000, tcp_connections: 0, db_cpus: 1, use_native: false, batch_size: 2000, running_mode: SingleValidatorThread, working_dir: None, bench_type: MicroBenchmark { host: \"127.0.0.1\", port: 9555, type_: Throughput { num_transactions: 100000 } } }\n�[2m2022-05-27T16:41:42.218389Z�[0m �[32m INFO�[0m �[2msui_config�[0m�[2m:�[0m Creating accounts and gas objects...\n�[2m2022-05-27T16:41:42.218547Z�[0m �[32m INFO�[0m �[2msui_config::genesis�[0m�[2m:�[0m Loading Move framework lib from None\n�[2m2022-05-27T16:41:42.218819Z�[0m �[32m INFO�[0m �[2msui_config::genesis�[0m�[2m:�[0m Loading Sui framework lib from None\n�[2m2022-05-27T16:41:42.220230Z�[0m �[32m INFO�[0m �[2msui::benchmark::validator_preparer�[0m�[2m:�[0m authority address hex: 0x9da9030ad18bc850bdf6b318610a81f5db53d01d\n�[2m2022-05-27T16:41:42.220332Z�[0m �[32m INFO�[0m �[2msui::benchmark::validator_preparer�[0m�[2m:�[0m Open database on path: \"/tmp/DB_0xaa68f1b4223de9372ee4b92a48557c132c9a0114\"\n�[2m2022-05-27T16:41:42.409279Z�[0m �[32m INFO�[0m �[2msui_storage::lock_service�[0m�[2m:�[0m LockService command processing loop started\n�[2m2022-05-27T16:41:42.409316Z�[0m �[32m INFO�[0m �[2msui_storage::lock_service�[0m�[2m:�[0m LockService queries processing loop started\n�[2m2022-05-27T16:41:42.410840Z�[0m �[32m INFO�[0m �[2msui_config::genesis�[0m�[2m:�[0m Loading Move framework lib from None\n�[2m2022-05-27T16:41:42.410916Z�[0m �[32m INFO�[0m �[2msui_config::genesis�[0m�[2m:�[0m Loading Sui framework lib from None\n�[2m2022-05-27T16:41:42.976505Z�[0m �[32m INFO�[0m �[2msui::benchmark::validator_preparer�[0m�[2m:�[0m Spawning a validator thread...\n�[2m2022-05-27T16:41:42.977892Z�[0m �[32m INFO�[0m �[2msui_core::authority_server�[0m�[2m:�[0m Listening to traffic on /dns/127.0.0.1/tcp/9555/http\nThroughout: 33322.54793531827 tps\n\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Add graphql package (#16067) · MystenLabs/sui@4830361 · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/4830361fa4a909b8b7f5b4297c0e5b2660a12988",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\nAdd graphql package (#16067)\nBrowse files\n## Description \n\nDescribe the changes or additions included in this PR.\n\n## Test Plan \n\nHow did you test the new or updated feature?\n\n---\nIf your changes are not user-facing and do not break anything, you can\nskip the following section. Otherwise, please briefly describe what has\nchanged under the Release Notes section.\n\n### Type of Change (Check all that apply)\n\n- [ ] protocol change\n- [ ] user-visible impact\n- [ ] breaking change for a client SDKs\n- [ ] breaking change for FNs (FN binary must upgrade)\n- [ ] breaking change for validators or node operators (must upgrade\nbinaries)\n- [ ] breaking change for on-chain data layout\n- [ ] necessitate either a data wipe or data migration\n\n### Release notes\n Loading branch information\nhayes-mysten committed  \nVerified\n1 parent 9e9738d\ncommit 4830361\n \nShowing 43 changed files with 19,329 additions and 13,341 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\n.changeset\nchilly-years-own.md\n.gitattributes\n.github/workflows\ne2e.yml\napps\ncore\npackage.json\nexplorer\npackage.json\nicons\npackage.json\nui\npackage.json\nwallet\npackage.json\ncrates/x/src\nlint.rs\ndapps\nkiosk\npackage.json\nmultisig-toolkit\npackage.json\nsponsored-transactions\npackage.json\nexamples/mev_bot\npackage.json\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nsdk\nbcs\npackage.json\nbuild-scripts\npackage.json\ncreate-dapp\npackage.json\ntemplates\nreact-client-dapp\npackage.json\nreact-e2e-counter\npackage.json\ndapp-kit\npackage.json\nsrc/hooks\nuseSuiClientQueries.ts\ndeepbook\npackage.json\nenoki\npackage.json\ngraphql-transport\npackage.json\nkiosk\npackage.json\nledgerjs-hw-app-sui\npackage.json\nmove-binary-format-wasm\npackage.json\nsuins-toolkit\npackage.json\ntypescript\n.prettierignore\ngraphql\npackage.json\nschemas/2024-01\npackage.json\npackage.json\nsrc/graphql\nclient.ts\ngenerated/2024-01\ntada-env.d.ts\nindex.ts\nschemas/2024-01\nindex.ts\ntest/e2e\ngraphql.test.ts\ntsconfig.json\nwallet-standard\npackage.json\nzklogin\npackage.json\nzksend\npackage.json\n \n16 changes: 16 additions & 0 deletions\n16  \n.changeset/chilly-years-own.md\n\t\t@@ -0,0 +1,16 @@\n\t\t---\n\t\t'@mysten/ledgerjs-hw-app-sui': patch\n\t\t'@mysten/wallet-standard': patch\n\t\t'@mysten/suins-toolkit': patch\n\t\t'@mysten/create-dapp': patch\n\t\t'@mysten/sui.js': patch\n\t\t'@mysten/dapp-kit': patch\n\t\t'@mysten/deepbook': patch\n\t\t'@mysten/zklogin': patch\n\t\t'@mysten/zksend': patch\n\t\t'@mysten/enoki': patch\n\t\t'@mysten/kiosk': patch\n\t\t'@mysten/bcs': patch\n\t\t---\n\t\t\n\n\t\tUpdated typescript version\n  \n1 change: 1 addition & 0 deletions\n1  \n.gitattributes\n\t@@ -9,3 +9,4 @@ sui_core/tests/staged/sui.yaml text eol=lf\n\t\t\n\n\t\t# These files are auto generated\n\t\tsdk/graphql-transport/src/queries/generated.ts linguist-generated=true\n\t\tsdk/typescript/src/graphql/generated/** linguist-generated=true\n  \n2 changes: 1 addition & 1 deletion\n2  \n.github/workflows/e2e.yml\n\t@@ -67,7 +67,7 @@ jobs:\n\t\t\n\t\t      - name: Run TS SDK e2e tests\n\t\t        if: ${{ needs.diff.outputs.isTypescriptSDK == 'true' || needs.diff.outputs.isRust == 'true'}}\n\t\t        run: pnpm dlx concurrently --kill-others --success command-1 \"$E2E_RUN_LOCAL_NET_CMD\" 'pnpm --filter @mysten/sui.js'\n\t\t        run: pnpm dlx concurrently --kill-others --success command-1 \"$E2E_RUN_LOCAL_NET_CMD\" 'pnpm --filter @mysten/sui.js test:e2e'\n\t\t\n\n\t\t      - name: Run RPC/GrpahQL comaptability e2e tests\n\t\t        if: ${{ needs.diff.outputs.isGraphQlTransport == 'true' || needs.diff.outputs.isRust == 'true'}}\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \napps/core/package.json\n\t@@ -46,7 +46,7 @@\n\t\t\t\t\"@vanilla-extract/vite-plugin\": \"^3.9.0\",\n\t\t\t\t\"postcss\": \"^8.4.31\",\n\t\t\t\t\"tailwindcss\": \"^3.3.3\",\n\t\t\t\t\"typescript\": \"^5.1.6\",\n\t\t\t\t\"typescript\": \"^5.3.3\",\n\t\t\t\t\"vite\": \"^4.4.4\",\n\t\t\t\t\"vitest\": \"^0.33.0\"\n\t\t\t}\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \napps/explorer/package.json\n\t@@ -105,7 +105,7 @@\n\t\t\t\t\"storybook\": \"^7.1.0\",\n\t\t\t\t\"tailwindcss\": \"^3.3.3\",\n\t\t\t\t\"tsconfig-paths\": \"^4.2.0\",\n\t\t\t\t\"typescript\": \"^5.1.6\",\n\t\t\t\t\"typescript\": \"^5.3.3\",\n\t\t\t\t\"vite\": \"^4.4.4\",\n\t\t\t\t\"vite-plugin-rewrite-all\": \"^1.0.1\",\n\t\t\t\t\"vite-plugin-svgr\": \"^3.2.0\",\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \napps/icons/package.json\n\t@@ -21,6 +21,6 @@\n\t\t\t\t\"@types/react\": \"^18.2.15\",\n\t\t\t\t\"react\": \"^18.2.0\",\n\t\t\t\t\"rimraf\": \"^5.0.1\",\n\t\t\t\t\"typescript\": \"^5.1.6\"\n\t\t\t\t\"typescript\": \"^5.3.3\"\n\t\t\t}\n\t\t}\n  \n2 changes: 1 addition & 1 deletion\n2  \napps/ui/package.json\n\t@@ -53,6 +53,6 @@\n\t\t\t\t\"prop-types\": \"^15.8.1\",\n\t\t\t\t\"storybook\": \"^7.1.0\",\n\t\t\t\t\"tailwindcss\": \"^3.3.3\",\n\t\t\t\t\"typescript\": \"^5.1.6\"\n\t\t\t\t\"typescript\": \"^5.3.3\"\n\t\t\t}\n\t\t}\n  \n2 changes: 1 addition & 1 deletion\n2  \napps/wallet/package.json\n\t@@ -92,7 +92,7 @@\n\t\t\t\t\"ts-loader\": \"^9.4.4\",\n\t\t\t\t\"ts-node\": \"^10.9.1\",\n\t\t\t\t\"tsconfig-paths\": \"^4.2.0\",\n\t\t\t\t\"typescript\": \"^5.1.6\",\n\t\t\t\t\"typescript\": \"^5.3.3\",\n\t\t\t\t\"vite\": \"^4.4.4\",\n\t\t\t\t\"vite-tsconfig-paths\": \"^4.2.0\",\n\t\t\t\t\"vitest\": \"^0.33.0\",\n\n\t\n  \n4 changes: 3 additions & 1 deletion\n4  \ncrates/x/src/lint.rs\n\t@@ -131,7 +131,9 @@ pub fn handle_lint_results_exclude_external_crate_checks(\n\t\t    let mut errs = false;\n\t\t    for (source, message) in &results.messages {\n\t\t        if let LintKind::Content(path) = source.kind() {\n\t\t            if (path.starts_with(EXTERNAL_CRATE_DIR) || path.starts_with(CREATE_DAPP_TEMPLATE_DIR))\n\t\t            if (path.starts_with(EXTERNAL_CRATE_DIR)\n\t\t                || path.starts_with(CREATE_DAPP_TEMPLATE_DIR)\n\t\t                || path.to_string().contains(\"/generated/\"))\n\t\t                && source.name() == \"license-header\"\n\t\t            {\n\t\t                continue;\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \ndapps/kiosk/package.json\n\t@@ -35,7 +35,7 @@\n\t\t\t\t\"autoprefixer\": \"^10.4.14\",\n\t\t\t\t\"postcss\": \"^8.4.31\",\n\t\t\t\t\"tailwindcss\": \"^3.3.3\",\n\t\t\t\t\"typescript\": \"^5.1.6\",\n\t\t\t\t\"typescript\": \"^5.3.3\",\n\t\t\t\t\"vite\": \"^4.4.4\"\n\t\t\t}\n\t\t}\n  \n2 changes: 1 addition & 1 deletion\n2  \ndapps/multisig-toolkit/package.json\n\t@@ -49,7 +49,7 @@\n\t\t\t\t\"postcss\": \"^8.4.31\",\n\t\t\t\t\"tailwindcss\": \"^3.3.3\",\n\t\t\t\t\"tailwindcss-animate\": \"^1.0.6\",\n\t\t\t\t\"typescript\": \"^5.1.6\",\n\t\t\t\t\"typescript\": \"^5.3.3\",\n\t\t\t\t\"vite\": \"^4.4.4\",\n\t\t\t\t\"vite-tsconfig-paths\": \"^4.2.0\"\n\t\t\t}\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \ndapps/sponsored-transactions/package.json\n\t@@ -27,7 +27,7 @@\n\t\t\t\t\"autoprefixer\": \"^10.4.14\",\n\t\t\t\t\"postcss\": \"^8.4.31\",\n\t\t\t\t\"tailwindcss\": \"^3.3.3\",\n\t\t\t\t\"typescript\": \"^5.1.6\",\n\t\t\t\t\"typescript\": \"^5.3.3\",\n\t\t\t\t\"vite\": \"^4.4.4\"\n\t\t\t}\n\t\t}\n \n34 changes: 17 additions & 17 deletions\n34  \nexamples/mev_bot/package.json\n\t\t@@ -1,19 +1,19 @@\n\t\t{\n\t\t  \"name\": \"mev-bot\",\n\t\t  \"version\": \"1.0.0\",\n\t\t  \"main\": \"src/index.ts\",\n\t\t  \"type\": \"module\",\n\t\t  \"author\": \"Patrick <patrick@mystenlabs.com>\",\n\t\t  \"license\": \"MIT\",\n\t\t  \"scripts\": {\n\t\t    \"start\": \"npx ts-node --esm src/index.ts\"\n\t\t  },\n\t\t  \"dependencies\": {\n\t\t    \"@mysten/sui.js\": \"^0.39.0\",\n\t\t    \"p-limit\": \"^4.0.0\"\n\t\t  },\n\t\t  \"devDependencies\": {\n\t\t    \"ts-node\": \"^10.9.1\",\n\t\t    \"typescript\": \"^5.1.6\"\n\t\t  }\n\t\t\t\"name\": \"mev-bot\",\n\t\t\t\"version\": \"1.0.0\",\n\t\t\t\"main\": \"src/index.ts\",\n\t\t\t\"type\": \"module\",\n\t\t\t\"author\": \"Patrick <patrick@mystenlabs.com>\",\n\t\t\t\"license\": \"MIT\",\n\t\t\t\"scripts\": {\n\t\t\t\t\"start\": \"npx ts-node --esm src/index.ts\"\n\t\t\t},\n\t\t\t\"dependencies\": {\n\t\t\t\t\"@mysten/sui.js\": \"^0.39.0\",\n\t\t\t\t\"p-limit\": \"^4.0.0\"\n\t\t\t},\n\t\t\t\"devDependencies\": {\n\t\t\t\t\"ts-node\": \"^10.9.1\",\n\t\t\t\t\"typescript\": \"^5.3.3\"\n\t\t\t}\n\t\t}\n  \n2 changes: 1 addition & 1 deletion\n2  \npackage.json\n\t@@ -61,6 +61,6 @@\n\t\t\t\t\"prettier-plugin-tailwindcss\": \"^0.4.1\",\n\t\t\t\t\"tsx\": \"^3.12.7\",\n\t\t\t\t\"turbo\": \"^1.10.8\",\n\t\t\t\t\"typescript\": \"^5.1.6\"\n\t\t\t\t\"typescript\": \"^5.3.3\"\n\t\t\t}\n\t\t}\n0 comments on commit 4830361\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "chore: remove repetitive words (#17148) · MystenLabs/sui@c92c34d · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/c92c34dad909e6c37f7f105216fde9e9aa108d8a",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\nchore: remove repetitive words (#17148)\nBrowse files\n## Description \nremove repetitive words\n\n## Test plan \n\nNo need\n\n---\n\n## Release notes\n\nCheck each box that your changes affect. If none of the boxes relate to\nyour changes, release notes aren't required.\n\nFor each box you select, include information after the relevant heading\nthat describes the impact of your changes that a user might notice and\nany actions they must take to implement updates.\n\n- [ ] Protocol: \n- [ ] Nodes (Validators and Full nodes): \n- [ ] Indexer: \n- [x] JSON-RPC: \n- [ ] GraphQL: \n- [ ] CLI: \n- [ ] Rust SDK:\n\n---------\n\nSigned-off-by: StevenMia <flite@foxmail.com>\nCo-authored-by: Michael Hayes <michael.hayes@mystenlabs.com>\n main (#17148)\n testnet-v1.25.0 \n…\n devnet-v1.24.0\nStevenMia and hayes-mysten committed  \n1 parent abbf3a3\ncommit c92c34d\n \nShowing 7 changed files with 9 additions and 7 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\n.eslintrc.js\ncrates\nsui-framework\ndocs/deepbook\ncritbit.md\npackages/deepbook/sources\ncritbit.move\nsui-json-rpc/src\nindexer_api.rs\nsdk\nbcs\nREADME.md\ndocs\n.prettierignore\npages/bcs\nindex.mdx\n  \n1 change: 1 addition & 0 deletions\n1  \n.eslintrc.js\n\t@@ -34,6 +34,7 @@ module.exports = {\n\t\t\t\t'external-crates',\n\t\t\t\t'storybook-static',\n\t\t\t\t'.next',\n\t\t\t\t'sdk/docs/public/typedoc',\n\t\t\t],\n\t\t\trules: {\n\t\t\t\t'no-case-declarations': 'off',\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \ncrates/sui-framework/docs/deepbook/critbit.md\n\t@@ -742,7 +742,7 @@ title: Module `0xdee9::critbit`\n\t\t\n\n\t\t        <b>if</b> (removed_leaf_grand_parent_index == <a href=\"critbit.md#0xdee9_critbit_PARTITION_INDEX\">PARTITION_INDEX</a>) {\n\t\t            // Parent of the removed leaf is the tree root\n\t\t            // Update the parent of the sibling node and and set sibling <b>as</b> the tree root\n\t\t            // Update the parent of the sibling node and set sibling <b>as</b> the tree root\n\t\t            <b>if</b> (sibling_index &lt; <a href=\"critbit.md#0xdee9_critbit_PARTITION_INDEX\">PARTITION_INDEX</a>) {\n\t\t                // sibling is an <b>internal</b> node\n\t\t                <a href=\"../sui-framework/table.md#0x2_table_borrow_mut\">table::borrow_mut</a>(&<b>mut</b> tree.internal_nodes, sibling_index).parent = <a href=\"critbit.md#0xdee9_critbit_PARTITION_INDEX\">PARTITION_INDEX</a>;\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \ncrates/sui-framework/packages/deepbook/sources/critbit.move\n\t@@ -278,7 +278,7 @@ module deepbook::critbit {\n\t\t\n\n\t\t            if (removed_leaf_grand_parent_index == PARTITION_INDEX) {\n\t\t                // Parent of the removed leaf is the tree root\n\t\t                // Update the parent of the sibling node and and set sibling as the tree root\n\t\t                // Update the parent of the sibling node and set sibling as the tree root\n\t\t                if (sibling_index < PARTITION_INDEX) {\n\t\t                    // sibling is an internal node\n\t\t                    table::borrow_mut(&mut tree.internal_nodes, sibling_index).parent = PARTITION_INDEX;\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \ncrates/sui-json-rpc/src/indexer_api.rs\n\t@@ -413,7 +413,7 @@ impl<R: ReadApiServer> IndexerApiServer for IndexerApi<R> {\n\t\t            let name_record = NameRecord::try_from(object)?;\n\t\t\n\n\t\t            // Handling SLD names & node subdomains is the same (we handle them as `node` records)\n\t\t            // We check their expiration, and and if not expired, return the target address.\n\t\t            // We check their expiration, and if not expired, return the target address.\n\t\t            if !name_record.is_leaf_record() {\n\t\t                return if !name_record.is_node_expired(current_timestamp_ms) {\n\t\t                    Ok(name_record.target_address)\n\n\t\n  \n4 changes: 2 additions & 2 deletions\n4  \nsdk/bcs/README.md\n\t@@ -51,8 +51,8 @@ built-in primitives, such as `string` or `u64`). There are no type hints in the\n\t\twhat they mean, so the schema used for decoding must match the schema used to encode the data.\n\t\t\n\n\t\tThe `@mysten/bcs` library can be used to define schemas that can serialize and deserialize BCS\n\t\tencoded data, and and can infer the correct TypeScript for the schema from the definitions\n\t\tthemselves rather than having to define them manually.\n\t\tencoded data, and can infer the correct TypeScript for the schema from the definitions themselves\n\t\trather than having to define them manually.\n\t\t\n\n\t\t## Basic types\n\t\t\n\n\n\t\n \n1 change: 1 addition & 0 deletions\n1  \nsdk/docs/.prettierignore\n\t\t@@ -1,2 +1,3 @@\n\t\tCHANGELOG.md\n\t\t.next\n\t\tpublic/typedoc\n  \n4 changes: 2 additions & 2 deletions\n4  \nsdk/docs/pages/bcs/index.mdx\n\t@@ -51,8 +51,8 @@ built-in primitives, such as `string` or `u64`). There are no type hints in the\n\t\twhat they mean, so the schema used for decoding must match the schema used to encode the data.\n\t\t\n\n\t\tThe `@mysten/bcs` library can be used to define schemas that can serialize and deserialize BCS\n\t\tencoded data, and and can infer the correct TypeScript for the schema from the definitions\n\t\tthemselves rather than having to define them manually.\n\t\tencoded data, and can infer the correct TypeScript for the schema from the definitions themselves\n\t\trather than having to define them manually.\n\t\t\n\n\t\t## Basic types\n\t\t\n\n\n\t\n0 comments on commit c92c34d\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "chore: remove repetitive words by StevenMia · Pull Request #17148 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/17148",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\nchore: remove repetitive words #17148\n Merged\nhayes-mysten merged 2 commits into MystenLabs:main from StevenMia:main \n Conversation 3\n Commits 2\n Checks 39\n Files changed\nConversation\nContributor\nStevenMia commented  • \nedited by ronny-mysten \nDescription\n\nremove repetitive words\n\nTest plan\n\nNo need\n\nRelease notes\n\nCheck each box that your changes affect. If none of the boxes relate to your changes, release notes aren't required.\n\nFor each box you select, include information after the relevant heading that describes the impact of your changes that a user might notice and any actions they must take to implement updates.\n\n Protocol:\n Nodes (Validators and Full nodes):\n Indexer:\n JSON-RPC:\n GraphQL:\n CLI:\n Rust SDK:\n StevenMia requested review from a team and ronny-mysten as code owners \nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nsui-core\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tApr 15, 2024 9:43pm\nsui-typescript-docs\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tApr 15, 2024 9:43pm\n2 Ignored Deployments\n vercel bot deployed to Preview – sui-core \nView deployment\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\nhayes-mysten approved these changes \nView reviewed changes\nContributor\ngithub-actions bot commented  • \nedited \n\n⚠️ 🦋 Changesets Warning: This PR has changes to public npm packages, but does not contain a changeset. You can create a changeset easily by running pnpm changeset in the root of the Sui repo, and following the prompts. If your change does not need a changeset (e.g. a documentation-only change), you can ignore this message. This warning will be removed when a changeset is added to this pull request.\n\nLearn more about Changesets.\n\n vercel bot deployed to Preview – sui-core \nView deployment\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\nStevenMia and others added 2 commits \nchore: remove repetitive words …\n1cfde25\nfix lint\n005a6c9\n hayes-mysten force-pushed the main branch from 142e0bb to 005a6c9 \nCompare\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\n vercel bot deployed to Preview – sui-core \nView deployment\nView details\n hayes-mysten merged commit c92c34d into MystenLabs:main \n43 checks passed\nContributor\nhayes-mysten commented \n\nthanks for the fix!\n\n1\nwlmyng pushed a commit that referenced this pull request \nchore: remove repetitive words (#17148) …\n14a3a00\nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\nhayes-mysten\n\nronny-mysten\n\nAssignees\nNo one assigned\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n2 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Deterministic Build using StageX by RyanSquared · Pull Request #16522 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/16522",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\nDeterministic Build using StageX #16522\n Merged\njnaulty merged 1 commit into MystenLabs:main from RyanSquared:ryansquared/stagex-refactor \n+88 −32 \n Conversation 2\n Commits 1\n Checks 38\n Files changed 3\nConversation\nContributor\nRyanSquared commented  • \nedited \nDescription\n\nThis uses the stagex toolchain (see: https://codeberg.org/stagex/stagex) to build thesui-node container.\n\nWhat is stagex?\n\nstagex starts with 256 bytes of x86 assembly and deterministically reproduces every dependency necessary to build modern software. Every release of stagex is coordinated such that only if two maintainers with a separate hardware stack are able to reproduce the entire toolchain, will the containers be published. As such, stagex can be built locally to get the exact same images that exist in Docker Hub (when using Docker 25.x with containerd snapshotter).\n\nThis pull request uses the stagex toolchain and the stagex Containerfile workflow to build a deterministic OCI image. The image may be loaded to Docker using:\n\n# Import into Docker\nenv -C build/oci/sui-node tar c . | docker load\n\n# Verify Sui loads by printing version\ndocker run sui-node\n\nThe choice of the OCI output format is to ensure reproducibility, as Docker's image format has occasional quirks depending on the machine it runs on, but we've yet to experience a hardware configuration that has yet to reproduce using Docker 25.x and the containerd snapshotter.\n\nPlease note that the resulting image hash is dependent on the content ADDed in the Containerfile, so any modifications to any files that aren't exempted in .dockerignore will result in a new image hash.\n\nTest Plan\n\nRun sh docker/sui-node/build.sh, and compare the built hash:\n\n => exporting to oci image format\n => => exporting layers\n => => exporting manifest sha256:d82d09740b6e1e49742d2190766e285868f5eb42177af95423a352107bd8e43f\n => => exporting config sha256:40c360768857f5e23f2361872a04d6a7d99aad17d488703e9a368b90f4dda00f\n\n\nRun docker system prune to clear the build cache, and run sh docker/sui-node/build.sh again.\n\n1\n1\ndocker/sui-node/Dockerfile: reproducible builds using stagex toolchain\nVerified\n2049362\nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nsui-core\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMar 4, 2024 9:19am\nsui-typescript-docs\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMar 4, 2024 9:19am\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\n vercel bot deployed to Preview – sui-core \nView deployment\n jnaulty requested review from jnaulty, bmwill and ebmifa \nContributor\njnaulty commented \n\nThanks @RyanSquared for submitting this PR, and for all the work that went behind from you, Distrust, and others.\nIf merged, this should fix/resolve: #13476\n\n jnaulty changed the title Ryansquared/stagex refactor Deterministic Build using StageX \njnaulty approved these changes \nView reviewed changes\nView details\n jnaulty merged commit 4ed7fcf into MystenLabs:main \n44 checks passed\nebmifa pushed a commit that referenced this pull request \nDeterministic Build using StageX (#16522) …\nUnverified\n9106907\nebmifa pushed a commit that referenced this pull request \nDeterministic Build using StageX (#16522) …\nUnverified\n429f6cd\njnaulty added a commit that referenced this pull request \n[docker]: migrate to debian and install system ca certs …\nVerified\n58d68f1\n jnaulty mentioned this pull request \n[docker]: migrate to debian and install system ca certs #16671\n Draft\n7 tasks\njnaulty added a commit that referenced this pull request \n[docker]: migrate to debian and install system ca certs …\nVerified\nc874846\nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\njnaulty\n\nbmwill\n\nebmifa\n\nAssignees\nNo one assigned\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n2 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Deterministic Build using StageX (#16522) · MystenLabs/sui@4ed7fcf · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/4ed7fcfb5f9ec34d34198e411de11ea3389617d2",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\nDeterministic Build using StageX (#16522)\nBrowse files\n## Description \n\nThis uses the stagex toolchain (see: https://codeberg.org/stagex/stagex)\nto build the`sui-node` container.\n\n### What is stagex?\n\n[stagex](https://codeberg.org/stagex/stagex) starts with 256 bytes of\nx86 assembly and deterministically reproduces every dependency necessary\nto build modern software. Every release of stagex is coordinated such\nthat only if two maintainers with a separate hardware stack are able to\nreproduce the _entire_ toolchain, will the containers be published. As\nsuch, stagex can be built locally to get the _exact_ same images that\nexist in Docker Hub (when using Docker 25.x with containerd\nsnapshotter).\n\nThis pull request uses the stagex toolchain and the stagex Containerfile\nworkflow to build a deterministic OCI image. The image may be loaded to\nDocker using:\n\n```sh\n# Import into Docker\nenv -C build/oci/sui-node tar c . | docker load\n\n# Verify Sui loads by printing version\ndocker run sui-node\n```\n\nThe choice of the OCI output format is to ensure reproducibility, as\nDocker's image format has occasional quirks depending on the machine it\nruns on, but we've yet to experience a hardware configuration that has\nyet to reproduce using Docker 25.x and the containerd snapshotter.\n\nPlease note that the resulting image hash is dependent on the content\n`ADD`ed in the Containerfile, so any modifications to any files that\naren't exempted in `.dockerignore` will result in a new image hash.\n\n## Test Plan \n\nRun `sh docker/sui-node/build.sh`, and compare the built hash:\n\n```\n => exporting to oci image format\n => => exporting layers\n => => exporting manifest sha256:d82d09740b6e1e49742d2190766e285868f5eb42177af95423a352107bd8e43f\n => => exporting config sha256:40c360768857f5e23f2361872a04d6a7d99aad17d488703e9a368b90f4dda00f\n```\n\nRun `docker system prune` to clear the build cache, and run `sh\ndocker/sui-node/build.sh` again.\n Loading branch information\nRyanSquared committed  \nVerified\n1 parent 3a84c3a\ncommit 4ed7fcf\n \nShowing 3 changed files with 88 additions and 32 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\n.dockerignore\ndocker/sui-node\nDockerfile\nbuild.sh\n  \n1 change: 1 addition & 0 deletions\n1  \n.dockerignore\n\t@@ -6,3 +6,4 @@ target/\n\t\t*.md\n\t\tbuild/\n\t\tstorage/\n\t\tdocker/\n \n113 changes: 81 additions & 32 deletions\n113  \ndocker/sui-node/Dockerfile\n\t\t@@ -1,36 +1,85 @@\n\t\t# Build application\n\t\t#\n\t\t# Copy in all crates, Cargo.toml and Cargo.lock unmodified,\n\t\t# and build the application.\n\t\tFROM rust:1.75-bullseye AS builder\n\t\tARG PROFILE=release\n\t\tARG BUILD_DATE\n\t\tARG GIT_REVISION\n\t\tENV GIT_REVISION=$GIT_REVISION\n\t\tWORKDIR \"$WORKDIR/sui\"\n\t\tRUN apt-get update && apt-get install -y cmake clang\n\t\t\n\n\t\tCOPY Cargo.toml Cargo.lock ./\n\t\tCOPY consensus consensus\n\t\tCOPY crates crates\n\t\tCOPY sui-execution sui-execution\n\t\tCOPY narwhal narwhal\n\t\tCOPY external-crates external-crates\n\t\t\n\n\t\tRUN cargo build --profile ${PROFILE} --bin sui-node\n\t\t\n\n\t\t# Production Image\n\t\tFROM debian:bullseye-slim AS runtime\n\t\t# Use jemalloc as memory allocator\n\t\tRUN apt-get update && apt-get install -y libjemalloc-dev ca-certificates\n\t\tENV LD_PRELOAD /usr/lib/x86_64-linux-gnu/libjemalloc.so\n\t\tARG PROFILE=release\n\t\tWORKDIR \"$WORKDIR/sui\"\n\t\t# Both bench and release profiles copy from release dir\n\t\tCOPY --from=builder /sui/target/release/sui-node /opt/sui/bin/sui-node\n\t\t# Support legacy usages of /usr/local/bin/sui-node\n\t\tCOPY --from=builder /sui/target/release/sui-node /usr/local/bin\n\t\tARG RUST_VERSION=1.76.0\n\t\t\n\n\t\tARG BUILD_DATE\n\t\tFROM scratch AS base\n\t\t\n\n\t\tFROM stagex/rust:${RUST_VERSION} AS rust\n\t\tFROM base AS fetch\n\t\t\n\n\t\tCOPY --from=stagex/busybox . /\n\t\tCOPY --from=stagex/musl . /\n\t\tCOPY --from=rust . /\n\t\t\n\n\t\tCOPY --from=stagex/gcc . /\n\t\tCOPY --from=stagex/llvm . /\n\t\tCOPY --from=stagex/libunwind . /\n\t\tCOPY --from=stagex/openssl . /\n\t\tCOPY --from=stagex/zlib . /\n\t\t\n\n\t\t# NOTE: Necessary for `cargo fetch`, but CA trust is not relied upon\n\t\tCOPY --from=stagex/ca-certificates . /\n\t\t\n\n\t\t# HACK: gcc puts things in /usr/lib64 \n\t\tCOPY --from=stagex/gcc /usr/lib64/* /usr/lib/\n\t\t\n\n\t\tCOPY . /sui\n\t\t\n\n\t\tWORKDIR sui\n\t\t\n\n\t\tRUN cargo fetch\n\t\t\n\n\t\tFROM fetch AS build\n\t\t\n\n\t\t# Rust build deps\n\t\t\n\n\t\tCOPY --from=stagex/binutils . /\n\t\tCOPY --from=stagex/gcc . /\n\t\tCOPY --from=stagex/llvm . /\n\t\tCOPY --from=stagex/make . /\n\t\tCOPY --from=stagex/musl . /\n\t\t\n\n\t\t# Sui build deps\n\t\t\n\n\t\tCOPY --from=stagex/clang . /\n\t\tCOPY --from=stagex/linux-headers . /\n\t\t\n\n\t\tARG PROFILE\n\t\tARG GIT_REVISION\n\t\tLABEL build-date=$BUILD_DATE\n\t\tLABEL git-revision=$GIT_REVISION\n\t\t\n\n\t\tENV RUST_BACKTRACE=1\n\t\tENV RUSTFLAGS='-C target-feature=-crt-static -C codegen-units=1'\n\t\tENV GIT_REVISION=${GIT_REVISION}\n\t\tENV PROFILE=${PROFILE}\n\t\t\n\n\t\tRUN --network=none cargo build --frozen --profile ${PROFILE} --bin sui-node\n\t\t\n\n\t\tFROM scratch AS install\n\t\t\n\n\t\tCOPY --from=stagex/busybox . /\n\t\t\n\n\t\tCOPY --from=stagex/busybox . /rootfs\n\t\tCOPY --from=stagex/libunwind . /rootfs\n\t\tCOPY --from=stagex/gcc . /rootfs\n\t\tCOPY --from=stagex/musl . /rootfs\n\t\t\n\n\t\t# HACK: In the current release of stagex, gcc puts things in /usr/lib64,\n\t\t# but we expect them in /usr/lib\n\t\tCOPY --from=stagex/gcc /usr/lib64/* /rootfs/usr/lib/\n\t\t\n\n\t\tCOPY --from=build sui/target/release/sui-node /rootfs/usr/bin/sui-node\n\t\tRUN --network=none find /rootfs -exec touch -hcd \"@0\" \"{}\" +\n\t\t\n\n\t\tFROM scratch AS package\n\t\t\n\n\t\tARG PROFILE\n\t\tARG GIT_REVISION\n\t\t\n\n\t\tLABEL build-date=${BUILD_DATE}\n\t\tLABEL git-revision=${GIT_REVISION}\n\t\t\n\n\t\tCOPY --from=install /rootfs /\n\t\t\n\n\t\tENTRYPOINT [\"/usr/bin/sui-node\"]\n\t\tCMD [\"--version\"]\n  \n6 changes: 6 additions & 0 deletions\n6  \ndocker/sui-node/build.sh\n\t@@ -7,6 +7,7 @@ set -e\n\t\t\n\n\t\tDIR=\"$( cd \"$( dirname \"$0\" )\" && pwd )\"\n\t\tREPO_ROOT=\"$(git rev-parse --show-toplevel)\"\n\t\tOCI_OUTPUT=\"$REPO_ROOT/build/oci\"\n\t\tDOCKERFILE=\"$DIR/Dockerfile\"\n\t\tGIT_REVISION=\"$(git describe --always --dirty --exclude '*')\"\n\t\tBUILD_DATE=\"$(date -u +'%Y-%m-%d')\"\n\n\t@@ -26,10 +27,15 @@ echo \"Dockerfile: \\t$DOCKERFILE\"\n\t\techo \"docker context: $REPO_ROOT\"\n\t\techo \"build date: \\t$BUILD_DATE\"\n\t\techo \"git revision: \\t$GIT_REVISION\"\n\t\techo \"output directory: \\t$OCI_OUTPUT\"\n\t\techo\n\t\t\n\n\t\texport DOCKER_BUILDKIT=1\n\t\texport SOURCE_DATE_EPOCH=1\n\t\t\n\n\t\tdocker build -f \"$DOCKERFILE\" \"$REPO_ROOT\" \\\n\t\t\t--build-arg GIT_REVISION=\"$GIT_REVISION\" \\\n\t\t\t--build-arg BUILD_DATE=\"$BUILD_DATE\" \\\n\t\t\t--build-arg PROFILE=\"$PROFILE\" \\\n\t\t  --output type=oci,rewrite-timestamp=true,force-compression=true,tar=false,dest=$OCI_OUTPUT/sui-node,name=sui-node \\\n\t\t\t\"$@\"\n0 comments on commit 4ed7fcf\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Disallow `futures::executor::block_on` (#10912) · MystenLabs/sui@f53b960 · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/f53b960acdc85d5df1d3543a498aff5042d0ce95",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\nDisallow futures::executor::block_on (#10912)\nBrowse files\n## Description \n* Adds clippy warning wherever `futures::executor::block_on` is used\n* Area owners should address. Looks like mostly in indexer, narwhal,\nsui-json, sui-json-rpc, sui-core\n\nFor more context see: #10910\n\n## Test Plan \n\nN/A\n\n---\nIf your changes are not user-facing and not a breaking change, you can\nskip the following section. Otherwise, please indicate what changed, and\nthen add to the Release Notes section as highlighted during the release\nprocess.\n\n### Type of Change (Check all that apply)\n\n- [ ] user-visible impact\n- [ ] breaking change for a client SDKs\n- [ ] breaking change for FNs (FN binary must upgrade)\n- [ ] breaking change for validators or node operators (must upgrade\nbinaries)\n- [ ] breaking change for on-chain data layout\n- [ ] necessitate either a data wipe or data migration\n\n### Release notes\n Loading branch information\noxade committed  \nVerified\n1 parent bd2b509\ncommit f53b960\n \nShowing 6 changed files with 113 additions and 27 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\n.clippy.toml\ncrates\nsui-indexer\nbenches\nindexer_benchmark.rs\nsrc/apis\nindexer_api.rs\nread_api.rs\nsui-tool/src\nreplay.rs\nnarwhal\n.clippy.toml\n  \n2 changes: 2 additions & 0 deletions\n2  \n.clippy.toml\n\t@@ -9,6 +9,8 @@ disallowed-methods = [\n\t\t    { path = \"tokio::sync::mpsc::unbounded_channel\", reason = \"use a bounded channel instead\" },\n\t\t    { path = \"futures::channel::mpsc::unbounded\", reason = \"use a bounded channel instead\" },\n\t\t    { path = \"futures_channel::mpsc::unbounded\", reason = \"use a bounded channel instead\" },\n\t\t    # known to cause blocking issues\n\t\t    { path = \"futures::executor::block_on\", reason = \"use tokio::runtime::runtime::Runtime::block_on instead\"},\n\t\t    # bincode::deserialize_from is easy to shoot your foot with\n\t\t    { path = \"bincode::deserialize_from\", reason = \"use bincode::deserialize instead\" },\n\t\t]\n  \n2 changes: 1 addition & 1 deletion\n2  \ncrates/sui-indexer/benches/indexer_benchmark.rs\n\t@@ -37,7 +37,7 @@ fn indexer_benchmark(c: &mut Criterion) {\n\t\t    let pw = env::var(\"POSTGRES_PASSWORD\").unwrap_or_else(|_| \"postgrespw\".into());\n\t\t    let db_url = format!(\"postgres://postgres:{pw}@{pg_host}:{pg_port}\");\n\t\t\n\n\t\t    let rt = Runtime::new().unwrap();\n\t\t    let rt: Runtime = Runtime::new().unwrap();\n\t\t    let (mut checkpoints, store) = rt.block_on(async {\n\t\t        let (blocking_cp, async_cp) = new_pg_connection_pool(&db_url).await.unwrap();\n\t\t        reset_database(&mut blocking_cp.get().unwrap(), true).unwrap();\n\n\t\n  \n11 changes: 10 additions & 1 deletion\n11  \ncrates/sui-indexer/src/apis/indexer_api.rs\n\t@@ -318,6 +318,8 @@ impl<S> IndexerApiServer for IndexerApi<S>\n\t\twhere\n\t\t    S: IndexerStore + Sync + Send + 'static,\n\t\t{\n\t\t    // TODO: remove this after `futures::executor::block_on` is removed. @Ge @Chris\n\t\t    #[allow(clippy::disallowed_methods)]\n\t\t    fn get_owned_objects(\n\t\t        &self,\n\t\t        address: SuiAddress,\n\n\t@@ -343,7 +345,8 @@ where\n\t\t        }\n\t\t        block_on(self.get_owned_objects_internal(address, query, cursor, limit))\n\t\t    }\n\t\t\n\n\t\t    // TODO: remove this after `futures::executor::block_on` is removed. @Ge @Chris\n\t\t    #[allow(clippy::disallowed_methods)]\n\t\t    fn query_transaction_blocks(\n\t\t        &self,\n\t\t        query: SuiTransactionBlockResponseQuery,\n\n\t@@ -377,6 +380,8 @@ where\n\t\t        ))?)\n\t\t    }\n\t\t\n\n\t\t    // TODO: remove this after `futures::executor::block_on` is removed. @Ge @Chris\n\t\t    #[allow(clippy::disallowed_methods)]\n\t\t    fn query_events(\n\t\t        &self,\n\t\t        query: EventFilter,\n\n\t@@ -407,6 +412,8 @@ where\n\t\t        ))?)\n\t\t    }\n\t\t\n\n\t\t    // TODO: remove this after `futures::executor::block_on` is removed. @Ge @Chris\n\t\t    #[allow(clippy::disallowed_methods)]\n\t\t    fn get_dynamic_fields(\n\t\t        &self,\n\t\t        parent_object_id: ObjectID,\n\n\t@@ -426,6 +433,8 @@ where\n\t\t        df_resp\n\t\t    }\n\t\t\n\n\t\t    // TODO: remove this after `futures::executor::block_on` is removed. @Ge @Chris\n\t\t    #[allow(clippy::disallowed_methods)]\n\t\t    fn get_dynamic_field_object(\n\t\t        &self,\n\t\t        parent_object_id: ObjectID,\n\n\t\n  \n19 changes: 18 additions & 1 deletion\n19  \ncrates/sui-indexer/src/apis/read_api.rs\n\t@@ -128,6 +128,8 @@ impl<S> ReadApiServer for ReadApi<S>\n\t\twhere\n\t\t    S: IndexerStore + Sync + Send + 'static,\n\t\t{\n\t\t    // TODO: remove this after `futures::executor::block_on` is removed. @Ge @Chris\n\t\t    #[allow(clippy::disallowed_methods)]\n\t\t    fn get_object(\n\t\t        &self,\n\t\t        object_id: ObjectID,\n\n\t@@ -147,6 +149,8 @@ where\n\t\t        Ok(block_on(self.get_object_internal(object_id, options))?)\n\t\t    }\n\t\t\n\n\t\t    // TODO: remove this after `futures::executor::block_on` is removed. @Ge @Chris\n\t\t    #[allow(clippy::disallowed_methods)]\n\t\t    fn multi_get_objects(\n\t\t        &self,\n\t\t        object_ids: Vec<ObjectID>,\n\n\t@@ -203,6 +207,8 @@ where\n\t\t            .await?)\n\t\t    }\n\t\t\n\n\t\t    // TODO: remove this after `futures::executor::block_on` is removed. @Ge @Chris\n\t\t    #[allow(clippy::disallowed_methods)]\n\t\t    fn multi_get_transaction_blocks(\n\t\t        &self,\n\t\t        digests: Vec<TransactionDigest>,\n\n\t@@ -227,6 +233,8 @@ where\n\t\t        )?)\n\t\t    }\n\t\t\n\n\t\t    // TODO: remove this after `futures::executor::block_on` is removed. @Ge @Chris\n\t\t    #[allow(clippy::disallowed_methods)]\n\t\t    fn try_get_past_object(\n\t\t        &self,\n\t\t        object_id: ObjectID,\n\n\t@@ -246,6 +254,8 @@ where\n\t\t        past_obj_resp\n\t\t    }\n\t\t\n\n\t\t    // TODO: remove this after `futures::executor::block_on` is removed. @Ge @Chris\n\t\t    #[allow(clippy::disallowed_methods)]\n\t\t    fn try_multi_get_past_objects(\n\t\t        &self,\n\t\t        past_objects: Vec<SuiGetPastObjectRequest>,\n\n\t@@ -301,6 +311,8 @@ where\n\t\t        Ok(self.state.get_checkpoint(id).await?)\n\t\t    }\n\t\t\n\n\t\t    // TODO: remove this after `futures::executor::block_on` is removed. @Ge @Chris\n\t\t    #[allow(clippy::disallowed_methods)]\n\t\t    fn get_checkpoints(\n\t\t        &self,\n\t\t        cursor: Option<BigInt<u64>>,\n\n\t@@ -320,6 +332,8 @@ where\n\t\t        cps_resp\n\t\t    }\n\t\t\n\n\t\t    // TODO: remove this after `futures::executor::block_on` is removed. @Ge @Chris\n\t\t    #[allow(clippy::disallowed_methods)]\n\t\t    fn get_checkpoints_deprecated_limit(\n\t\t        &self,\n\t\t        cursor: Option<BigInt<u64>>,\n\n\t@@ -329,6 +343,8 @@ where\n\t\t        self.get_checkpoints(cursor, limit.map(|l| *l as usize), descending_order)\n\t\t    }\n\t\t\n\n\t\t    // TODO: remove this after `futures::executor::block_on` is removed. @Ge @Chris\n\t\t    #[allow(clippy::disallowed_methods)]\n\t\t    fn get_events(&self, transaction_digest: TransactionDigest) -> RpcResult<Vec<SuiEvent>> {\n\t\t        let events_guard = self\n\t\t            .state\n\n\t@@ -339,7 +355,8 @@ where\n\t\t        events_guard.stop_and_record();\n\t\t        events_resp\n\t\t    }\n\t\t\n\n\t\t    // TODO: remove this after `futures::executor::block_on` is removed. @Ge @Chris\n\t\t    #[allow(clippy::disallowed_methods)]\n\t\t    fn get_loaded_child_objects(\n\t\t        &self,\n\t\t        digest: TransactionDigest,\n\n\t\n  \n104 changes: 80 additions & 24 deletions\n104  \ncrates/sui-tool/src/replay.rs\n\t@@ -201,6 +201,41 @@ pub enum LocalExecError {\n\t\t\n\n\t\t    #[error(\"GeneralError: {:#?}\", err)]\n\t\t    GeneralError { err: String },\n\t\t\n\n\t\t    #[error(\"ObjectNotExist: {:#?}\", id)]\n\t\t    ObjectNotExist { id: ObjectID },\n\t\t\n\n\t\t    #[error(\n\t\t        \"ObjectDeleted: {:#?} at version {:#?} digest {:#?}\",\n\t\t        id,\n\t\t        version,\n\t\t        digest\n\t\t    )]\n\t\t    ObjectDeleted {\n\t\t        id: ObjectID,\n\t\t        version: SequenceNumber,\n\t\t        digest: ObjectDigest,\n\t\t    },\n\t\t}\n\t\t\n\n\t\timpl From<SuiObjectResponseError> for LocalExecError {\n\t\t    fn from(err: SuiObjectResponseError) -> Self {\n\t\t        match err {\n\t\t            SuiObjectResponseError::NotExists { object_id } => {\n\t\t                LocalExecError::ObjectNotExist { id: object_id }\n\t\t            }\n\t\t            SuiObjectResponseError::Deleted {\n\t\t                object_id,\n\t\t                digest,\n\t\t                version,\n\t\t            } => LocalExecError::ObjectDeleted {\n\t\t                id: object_id,\n\t\t                version,\n\t\t                digest,\n\t\t            },\n\t\t            _ => LocalExecError::SuiObjectResponseError { err },\n\t\t        }\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl From<LocalExecError> for SuiError {\n\n\t@@ -389,6 +424,8 @@ impl LocalExec {\n\t\t        Ok(objects)\n\t\t    }\n\t\t\n\n\t\t    // TODO: remove this after `futures::executor::block_on` is removed.\n\t\t    #[allow(clippy::disallowed_methods)]\n\t\t    pub fn download_object(\n\t\t        &self,\n\t\t        object_id: &ObjectID,\n\n\t@@ -436,24 +473,42 @@ impl LocalExec {\n\t\t        Ok(o)\n\t\t    }\n\t\t\n\n\t\t    pub fn download_latest_object(&self, object_id: &ObjectID) -> Result<Object, LocalExecError> {\n\t\t        // TODO: replace use of `block_on`\n\t\t        block_on(self.download_latest_object_impl(object_id))\n\t\t    // TODO: remove this after `futures::executor::block_on` is removed.\n\t\t    #[allow(clippy::disallowed_methods)]\n\t\t    pub fn download_latest_object(\n\t\t        &self,\n\t\t        object_id: &ObjectID,\n\t\t    ) -> Result<Option<Object>, LocalExecError> {\n\t\t        block_on({\n\t\t            info!(\"Downloading latest object {object_id}\");\n\t\t            self.download_latest_object_impl(object_id)\n\t\t        })\n\t\t    }\n\t\t\n\n\t\t    pub async fn download_latest_object_impl(\n\t\t        &self,\n\t\t        object_id: &ObjectID,\n\t\t    ) -> Result<Object, LocalExecError> {\n\t\t    ) -> Result<Option<Object>, LocalExecError> {\n\t\t        let options = SuiObjectDataOptions::bcs_lossless();\n\t\t        let object = self\n\t\t            .client\n\t\t            .read_api()\n\t\t            .get_object_with_options(*object_id, options)\n\t\t            .await\n\t\t            .map_err(|q| LocalExecError::SuiRpcError { err: q.to_string() })?;\n\t\t\n\n\t\t        obj_from_sui_obj_response(&object)\n\t\t        self\n\t\t        .client\n\t\t        .read_api()\n\t\t        .get_object_with_options(*object_id, options)\n\t\t        .await.map(|q| match obj_from_sui_obj_response(&q){\n\t\t            Ok(v) => Ok(Some(v)),\n\t\t            Err(LocalExecError::ObjectNotExist { id }) => {\n\t\t                error!(\"Could not find object {id} on RPC server. It might have been pruned, deleted, or never existed.\");\n\t\t                Ok(None)\n\t\t            }\n\t\t            Err(LocalExecError::ObjectDeleted { id, version, digest }) => {\n\t\t                error!(\"Object {id} {version} {digest} was deleted on RPC server.\");\n\t\t                Ok(None)\n\t\t            },\n\t\t            Err(err) => Err(LocalExecError::SuiRpcError {\n\t\t                err: err.to_string(),\n\t\t            })\n\t\t        })?\n\t\t    }\n\t\t\n\n\t\t    pub async fn execute_all_in_checkpoint(\n\n\t@@ -624,13 +679,16 @@ impl LocalExec {\n\t\t        Ok(())\n\t\t    }\n\t\t\n\n\t\t    pub fn get_or_download_object(&self, obj_id: &ObjectID) -> Result<Object, LocalExecError> {\n\t\t    pub fn get_or_download_object(\n\t\t        &self,\n\t\t        obj_id: &ObjectID,\n\t\t    ) -> Result<Option<Object>, LocalExecError> {\n\t\t        if let Some(obj) = self.package_cache.lock().expect(\"Cannot lock\").get(obj_id) {\n\t\t            return Ok(obj.clone());\n\t\t            return Ok(Some(obj.clone()));\n\t\t        };\n\t\t\n\n\t\t        let o = match self.store.get(obj_id) {\n\t\t            Some(obj) => obj.clone(),\n\t\t            Some(obj) => Some(obj.clone()),\n\t\t            None => {\n\t\t                assert!(\n\t\t                    !self.system_package_ids().contains(obj_id),\n\n\t@@ -639,6 +697,7 @@ impl LocalExec {\n\t\t                self.download_latest_object(obj_id)?\n\t\t            }\n\t\t        };\n\t\t        let Some(o) = o else { return Ok(None) };\n\t\t\n\n\t\t        if o.is_package() {\n\t\t            self.package_cache\n\n\t@@ -651,7 +710,7 @@ impl LocalExec {\n\t\t            .lock()\n\t\t            .expect(\"Cannot lock\")\n\t\t            .insert((o_ref.0, o_ref.1), o.clone());\n\t\t        Ok(o)\n\t\t        Ok(Some(o))\n\t\t    }\n\t\t\n\n\t\t    /// Must be called after `populate_protocol_version_tables`\n\n\t@@ -1061,8 +1120,7 @@ impl BackingPackageStore for LocalExec {\n\t\t    fn get_package_object(&self, package_id: &ObjectID) -> SuiResult<Option<Object>> {\n\t\t        // If package not present fetch it from the network\n\t\t        self.get_or_download_object(package_id)\n\t\t            .map(Some)\n\t\t            .map_err(|e| e.into())\n\t\t            .map_err(|e| SuiError::GenericStorageError(e.to_string()))\n\t\t    }\n\t\t}\n\t\t\n\n\n\t@@ -1101,7 +1159,9 @@ impl ResourceResolver for LocalExec {\n\t\t        address: &AccountAddress,\n\t\t        typ: &StructTag,\n\t\t    ) -> Result<Option<Vec<u8>>, Self::Error> {\n\t\t        let object: Object = self.get_or_download_object(&ObjectID::from(*address))?;\n\t\t        let Some(object) = self.get_or_download_object(&ObjectID::from(*address))? else {\n\t\t            return Ok(None);\n\t\t        };\n\t\t\n\n\t\t        match &object.data {\n\t\t            Data::Move(m) => {\n\n\t@@ -1189,12 +1249,8 @@ impl GetModule for LocalExec {\n\t\t}\n\t\t\n\n\t\tfn obj_from_sui_obj_response(o: &SuiObjectResponse) -> Result<Object, LocalExecError> {\n\t\t    let o: Result<SuiObjectData, anyhow::Error> = Ok(o\n\t\t        .object()\n\t\t        .map_err(|q| LocalExecError::SuiObjectResponseError { err: q })?\n\t\t        .clone());\n\t\t\n\n\t\t    obj_from_sui_obj_data(&o.map_err(|q| LocalExecError::GeneralError { err: q.to_string() })?)\n\t\t    let o = o.object().map_err(LocalExecError::from)?.clone();\n\t\t    obj_from_sui_obj_data(&o)\n\t\t}\n\t\t\n\n\t\tfn obj_from_sui_obj_data(o: &SuiObjectData) -> Result<Object, LocalExecError> {\n\n\t\n  \n2 changes: 2 additions & 0 deletions\n2  \nnarwhal/.clippy.toml\n\t@@ -12,6 +12,8 @@ disallowed-methods = [\n\t\t    { path = \"log::debug\", reason = \"use tracing::debug instead\" },\n\t\t    { path = \"log::error\", reason = \"use tracing::error instead\" },\n\t\t    { path = \"log::warn\", reason = \"use tracing::warn instead\" },\n\t\t    # known to cause blocking issues\n\t\t    { path = \"futures::executor::block_on\", reason = \"use tokio::runtime::runtime::Runtime::block_on instead\"},\n\t\t    # unbounded channels are for expert use only\n\t\t    { path = \"tokio::sync::mpsc::unbounded_channel\", reason = \"use a bounded channel instead\" },\n\t\t    { path = \"futures::channel::mpsc::unbounded\", reason = \"use a bounded channel instead\" },\n\n\t\n1 comment on commit f53b960\nContributor\ngithub-actions bot commented on f53b960 \n\n4 Validators 500/s Owned Transactions Benchmark Results\n\nBenchmark Report:\n+-------------+-----+-----+--------+---------------+---------------+---------------+-----------------------+----------------------------+\n| duration(s) | tps | cps | error% | latency (min) | latency (p50) | latency (p99) | gas used (MIST total) | gas used/hr (MIST approx.) |\n+=======================================================================================================================================+\n| 60          | 999 | 999 | 0      | 14            | 25            | 38            | 758,326,464,000       | 45,499,587,840,000         |\nStress Performance Report:\n+-----------+-----+-----+\n| metric    | p50 | p99 |\n+=======================+\n| cpu usage | 37  | 45  |\n\n\n4 Validators 500/s Shared Transactions Benchmark Results\n\nBenchmark Report:\n+-------------+-----+-----+--------+---------------+---------------+---------------+-----------------------+----------------------------+\n| duration(s) | tps | cps | error% | latency (min) | latency (p50) | latency (p99) | gas used (MIST total) | gas used/hr (MIST approx.) |\n+=======================================================================================================================================+\n| 60          | 995 | 995 | 0      | 15            | 257           | 426           | 961,027,135,200       | 57,661,628,112,000         |\nStress Performance Report:\n+-----------+-----+-----+\n| metric    | p50 | p99 |\n+=======================+\n| cpu usage | 40  | 49  |\n\n\n20 Validators 50/s Owned Transactions Benchmark Results\n\nBenchmark Report:\n+-------------+-----+-----+--------+---------------+---------------+---------------+-----------------------+----------------------------+\n| duration(s) | tps | cps | error% | latency (min) | latency (p50) | latency (p99) | gas used (MIST total) | gas used/hr (MIST approx.) |\n+=======================================================================================================================================+\n| 60          | 200 | 200 | 0      | 29            | 74            | 95            | 160,751,616,000       | 9,645,096,960,000          |\nStress Performance Report:\n+-----------+-----+-----+\n| metric    | p50 | p99 |\n+=======================+\n| cpu usage | 46  | 61  |\n\n\n20 Validators 50/s Shared Transactions Benchmark Results\n\nBenchmark Report:\n+-------------+-----+-----+--------+---------------+---------------+---------------+-----------------------+----------------------------+\n| duration(s) | tps | cps | error% | latency (min) | latency (p50) | latency (p99) | gas used (MIST total) | gas used/hr (MIST approx.) |\n+=======================================================================================================================================+\n| 60          | 197 | 197 | 0      | 66            | 528           | 855           | 190,407,060,000       | 11,424,423,600,000         |\nStress Performance Report:\n+-----------+-----+-----+\n| metric    | p50 | p99 |\n+=======================+\n| cpu usage | 47  | 66  |\n\n\nNarwhal Benchmark Results\n\n SUMMARY:\n-----------------------------------------\n + CONFIG:\n Faults: 0 node(s)\n Committee size: 4 node(s)\n Worker(s) per node: 1 worker(s)\n Collocate primary and workers: True\n Input rate: 50,000 tx/s\n Transaction size: 512 B\n Execution time: 0 s\n\n Header number of batches threshold: 32 digests\n Header maximum number of batches: 1,000 digests\n Max header delay: 2,000 ms\n GC depth: 50 round(s)\n Sync retry delay: 10,000 ms\n Sync retry nodes: 3 node(s)\n batch size: 500,000 B\n Max batch delay: 200 ms\n Max concurrent requests: 500,000 \n\n + RESULTS:\n Batch creation avg latency: 202 ms\n Header creation avg latency: -1 ms\n \tBatch to header avg latency: -1 ms\n Header to certificate avg latency: 2 ms\n \tRequest vote outbound avg latency: 0 ms\n Certificate commit avg latency: 844 ms\n\n Consensus TPS: 0 tx/s\n Consensus BPS: 0 B/s\n Consensus latency: 0 ms\n\n End-to-end TPS: 0 tx/s\n End-to-end BPS: 0 B/s\n End-to-end latency: 0 ms\n-----------------------------------------\n\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Disallow `futures::executor::block_on` by oxade · Pull Request #10912 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/10912",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\nDisallow futures::executor::block_on #10912\n Merged\noxade merged 6 commits into main from disallow_future_block_on \n+113 −27 \n Conversation 3\n Commits 6\n Checks 23\n Files changed 6\nConversation\nContributor\noxade commented  • \nedited \nDescription\nAdds clippy warning wherever futures::executor::block_on is used\nArea owners should address. Looks like mostly in indexer, narwhal, sui-json, sui-json-rpc, sui-core\n\nFor more context see: #10910\n\nFor now we add exceptions on some functions while the area owners fix the issues\n\nTest Plan\n\nN/A\n\nIf your changes are not user-facing and not a breaking change, you can skip the following section. Otherwise, please indicate what changed, and then add to the Release Notes section as highlighted during the release process.\n\nType of Change (Check all that apply)\n user-visible impact\n breaking change for a client SDKs\n breaking change for FNs (FN binary must upgrade)\n breaking change for validators or node operators (must upgrade binaries)\n breaking change for on-chain data layout\n necessitate either a data wipe or data migration\nRelease notes\nclippy disallow future block_on\n9df9316\nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\n4 Ignored Deployments\n oxade requested review from andll, 666lcz, gegaowp, patrickkuo, akichidis and healthydeve \nrename\n0b2b0f9\nandll approved these changes \nView reviewed changes\nContributor\nandll commented \n\nWe should probably wait until the usages in codebase are removed before merging this\n\nContributor\nAuthor\noxade commented \n\nWe should probably wait until the usages in codebase are removed before merging this\n\nThats the plan. It wont merge otherwise cos clippy is failing\n\n oxade assigned patrickkuo, akichidis, gegaowp, andll and arun-koshy \n oxade requested a review from joyqvq as a code owner \n vercel bot deployed to Preview – wallet-adapter \nView deployment\n vercel bot deployed to Preview – explorer-storybook \nView deployment\n vercel bot deployed to Preview – explorer \nView deployment\n vercel bot deployed to Preview – sui-wallet-kit \nView deployment\n oxade marked this pull request as draft \n oxade force-pushed the disallow_future_block_on branch from 884199b to 0b2b0f9 \nCompare\noxade added 3 commits \nMerge branch 'main' into disallow_future_block_on\n214d9e5\nMerge branch 'main' into disallow_future_block_on\nb2bd7da\nadd exceptions\n0ccbaa4\n oxade marked this pull request as ready for review \n vercel bot deployed to Preview – sui-wallet-kit \nView deployment\n vercel bot deployed to Preview – explorer-storybook \nView deployment\n vercel bot deployed to Preview – wallet-adapter \nView deployment\n vercel bot deployed to Preview – explorer \nView deployment\ncleanups\ndac240e\n oxade enabled auto-merge (squash) \nView details\n oxade merged commit f53b960 into main \n26 of 27 checks passed\n oxade deleted the disallow_future_block_on branch \nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\nandll\n\n666lcz\n\ngegaowp\n\npatrickkuo\n\nakichidis\n\nhealthydeve\n\njoyqvq\n\nAssignees\n\npatrickkuo\n\nandll\n\nakichidis\n\narun-koshy\n\ngegaowp\n\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n6 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "sui/sui_programmability/examples at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/tree/main/sui_programmability/examples",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nconsensus\ncrates\ndapps\ndashboards\ndoc\ndocker\ndocs\nexamples\nexternal-crates\nkiosk\nnarwhal\nnre\nscripts\nsdk\nsui-execution\nsui_programmability/examples\nbasics\ncapy\ncrypto\ndefi\necommerce\nfungible_tokens\ngames\nmove_tutorial\nmulti_package\nnfts\nobjects_tutorial\nutils\nREADME.md\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui/sui_programmability\n/examples/\nDirectory actions\nMore options\nLatest commit\nbenr-ml\nMove \"Random\" examples to the new examples folder, and update them (#…\n70f50df\n · \nHistory\nHistory\nFolders and files\nName\tLast commit message\tLast commit date\n\nparent directory\n..\n\n\nbasics\n\t\n[Docs] Update Clock docs to use Move 2024 syntax (#17388)\n\t\n\n\ncapy\n\t\n[chore] Remove friend migration artifacts (#17100)\n\t\n\n\ncrypto\n\t\nClean up example (#17471)\n\t\n\n\ndefi\n\t\n[move-2024]Use some Move 2024 Syntax to update 'defi' example (#17394)\n\t\n\n\necommerce\n\t\n[move 2024] Migrated other examples. Fixed docs.sui.io tutorial (#17091)\n\t\n\n\nfungible_tokens\n\t\n[move 2024] Migrated other examples. Fixed docs.sui.io tutorial (#17091)\n\t\n\n\ngames\n\t\nMove \"Random\" examples to the new examples folder, and update them (#…\n\t\n\n\nmove_tutorial\n\t\n[move 2024] Migrated other examples. Fixed docs.sui.io tutorial (#17091)\n\t\n\n\nmulti_package\n\t\n[move 2024] Migrated other examples. Fixed docs.sui.io tutorial (#17091)\n\t\n\n\nnfts\n\t\nMove \"Random\" examples to the new examples folder, and update them (#…\n\t\n\n\nobjects_tutorial\n\t\n[move 2024] Migrated other examples. Fixed docs.sui.io tutorial (#17091)\n\t\n\n\nutils\n\t\n[move]Use some Move 2024 Syntax to update 'utils' example (#17511)\n\t\n\n\nREADME.md\n\t\n[Docs] Deprecate sui_programmability examples (#17494)\n\t\nREADME.md\n\nImportant\n\nThese examples are out-of-date and have been retained as an archive, please find the latest versions in the examples directory which contains up-to-date Move and end-to-end examples!\n\nLots of Move code examples, partitioned by category:\n\nbasics: The very simplest examples of Sui programming.\ncrypto: A simple contract to perform ECDSA secp256k1 signature verification and ecrecover (derive the public key from a signature).\ndefi: DeFi primitives like escrows, atomic swaps, flash loans, DEXes.\nfungible_tokens: Implementations of fungible tokens with different minting and burning policies.\ngames: Various classic and not-so-classic on-chain games.\nnfts: Example NFT implementations and related functionality like auctions and marketplaces.\n\nWe welcome third-party examples--please just submit a pull request!\n\nDISCLAIMER: This is example code provided for demonstration purposes only. These examples have not been thoroughly tested, verified, or audited. Please do not use the example code or derivatives in production without proper diligence."
    },
    {
      "title": "Move \"Random\" examples to the new examples folder, and update examples by benr-ml · Pull Request #17541 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/17541",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\nMove \"Random\" examples to the new examples folder, and update examples #17541\n Merged\nbenr-ml merged 5 commits into main from ben/move_examples \n+594 −569 \n Conversation 6\n Commits 5\n Checks 46\n Files changed 13\nConversation\nContributor\nbenr-ml commented \nDescription\n\nDescribe the changes or additions included in this PR.\n\nTest plan\n\nHow did you test the new or updated feature?\n\nRelease notes\n\nCheck each box that your changes affect. If none of the boxes relate to your changes, release notes aren't required.\n\nFor each box you select, include information after the relevant heading that describes the impact of your changes that a user might notice and any actions they must take to implement updates.\n\n Protocol:\n Nodes (Validators and Full nodes):\n Indexer:\n JSON-RPC:\n GraphQL:\n CLI:\n Rust SDK:\nMove Random examples\nf1d6b14\nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nsui-docs\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMay 8, 2024 3:00pm\n3 Ignored Deployments\n vercel bot deployed to Preview – sui-docs \nView deployment\n benr-ml marked this pull request as ready for review \n benr-ml requested a review from amnn \n benr-ml changed the title Move Random examples Move \"Random\" examples to the new exampled folder \n benr-ml changed the title Move \"Random\" examples to the new exampled folder Move \"Random\" examples to the new exampled folder, and update examples \n benr-ml changed the title Move \"Random\" examples to the new exampled folder, and update examples Move \"Random\" examples to the new examples folder, and update examples \namnn approved these changes \nView reviewed changes\nContributor\namnn left a comment\n\nLooks good, thanks!\n\nexamples/move/random/raffles/sources/example2.move\nOutdated\nShow resolved\nexamples/move/random/raffles/sources/example2.move\nOutdated\nShow resolved\nexamples/move/random/random_nft/tests/example_tests.move\nShow resolved\nexamples/move/random/random_nft/tests/example_tests.move\nOutdated\nShow resolved\nbenr-ml added 2 commits \naddress PR comments\n01a0043\ntesting CI\ne16d454\n vercel bot deployed to Preview – sui-docs \nView deployment\nuse alias\n26d2222\n vercel bot deployed to Preview – sui-docs \nView deployment\nrevert\nd32d50f\n vercel bot deployed to Preview – sui-docs \nView deployment\nView details\n benr-ml merged commit 70f50df into main \n50 checks passed\n benr-ml deleted the ben/move_examples branch \nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\namnn\n\nAssignees\nNo one assigned\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n2 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "[move] Split bytecode's absint into its own crate (#17459) · MystenLabs/sui@15cb9c7 · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/15cb9c70d0971f235e8f60de0302975acc6d41d1",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\n[move] Split bytecode's absint into its own crate (#17459)\nBrowse files\n## Description \n\n- Moved the absint and control_flow_graph modules into their own crate,\n`move-abstract-interpreter`\n- Added the crate to the execution cut. The `absint` module was in the\nbytecode verifier, so this was already versioned for the existing cuts.\nHowever `control_flow_graph` was in the binary format, so this version\ncut is new. As a result, I have just made one cut for v2 and used it for\nv0 and v1. I think this is a bit un-orthodox, but preserves the existing\nbehavior just fine (which is the intention of the execution cuts)\n\n## Test plan \n\n- Ran the execution cut script\n\n---\n\n## Release notes\n\nCheck each box that your changes affect. If none of the boxes relate to\nyour changes, release notes aren't required.\n\nFor each box you select, include information after the relevant heading\nthat describes the impact of your changes that a user might notice and\nany actions they must take to implement updates.\n\n- [ ] Protocol: \n- [ ] Nodes (Validators and Full nodes): \n- [ ] Indexer: \n- [ ] JSON-RPC: \n- [ ] GraphQL: \n- [ ] CLI: \n- [ ] Rust SDK:\n main (#17459)\n testnet-v1.25.0 \n…\n devnet-v1.25.0\ntnowacki committed  \nVerified\n1 parent f37f592\ncommit 15cb9c7\n \nShowing 64 changed files with 606 additions and 57 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\nCargo.lock\nCargo.toml\nexternal-crates/move\nCargo.lock\nCargo.toml\ncrates\nbytecode-verifier-tests\nCargo.toml\nsrc/unit_tests\nloop_summary_tests.rs\nmove-abstract-interpreter\nCargo.toml\nsrc\nabsint.rs\ncontrol_flow_graph.rs\nlib.rs\nunit_tests\ncontrol_flow_graph_tests.rs\nmod.rs\nmove-binary-format/src\nlib.rs\nunit_tests\nmod.rs\nmove-bytecode-verifier\nCargo.toml\nsrc\ncode_unit_verifier.rs\ncontrol_flow.rs\nlib.rs\nlocals_safety\nabstract_state.rs\nmod.rs\nloop_summary.rs\nreference_safety\nabstract_state.rs\nmod.rs\nstack_usage_verifier.rs\ntype_safety.rs\nmove-coverage\nCargo.toml\nsrc\nsummary.rs\nmove-disassembler\nCargo.toml\nsrc\ndisassembler.rs\nmove-ir-compiler\nCargo.toml\nsrc/unit_tests\ncfg_tests.rs\nmove-execution\nv0/crates\nbytecode-verifier-tests\nCargo.toml\nsrc/unit_tests\nloop_summary_tests.rs\nmove-bytecode-verifier\nCargo.toml\nsrc\nabsint.rs\ncode_unit_verifier.rs\nloop_summary.rs\nstack_usage_verifier.rs\ntype_safety.rs\nv1/crates\nbytecode-verifier-tests\nCargo.toml\nsrc/unit_tests\nloop_summary_tests.rs\nmove-bytecode-verifier\nCargo.toml\nsrc\nabsint.rs\ncode_unit_verifier.rs\nloop_summary.rs\nstack_usage_verifier.rs\ntype_safety.rs\nv2/crates\nbytecode-verifier-tests\nCargo.toml\nsrc/unit_tests\nloop_summary_tests.rs\nmove-abstract-interpreter\nCargo.toml\nsrc\ncontrol_flow_graph.rs\nlib.rs\nunit_tests\ncontrol_flow_graph_tests.rs\nmod.rs\nmove-bytecode-verifier\nCargo.toml\nsrc\nabsint.rs\ncode_unit_verifier.rs\nloop_summary.rs\nstack_usage_verifier.rs\ntype_safety.rs\nscripts\nexecution_layer.py\nsui-execution\nCargo.toml\nlatest/sui-verifier\nCargo.toml\nsrc\nid_leak_verifier.rs\n \n26 changes: 26 additions & 0 deletions\n26  \nCargo.lock\nLoad diff\n\nSome generated files are not rendered by default. Learn more about how customized files appear on GitHub.\n\n  \n3 changes: 3 additions & 0 deletions\n3  \nCargo.toml\n\t@@ -12,6 +12,7 @@ exclude = [\n\t\t  \"external-crates/move/crates/invalid-mutations\",\n\t\t  \"external-crates/move/crates/language-benchmarks\",\n\t\t  \"external-crates/move/crates/module-generation\",\n\t\t  \"external-crates/move/crates/move-abstract-interpreter\",\n\t\t  \"external-crates/move/crates/move-abstract-stack\",\n\t\t  \"external-crates/move/crates/move-analyzer\",\n\t\t  \"external-crates/move/crates/move-binary-format\",\n\n\t@@ -64,6 +65,7 @@ exclude = [\n\t\t  \"external-crates/move/move-execution/v1/crates/move-bytecode-verifier\",\n\t\t  \"external-crates/move/move-execution/v1/crates/move-stdlib-natives\",\n\t\t  \"external-crates/move/move-execution/v1/crates/move-vm-runtime\",\n\t\t  \"external-crates/move/move-execution/v2/crates/move-abstract-interpreter\",\n\t\t  \"external-crates/move/move-execution/v2/crates/move-bytecode-verifier\",\n\t\t  \"external-crates/move/move-execution/v2/crates/move-stdlib-natives\",\n\t\t  \"external-crates/move/move-execution/v2/crates/move-vm-runtime\",\n\n\t@@ -557,6 +559,7 @@ move-ir-types = { path = \"external-crates/move/crates/move-ir-types\" }\n\t\tmove-prover = { path = \"external-crates/move/crates/move-prover\" }\n\t\tmove-stackless-bytecode = { path = \"external-crates/move/crates/move-stackless-bytecode\" }\n\t\tmove-symbol-pool = { path = \"external-crates/move/crates/move-symbol-pool\" }\n\t\tmove-abstract-interpreter = { path = \"external-crates/move/crates/move-abstract-interpreter\" }\n\t\tmove-abstract-stack = { path = \"external-crates/move/crates/move-abstract-stack\" }\n\t\t\n\n\t\tfastcrypto = { git = \"https://github.com/MystenLabs/fastcrypto\", rev = \"878492bd2541dce1491791bcadf3cc855ddcdc05\" }\n\n\t\n \n27 changes: 27 additions & 0 deletions\n27  \nexternal-crates/move/Cargo.lock\nLoad diff\n\nSome generated files are not rendered by default. Learn more about how customized files appear on GitHub.\n\n  \n3 changes: 3 additions & 0 deletions\n3  \nexternal-crates/move/Cargo.toml\n\t@@ -19,6 +19,8 @@ members = [\n\t\t    \"move-execution/v1/crates/move-stdlib-natives\",\n\t\t    \"move-execution/v2/crates/move-stdlib-natives\",\n\t\t    # \"move-execution/$CUT/crates/move-stdlib-natives\",\n\t\t    \"move-execution/v2/crates/move-abstract-interpreter\",\n\t\t    # \"move-execution/$CUT/crates/move-abstract-interpreter\",\n\t\t]\n\t\t\n\n\t\t# Dependencies that should be kept in sync through the whole workspace\n\n\t@@ -132,6 +134,7 @@ bytecode-interpreter-crypto = { path = \"crates/bytecode-interpreter-crypto\" }\n\t\tenum-compat-util = { path = \"crates/enum-compat-util\"}\n\t\tinvalid-mutations = { path = \"crates/invalid-mutations\" }\n\t\tmodule-generation = { path = \"crates/module-generation\" }\n\t\tmove-abstract-interpreter = { path = \"crates/move-abstract-interpreter\" }\n\t\tmove-abstract-stack = { path = \"crates/move-abstract-stack\" }\n\t\tmove-binary-format = { path = \"crates/move-binary-format\" }\n\t\tmove-borrow-graph = { path = \"crates/move-borrow-graph\" }\n\n\t\n  \n1 change: 1 addition & 0 deletions\n1  \nexternal-crates/move/crates/bytecode-verifier-tests/Cargo.toml\n\t@@ -20,6 +20,7 @@ move-bytecode-verifier = { path = \"../move-bytecode-verifier\" }\n\t\tmove-bytecode-verifier-meter.workspace = true\n\t\tmove-core-types.workspace = true\n\t\tmove-vm-config.workspace = true\n\t\tmove-abstract-interpreter.workspace = true\n\t\t\n\n\t\t[features]\n\t\tfuzzing = [\"move-binary-format/fuzzing\"]\n \n3 changes: 2 additions & 1 deletion\n3  \nexternal-crates/move/crates/bytecode-verifier-tests/src/unit_tests/loop_summary_tests.rs\n\t\t@@ -1,7 +1,8 @@\n\t\t// Copyright (c) The Move Contributors\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tuse move_binary_format::{control_flow_graph::VMControlFlowGraph, file_format::Bytecode};\n\t\tuse move_abstract_interpreter::control_flow_graph::VMControlFlowGraph;\n\t\tuse move_binary_format::file_format::Bytecode;\n\t\tuse move_bytecode_verifier::loop_summary::{LoopPartition, LoopSummary};\n\t\t\n\n\t\tmacro_rules! assert_node {\n\n\t\n \n15 changes: 15 additions & 0 deletions\n15  \nexternal-crates/move/crates/move-abstract-interpreter/Cargo.toml\n\t\t@@ -0,0 +1,15 @@\n\t\t[package]\n\t\tname = \"move-abstract-interpreter\"\n\t\tversion = \"0.1.0\"\n\t\tauthors = [\"The Move Contributors\"]\n\t\tdescription = \"Move abstract interpreter\"\n\t\tlicense = \"Apache-2.0\"\n\t\tpublish = false\n\t\tedition = \"2021\"\n\t\t\n\n\t\t[dependencies]\n\t\tmove-binary-format.workspace = true\n\t\tmove-bytecode-verifier-meter.workspace = true\n\t\t\n\n\t\t[features]\n\t\tdefault = []\n  \n2 changes: 1 addition & 1 deletion\n2  \n...ates/move-bytecode-verifier/src/absint.rs → ...s/move-abstract-interpreter/src/absint.rs\n\t@@ -2,8 +2,8 @@\n\t\t// Copyright (c) The Move Contributors\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tuse crate::control_flow_graph::{BlockId, ControlFlowGraph, VMControlFlowGraph};\n\t\tuse move_binary_format::{\n\t\t    control_flow_graph::{BlockId, ControlFlowGraph, VMControlFlowGraph},\n\t\t    errors::PartialVMResult,\n\t\t    file_format::{\n\t\t        AbilitySet, Bytecode, CodeOffset, CodeUnit, FunctionDefinitionIndex, FunctionHandle,\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \n...e-binary-format/src/control_flow_graph.rs → ...act-interpreter/src/control_flow_graph.rs\n\t@@ -3,7 +3,7 @@\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\t//! This module defines the control-flow graph uses for bytecode verification.\n\t\tuse crate::file_format::{Bytecode, CodeOffset};\n\t\tuse move_binary_format::file_format::{Bytecode, CodeOffset};\n\t\tuse std::collections::{btree_map::Entry, BTreeMap, BTreeSet};\n\t\t\n\n\t\t// BTree/Hash agnostic type wrappers\n\n\t\n \n8 changes: 8 additions & 0 deletions\n8  \nexternal-crates/move/crates/move-abstract-interpreter/src/lib.rs\n\t\t@@ -0,0 +1,8 @@\n\t\t// Copyright (c) The Move Contributors\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tpub mod absint;\n\t\tpub mod control_flow_graph;\n\t\t\n\n\t\t#[cfg(test)]\n\t\tmod unit_tests;\n \n6 changes: 2 additions & 4 deletions\n6  \n...rc/unit_tests/control_flow_graph_tests.rs → ...rc/unit_tests/control_flow_graph_tests.rs\n\t\t@@ -1,10 +1,8 @@\n\t\t// Copyright (c) The Move Contributors\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tuse crate::{\n\t\t    control_flow_graph::{BlockId, ControlFlowGraph, VMControlFlowGraph},\n\t\t    file_format::Bytecode,\n\t\t};\n\t\tuse crate::control_flow_graph::{BlockId, ControlFlowGraph, VMControlFlowGraph};\n\t\tuse move_binary_format::file_format::Bytecode;\n\t\t\n\n\t\t#[test]\n\t\tfn traversal_no_loops() {\n\n\t\n \n4 changes: 4 additions & 0 deletions\n4  \nexternal-crates/move/crates/move-abstract-interpreter/src/unit_tests/mod.rs\n\t\t@@ -0,0 +1,4 @@\n\t\t// Copyright (c) The Move Contributors\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tmod control_flow_graph_tests;\n  \n1 change: 0 additions & 1 deletion\n1  \nexternal-crates/move/crates/move-binary-format/src/lib.rs\n\t@@ -12,7 +12,6 @@ pub mod compatibility;\n\t\t#[macro_use]\n\t\tpub mod errors;\n\t\tpub mod constant;\n\t\tpub mod control_flow_graph;\n\t\tpub mod deserializer;\n\t\tpub mod file_format;\n\t\tpub mod file_format_common;\n\n\t\n  \n1 change: 0 additions & 1 deletion\n1  \nexternal-crates/move/crates/move-binary-format/src/unit_tests/mod.rs\n\t@@ -5,7 +5,6 @@\n\t\tmod binary_limits_tests;\n\t\tmod binary_tests;\n\t\tmod compatibility_tests;\n\t\tmod control_flow_graph_tests;\n\t\tmod deserializer_tests;\n\t\tmod number_tests;\n\t\tmod signature_token_tests;\n  \n1 change: 1 addition & 0 deletions\n1  \nexternal-crates/move/crates/move-bytecode-verifier/Cargo.toml\n\t@@ -18,6 +18,7 @@ move-bytecode-verifier-meter.workspace = true\n\t\tmove-core-types.workspace = true\n\t\tmove-vm-config.workspace = true\n\t\tmove-abstract-stack.workspace = true\n\t\tmove-abstract-interpreter.workspace = true\n\t\t\n\n\t\t[dev-dependencies]\n\t\thex-literal.workspace = true\n\n\t\n  \n6 changes: 3 additions & 3 deletions\n6  \nexternal-crates/move/crates/move-bytecode-verifier/src/code_unit_verifier.rs\n\t@@ -6,11 +6,11 @@\n\t\t//! The overall verification is split between stack_usage_verifier.rs and\n\t\t//! abstract_interpreter.rs. CodeUnitVerifier simply orchestrates calls into these two files.\n\t\tuse crate::{\n\t\t    absint::FunctionContext, acquires_list_verifier::AcquiresVerifier, control_flow, locals_safety,\n\t\t    reference_safety, stack_usage_verifier::StackUsageVerifier, type_safety,\n\t\t    acquires_list_verifier::AcquiresVerifier, control_flow, locals_safety, reference_safety,\n\t\t    stack_usage_verifier::StackUsageVerifier, type_safety,\n\t\t};\n\t\tuse move_abstract_interpreter::{absint::FunctionContext, control_flow_graph::ControlFlowGraph};\n\t\tuse move_binary_format::{\n\t\t    control_flow_graph::ControlFlowGraph,\n\t\t    errors::{Location, PartialVMError, PartialVMResult, VMResult},\n\t\t    file_format::{\n\t\t        CompiledModule, FunctionDefinition, FunctionDefinitionIndex, IdentifierIndex, TableIndex,\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \nexternal-crates/move/crates/move-bytecode-verifier/src/control_flow.rs\n\t@@ -13,10 +13,10 @@\n\t\t//!\n\t\t//! For bytecode versions 5 and below, delegates to `control_flow_v5`.\n\t\tuse crate::{\n\t\t    absint::FunctionContext,\n\t\t    control_flow_v5,\n\t\t    loop_summary::{LoopPartition, LoopSummary},\n\t\t};\n\t\tuse move_abstract_interpreter::absint::FunctionContext;\n\t\tuse move_binary_format::{\n\t\t    errors::{PartialVMError, PartialVMResult},\n\t\t    file_format::{CodeOffset, CodeUnit, FunctionDefinition, FunctionDefinitionIndex},\n\n\t\n  \n1 change: 0 additions & 1 deletion\n1  \nexternal-crates/move/crates/move-bytecode-verifier/src/lib.rs\n\t@@ -8,7 +8,6 @@\n\t\t\n\n\t\t// Bounds checks are implemented in the `vm` crate.\n\t\tpub mod ability_field_requirements;\n\t\tpub mod absint;\n\t\tpub mod check_duplication;\n\t\tpub mod code_unit_verifier;\n\t\tpub mod constants;\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \nexternal-crates/move/crates/move-bytecode-verifier/src/locals_safety/abstract_state.rs\n\t@@ -4,7 +4,7 @@\n\t\t\n\n\t\t//! This module defines the abstract state for the local safety analysis.\n\t\t\n\n\t\tuse crate::absint::{AbstractDomain, FunctionContext, JoinResult};\n\t\tuse move_abstract_interpreter::absint::{AbstractDomain, FunctionContext, JoinResult};\n\t\tuse move_binary_format::{\n\t\t    errors::{PartialVMError, PartialVMResult},\n\t\t    file_format::{AbilitySet, CodeOffset, FunctionDefinitionIndex, LocalIndex},\n\n\t\n  \n6 changes: 2 additions & 4 deletions\n6  \nexternal-crates/move/crates/move-bytecode-verifier/src/locals_safety/mod.rs\n\t@@ -8,11 +8,9 @@\n\t\t\n\n\t\tmod abstract_state;\n\t\t\n\n\t\tuse crate::{\n\t\t    absint::{AbstractInterpreter, FunctionContext, TransferFunctions},\n\t\t    locals_safety::abstract_state::{RET_PER_LOCAL_COST, STEP_BASE_COST},\n\t\t};\n\t\tuse crate::locals_safety::abstract_state::{RET_PER_LOCAL_COST, STEP_BASE_COST};\n\t\tuse abstract_state::{AbstractState, LocalState};\n\t\tuse move_abstract_interpreter::absint::{AbstractInterpreter, FunctionContext, TransferFunctions};\n\t\tuse move_binary_format::{\n\t\t    errors::{PartialVMError, PartialVMResult},\n\t\t    file_format::{Bytecode, CodeOffset},\n\n\t\n \n4 changes: 3 additions & 1 deletion\n4  \nexternal-crates/move/crates/move-bytecode-verifier/src/loop_summary.rs\n\t\t@@ -1,7 +1,9 @@\n\t\t// Copyright (c) The Move Contributors\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tuse move_binary_format::control_flow_graph::{BlockId, ControlFlowGraph, VMControlFlowGraph};\n\t\tuse move_abstract_interpreter::control_flow_graph::{\n\t\t    BlockId, ControlFlowGraph, VMControlFlowGraph,\n\t\t};\n\t\tuse std::collections::{btree_map::Entry, BTreeMap, BTreeSet};\n\t\t\n\n\t\t/// Dense index into nodes in the same `LoopSummary`\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \nexternal-crates/move/crates/move-bytecode-verifier/src/reference_safety/abstract_state.rs\n\t@@ -3,7 +3,7 @@\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\t//! This module defines the abstract state for the type and memory safety analysis.\n\t\tuse crate::absint::{AbstractDomain, FunctionContext, JoinResult};\n\t\tuse move_abstract_interpreter::absint::{AbstractDomain, FunctionContext, JoinResult};\n\t\tuse move_binary_format::{\n\t\t    errors::{PartialVMError, PartialVMResult},\n\t\t    file_format::{\n\n\t\n  \n8 changes: 3 additions & 5 deletions\n8  \nexternal-crates/move/crates/move-bytecode-verifier/src/reference_safety/mod.rs\n\t@@ -10,13 +10,11 @@\n\t\t\n\n\t\tmod abstract_state;\n\t\t\n\n\t\tuse crate::{\n\t\t    absint::{AbstractInterpreter, FunctionContext, TransferFunctions},\n\t\t    reference_safety::abstract_state::{\n\t\t        STEP_BASE_COST, STEP_PER_GRAPH_ITEM_COST, STEP_PER_LOCAL_COST,\n\t\t    },\n\t\tuse crate::reference_safety::abstract_state::{\n\t\t    STEP_BASE_COST, STEP_PER_GRAPH_ITEM_COST, STEP_PER_LOCAL_COST,\n\t\t};\n\t\tuse abstract_state::{AbstractState, AbstractValue};\n\t\tuse move_abstract_interpreter::absint::{AbstractInterpreter, FunctionContext, TransferFunctions};\n\t\tuse move_abstract_stack::AbstractStack;\n\t\tuse move_binary_format::{\n\t\t    errors::{PartialVMError, PartialVMResult},\n\n\t\n  \n6 changes: 4 additions & 2 deletions\n6  \nexternal-crates/move/crates/move-bytecode-verifier/src/stack_usage_verifier.rs\n\t@@ -9,9 +9,11 @@\n\t\t//! the stack height by the number of values returned by the function as indicated in its\n\t\t//! signature. Additionally, the stack height must not dip below that at the beginning of the\n\t\t//! block for any basic block.\n\t\tuse crate::absint::FunctionContext;\n\t\tuse move_binary_format::{\n\t\tuse move_abstract_interpreter::{\n\t\t    absint::FunctionContext,\n\t\t    control_flow_graph::{BlockId, ControlFlowGraph},\n\t\t};\n\t\tuse move_binary_format::{\n\t\t    errors::{PartialVMError, PartialVMResult},\n\t\t    file_format::{Bytecode, CodeUnit, FunctionDefinitionIndex, Signature, StructFieldInformation},\n\t\t    CompiledModule,\n\n\t\n  \n3 changes: 1 addition & 2 deletions\n3  \nexternal-crates/move/crates/move-bytecode-verifier/src/type_safety.rs\n\t@@ -7,10 +7,9 @@\n\t\t\n\n\t\tuse std::num::NonZeroU64;\n\t\t\n\n\t\tuse crate::absint::FunctionContext;\n\t\tuse move_abstract_interpreter::{absint::FunctionContext, control_flow_graph::ControlFlowGraph};\n\t\tuse move_abstract_stack::AbstractStack;\n\t\tuse move_binary_format::{\n\t\t    control_flow_graph::ControlFlowGraph,\n\t\t    errors::{PartialVMError, PartialVMResult},\n\t\t    file_format::{\n\t\t        AbilitySet, Bytecode, CodeOffset, CompiledModule, FieldHandleIndex,\n\n\t\n  \n1 change: 1 addition & 0 deletions\n1  \nexternal-crates/move/crates/move-coverage/Cargo.toml\n\t@@ -24,6 +24,7 @@ move-core-types.workspace = true\n\t\tmove-ir-types.workspace = true\n\t\tmove-binary-format.workspace = true\n\t\tmove-bytecode-source-map.workspace = true\n\t\tmove-abstract-interpreter.workspace = true\n\t\t\n\n\t\t[features]\n\t\tdefault = []\n  \n4 changes: 3 additions & 1 deletion\n4  \nexternal-crates/move/crates/move-coverage/src/summary.rs\n\t@@ -7,8 +7,10 @@\n\t\tuse crate::coverage_map::{\n\t\t    ExecCoverageMap, ExecCoverageMapWithModules, ModuleCoverageMap, TraceMap,\n\t\t};\n\t\tuse move_abstract_interpreter::control_flow_graph::{\n\t\t    BlockId, ControlFlowGraph, VMControlFlowGraph,\n\t\t};\n\t\tuse move_binary_format::{\n\t\t    control_flow_graph::{BlockId, ControlFlowGraph, VMControlFlowGraph},\n\t\t    file_format::{Bytecode, CodeOffset},\n\t\t    CompiledModule,\n\t\t};\n\n\t\n  \n1 change: 1 addition & 0 deletions\n1  \nexternal-crates/move/crates/move-disassembler/Cargo.toml\n\t@@ -18,6 +18,7 @@ move-ir-types.workspace = true\n\t\tmove-binary-format.workspace = true\n\t\tmove-coverage.workspace = true\n\t\tmove-compiler.workspace = true\n\t\tmove-abstract-interpreter.workspace = true\n\t\t\n\n\t\tbcs.workspace = true\n\t\tclap.workspace = true\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \nexternal-crates/move/crates/move-disassembler/src/disassembler.rs\n\t@@ -7,8 +7,8 @@ use std::collections::HashMap;\n\t\tuse anyhow::{bail, format_err, Result};\n\t\tuse clap::Parser;\n\t\tuse colored::*;\n\t\tuse move_abstract_interpreter::control_flow_graph::{ControlFlowGraph, VMControlFlowGraph};\n\t\tuse move_binary_format::{\n\t\t    control_flow_graph::{ControlFlowGraph, VMControlFlowGraph},\n\t\t    file_format::{\n\t\t        Ability, AbilitySet, Bytecode, CodeUnit, Constant, FieldHandleIndex, FunctionDefinition,\n\t\t        FunctionDefinitionIndex, FunctionHandle, ModuleHandle, Signature, SignatureIndex,\n\n\t\n  \n1 change: 1 addition & 0 deletions\n1  \nexternal-crates/move/crates/move-ir-compiler/Cargo.toml\n\t@@ -11,6 +11,7 @@ edition = \"2021\"\n\t\t\n\n\t\t[dependencies]\n\t\tanyhow.workspace = true\n\t\tmove-abstract-interpreter.workspace = true\n\t\tmove-bytecode-verifier.workspace = true\n\t\tmove-command-line-common.workspace = true\n\t\tmove-ir-to-bytecode.workspace = true\n\n\t\n  \n6 changes: 2 additions & 4 deletions\n6  \nexternal-crates/move/crates/move-ir-compiler/src/unit_tests/cfg_tests.rs\n\t@@ -3,10 +3,8 @@\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tuse crate::unit_tests::testutils::compile_module_string;\n\t\tuse move_binary_format::{\n\t\t    control_flow_graph::{ControlFlowGraph, VMControlFlowGraph},\n\t\t    file_format::Bytecode,\n\t\t};\n\t\tuse move_abstract_interpreter::control_flow_graph::{ControlFlowGraph, VMControlFlowGraph};\n\t\tuse move_binary_format::file_format::Bytecode;\n\t\t\n\n\t\t#[test]\n\t\tfn cfg_compile_script_ret() {\n\n\t\n  \n1 change: 1 addition & 0 deletions\n1  \nexternal-crates/move/move-execution/v0/crates/bytecode-verifier-tests/Cargo.toml\n\t@@ -20,6 +20,7 @@ move-bytecode-verifier = { path = \"../move-bytecode-verifier\", package = \"move-b\n\t\tmove-bytecode-verifier-meter.workspace = true\n\t\tmove-core-types.workspace = true\n\t\tmove-vm-config.workspace = true\n\t\tmove-abstract-interpreter = { path = \"../../../v2/crates/move-abstract-interpreter\", package = \"move-abstract-interpreter-v2\" }\n\t\t\n\n\t\t[features]\n\t\tfuzzing = [\"move-binary-format/fuzzing\"]\n \n3 changes: 2 additions & 1 deletion\n3  \n...ove/move-execution/v0/crates/bytecode-verifier-tests/src/unit_tests/loop_summary_tests.rs\n\t\t@@ -1,7 +1,8 @@\n\t\t// Copyright (c) The Move Contributors\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tuse move_binary_format::{control_flow_graph::VMControlFlowGraph, file_format::Bytecode};\n\t\tuse move_abstract_interpreter::control_flow_graph::VMControlFlowGraph;\n\t\tuse move_binary_format::file_format::Bytecode;\n\t\tuse move_bytecode_verifier::loop_summary::{LoopPartition, LoopSummary};\n\t\t\n\n\t\tmacro_rules! assert_node {\n\n\t\n  \n1 change: 1 addition & 0 deletions\n1  \nexternal-crates/move/move-execution/v0/crates/move-bytecode-verifier/Cargo.toml\n\t@@ -18,6 +18,7 @@ move-bytecode-verifier-meter.workspace = true\n\t\tmove-core-types.workspace = true\n\t\tmove-vm-config.workspace = true\n\t\tmove-abstract-stack.workspace = true\n\t\tmove-abstract-interpreter = { path = \"../../../v2/crates/move-abstract-interpreter\", package = \"move-abstract-interpreter-v2\" }\n\t\t\n\n\t\t[dev-dependencies]\n\t\thex-literal.workspace = true\n\n\t\n  \n4 changes: 3 additions & 1 deletion\n4  \nexternal-crates/move/move-execution/v0/crates/move-bytecode-verifier/src/absint.rs\n\t@@ -2,8 +2,10 @@\n\t\t// Copyright (c) The Move Contributors\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tuse move_abstract_interpreter::control_flow_graph::{\n\t\t    BlockId, ControlFlowGraph, VMControlFlowGraph,\n\t\t};\n\t\tuse move_binary_format::{\n\t\t    control_flow_graph::{BlockId, ControlFlowGraph, VMControlFlowGraph},\n\t\t    errors::PartialVMResult,\n\t\t    file_format::{\n\t\t        AbilitySet, Bytecode, CodeOffset, CodeUnit, FunctionDefinitionIndex, FunctionHandle,\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \n...nal-crates/move/move-execution/v0/crates/move-bytecode-verifier/src/code_unit_verifier.rs\n\t@@ -9,8 +9,8 @@ use crate::{\n\t\t    absint::FunctionContext, acquires_list_verifier::AcquiresVerifier, control_flow, locals_safety,\n\t\t    reference_safety, stack_usage_verifier::StackUsageVerifier, type_safety,\n\t\t};\n\t\tuse move_abstract_interpreter::control_flow_graph::ControlFlowGraph;\n\t\tuse move_binary_format::{\n\t\t    control_flow_graph::ControlFlowGraph,\n\t\t    errors::{Location, PartialVMError, PartialVMResult, VMResult},\n\t\t    file_format::{\n\t\t        CompiledModule, FunctionDefinition, FunctionDefinitionIndex, IdentifierIndex, TableIndex,\n\n\t\n \n4 changes: 3 additions & 1 deletion\n4  \nexternal-crates/move/move-execution/v0/crates/move-bytecode-verifier/src/loop_summary.rs\n\t\t@@ -1,7 +1,9 @@\n\t\t// Copyright (c) The Move Contributors\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tuse move_binary_format::control_flow_graph::{BlockId, ControlFlowGraph, VMControlFlowGraph};\n\t\tuse move_abstract_interpreter::control_flow_graph::{\n\t\t    BlockId, ControlFlowGraph, VMControlFlowGraph,\n\t\t};\n\t\tuse std::collections::{btree_map::Entry, BTreeMap, BTreeSet};\n\t\t\n\n\t\t/// Dense index into nodes in the same `LoopSummary`\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \n...l-crates/move/move-execution/v0/crates/move-bytecode-verifier/src/stack_usage_verifier.rs\n\t@@ -10,8 +10,8 @@\n\t\t//! signature. Additionally, the stack height must not dip below that at the beginning of the\n\t\t//! block for any basic block.\n\t\tuse crate::absint::FunctionContext;\n\t\tuse move_abstract_interpreter::control_flow_graph::{BlockId, ControlFlowGraph};\n\t\tuse move_binary_format::{\n\t\t    control_flow_graph::{BlockId, ControlFlowGraph},\n\t\t    errors::{PartialVMError, PartialVMResult},\n\t\t    file_format::{Bytecode, CodeUnit, FunctionDefinitionIndex, Signature, StructFieldInformation},\n\t\t    CompiledModule,\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \nexternal-crates/move/move-execution/v0/crates/move-bytecode-verifier/src/type_safety.rs\n\t@@ -8,9 +8,9 @@\n\t\tuse std::num::NonZeroU64;\n\t\t\n\n\t\tuse crate::absint::FunctionContext;\n\t\tuse move_abstract_interpreter::control_flow_graph::ControlFlowGraph;\n\t\tuse move_abstract_stack::AbstractStack;\n\t\tuse move_binary_format::{\n\t\t    control_flow_graph::ControlFlowGraph,\n\t\t    errors::{PartialVMError, PartialVMResult},\n\t\t    file_format::{\n\t\t        AbilitySet, Bytecode, CodeOffset, CompiledModule, FieldHandleIndex,\n\n\t\n  \n1 change: 1 addition & 0 deletions\n1  \nexternal-crates/move/move-execution/v1/crates/bytecode-verifier-tests/Cargo.toml\n\t@@ -20,6 +20,7 @@ move-bytecode-verifier = { path = \"../move-bytecode-verifier\", package = \"move-b\n\t\tmove-bytecode-verifier-meter.workspace = true\n\t\tmove-core-types.workspace = true\n\t\tmove-vm-config.workspace = true\n\t\tmove-abstract-interpreter = { path = \"../../../v2/crates/move-abstract-interpreter\", package = \"move-abstract-interpreter-v2\" }\n\t\t\n\n\t\t[features]\n\t\tfuzzing = [\"move-binary-format/fuzzing\"]\n \n3 changes: 2 additions & 1 deletion\n3  \n...ove/move-execution/v1/crates/bytecode-verifier-tests/src/unit_tests/loop_summary_tests.rs\n\t\t@@ -1,7 +1,8 @@\n\t\t// Copyright (c) The Move Contributors\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tuse move_binary_format::{control_flow_graph::VMControlFlowGraph, file_format::Bytecode};\n\t\tuse move_abstract_interpreter::control_flow_graph::VMControlFlowGraph;\n\t\tuse move_binary_format::file_format::Bytecode;\n\t\tuse move_bytecode_verifier::loop_summary::{LoopPartition, LoopSummary};\n\t\t\n\n\t\tmacro_rules! assert_node {\n\n\t\n  \n1 change: 1 addition & 0 deletions\n1  \nexternal-crates/move/move-execution/v1/crates/move-bytecode-verifier/Cargo.toml\n\t@@ -18,6 +18,7 @@ move-bytecode-verifier-meter.workspace = true\n\t\tmove-core-types.workspace = true\n\t\tmove-vm-config.workspace = true\n\t\tmove-abstract-stack.workspace = true\n\t\tmove-abstract-interpreter = { path = \"../../../v2/crates/move-abstract-interpreter\", package = \"move-abstract-interpreter-v2\" }\n\t\t\n\n\t\t[dev-dependencies]\n\t\thex-literal.workspace = true\n\n\t\n  \n4 changes: 3 additions & 1 deletion\n4  \nexternal-crates/move/move-execution/v1/crates/move-bytecode-verifier/src/absint.rs\n\t@@ -2,8 +2,10 @@\n\t\t// Copyright (c) The Move Contributors\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tuse move_abstract_interpreter::control_flow_graph::{\n\t\t    BlockId, ControlFlowGraph, VMControlFlowGraph,\n\t\t};\n\t\tuse move_binary_format::{\n\t\t    control_flow_graph::{BlockId, ControlFlowGraph, VMControlFlowGraph},\n\t\t    errors::PartialVMResult,\n\t\t    file_format::{\n\t\t        AbilitySet, Bytecode, CodeOffset, CodeUnit, FunctionDefinitionIndex, FunctionHandle,\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \n...nal-crates/move/move-execution/v1/crates/move-bytecode-verifier/src/code_unit_verifier.rs\n\t@@ -9,8 +9,8 @@ use crate::{\n\t\t    absint::FunctionContext, acquires_list_verifier::AcquiresVerifier, control_flow, locals_safety,\n\t\t    reference_safety, stack_usage_verifier::StackUsageVerifier, type_safety,\n\t\t};\n\t\tuse move_abstract_interpreter::control_flow_graph::ControlFlowGraph;\n\t\tuse move_binary_format::{\n\t\t    control_flow_graph::ControlFlowGraph,\n\t\t    errors::{Location, PartialVMError, PartialVMResult, VMResult},\n\t\t    file_format::{\n\t\t        CompiledModule, FunctionDefinition, FunctionDefinitionIndex, IdentifierIndex, TableIndex,\n\n\t\n \n4 changes: 3 additions & 1 deletion\n4  \nexternal-crates/move/move-execution/v1/crates/move-bytecode-verifier/src/loop_summary.rs\n\t\t@@ -1,7 +1,9 @@\n\t\t// Copyright (c) The Move Contributors\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tuse move_binary_format::control_flow_graph::{BlockId, ControlFlowGraph, VMControlFlowGraph};\n\t\tuse move_abstract_interpreter::control_flow_graph::{\n\t\t    BlockId, ControlFlowGraph, VMControlFlowGraph,\n\t\t};\n\t\tuse std::collections::{btree_map::Entry, BTreeMap, BTreeSet};\n\t\t\n\n\t\t/// Dense index into nodes in the same `LoopSummary`\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \n...l-crates/move/move-execution/v1/crates/move-bytecode-verifier/src/stack_usage_verifier.rs\n\t@@ -10,8 +10,8 @@\n\t\t//! signature. Additionally, the stack height must not dip below that at the beginning of the\n\t\t//! block for any basic block.\n\t\tuse crate::absint::FunctionContext;\n\t\tuse move_abstract_interpreter::control_flow_graph::{BlockId, ControlFlowGraph};\n\t\tuse move_binary_format::{\n\t\t    control_flow_graph::{BlockId, ControlFlowGraph},\n\t\t    errors::{PartialVMError, PartialVMResult},\n\t\t    file_format::{Bytecode, CodeUnit, FunctionDefinitionIndex, Signature, StructFieldInformation},\n\t\t    CompiledModule,\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \nexternal-crates/move/move-execution/v1/crates/move-bytecode-verifier/src/type_safety.rs\n\t@@ -8,9 +8,9 @@\n\t\tuse std::num::NonZeroU64;\n\t\t\n\n\t\tuse crate::absint::FunctionContext;\n\t\tuse move_abstract_interpreter::control_flow_graph::ControlFlowGraph;\n\t\tuse move_abstract_stack::AbstractStack;\n\t\tuse move_binary_format::{\n\t\t    control_flow_graph::ControlFlowGraph,\n\t\t    errors::{PartialVMError, PartialVMResult},\n\t\t    file_format::{\n\t\t        AbilitySet, Bytecode, CodeOffset, CompiledModule, FieldHandleIndex,\n\n\t\n  \n1 change: 1 addition & 0 deletions\n1  \nexternal-crates/move/move-execution/v2/crates/bytecode-verifier-tests/Cargo.toml\n\t@@ -20,6 +20,7 @@ move-bytecode-verifier = { path = \"../move-bytecode-verifier\", package = \"move-b\n\t\tmove-bytecode-verifier-meter.workspace = true\n\t\tmove-core-types.workspace = true\n\t\tmove-vm-config.workspace = true\n\t\tmove-abstract-interpreter = { path = \"../../../v2/crates/move-abstract-interpreter\", package = \"move-abstract-interpreter-v2\" }\n\t\t\n\n\t\t[features]\n\t\tfuzzing = [\"move-binary-format/fuzzing\"]\n \n3 changes: 2 additions & 1 deletion\n3  \n...ove/move-execution/v2/crates/bytecode-verifier-tests/src/unit_tests/loop_summary_tests.rs\n\t\t@@ -1,7 +1,8 @@\n\t\t// Copyright (c) The Move Contributors\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tuse move_binary_format::{control_flow_graph::VMControlFlowGraph, file_format::Bytecode};\n\t\tuse move_abstract_interpreter::control_flow_graph::VMControlFlowGraph;\n\t\tuse move_binary_format::file_format::Bytecode;\n\t\tuse move_bytecode_verifier::loop_summary::{LoopPartition, LoopSummary};\n\t\t\n\n\t\tmacro_rules! assert_node {\n\n\t\n \n15 changes: 15 additions & 0 deletions\n15  \nexternal-crates/move/move-execution/v2/crates/move-abstract-interpreter/Cargo.toml\n\t\t@@ -0,0 +1,15 @@\n\t\t[package]\n\t\tname = \"move-abstract-interpreter-v2\"\n\t\tversion = \"0.1.0\"\n\t\tauthors = [\"The Move Contributors\"]\n\t\tdescription = \"Move abstract interpreter\"\n\t\tlicense = \"Apache-2.0\"\n\t\tpublish = false\n\t\tedition = \"2021\"\n\t\t\n\n\t\t[dependencies]\n\t\tmove-binary-format.workspace = true\n\t\tmove-bytecode-verifier-meter.workspace = true\n\t\t\n\n\t\t[features]\n\t\tdefault = []\n \n337 changes: 337 additions & 0 deletions\n337  \n...-crates/move/move-execution/v2/crates/move-abstract-interpreter/src/control_flow_graph.rs\n\t\t@@ -0,0 +1,337 @@\n\t\t// Copyright (c) The Diem Core Contributors\n\t\t// Copyright (c) The Move Contributors\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\t//! This module defines the control-flow graph uses for bytecode verification.\n\t\tuse move_binary_format::file_format::{Bytecode, CodeOffset};\n\t\tuse std::collections::{btree_map::Entry, BTreeMap, BTreeSet};\n\t\t\n\n\t\t// BTree/Hash agnostic type wrappers\n\t\ttype Map<K, V> = BTreeMap<K, V>;\n\t\ttype Set<V> = BTreeSet<V>;\n\t\t\n\n\t\tpub type BlockId = CodeOffset;\n\t\t\n\n\t\t/// A trait that specifies the basic requirements for a CFG\n\t\tpub trait ControlFlowGraph {\n\t\t    /// Start index of the block ID in the bytecode vector\n\t\t    fn block_start(&self, block_id: BlockId) -> CodeOffset;\n\t\t\n\n\t\t    /// End index of the block ID in the bytecode vector\n\t\t    fn block_end(&self, block_id: BlockId) -> CodeOffset;\n\t\t\n\n\t\t    /// Successors of the block ID in the bytecode vector\n\t\t    fn successors(&self, block_id: BlockId) -> &Vec<BlockId>;\n\t\t\n\n\t\t    /// Return the next block in traversal order\n\t\t    fn next_block(&self, block_id: BlockId) -> Option<BlockId>;\n\t\t\n\n\t\t    /// Iterator over the indexes of instructions in this block\n\t\t    fn instr_indexes(&self, block_id: BlockId) -> Box<dyn Iterator<Item = CodeOffset>>;\n\t\t\n\n\t\t    /// Return an iterator over the blocks of the CFG\n\t\t    fn blocks(&self) -> Vec<BlockId>;\n\t\t\n\n\t\t    /// Return the number of blocks (vertices) in the control flow graph\n\t\t    fn num_blocks(&self) -> u16;\n\t\t\n\n\t\t    /// Return the id of the entry block for this control-flow graph\n\t\t    /// Note: even a CFG with no instructions has an (empty) entry block.\n\t\t    fn entry_block_id(&self) -> BlockId;\n\t\t\n\n\t\t    /// Checks if the block ID is a loop head\n\t\t    fn is_loop_head(&self, block_id: BlockId) -> bool;\n\t\t\n\n\t\t    /// Checks if the the edge from cur->next is a back edge\n\t\t    /// returns false if the edge is not in the cfg\n\t\t    fn is_back_edge(&self, cur: BlockId, next: BlockId) -> bool;\n\t\t\n\n\t\t    /// Return the number of back edges in the cfg\n\t\t    fn num_back_edges(&self) -> usize;\n\t\t}\n\t\t\n\n\t\tstruct BasicBlock {\n\t\t    exit: CodeOffset,\n\t\t    successors: Vec<BlockId>,\n\t\t}\n\t\t\n\n\t\t/// The control flow graph that we build from the bytecode.\n\t\tpub struct VMControlFlowGraph {\n\t\t    /// The basic blocks\n\t\t    blocks: Map<BlockId, BasicBlock>,\n\t\t    /// Basic block ordering for traversal\n\t\t    traversal_successors: Map<BlockId, BlockId>,\n\t\t    /// Map of loop heads with all of their back edges\n\t\t    loop_heads: Map<BlockId, /* back edges */ Set<BlockId>>,\n\t\t}\n\t\t\n\n\t\timpl BasicBlock {\n\t\t    pub fn display(&self, entry: BlockId) {\n\t\t        println!(\"+=======================+\");\n\t\t        println!(\"| Enter:  {}            |\", entry);\n\t\t        println!(\"+-----------------------+\");\n\t\t        println!(\"==> Children: {:?}\", self.successors);\n\t\t        println!(\"+-----------------------+\");\n\t\t        println!(\"| Exit:   {}            |\", self.exit);\n\t\t        println!(\"+=======================+\");\n\t\t    }\n\t\t}\n\t\t\n\n\t\tconst ENTRY_BLOCK_ID: BlockId = 0;\n\t\t\n\n\t\timpl VMControlFlowGraph {\n\t\t    pub fn new(code: &[Bytecode]) -> Self {\n\t\t        let code_len = code.len() as CodeOffset;\n\t\t        // First go through and collect block ids, i.e., offsets that begin basic blocks.\n\t\t        // Need to do this first in order to handle backwards edges.\n\t\t        let mut block_ids = Set::new();\n\t\t        block_ids.insert(ENTRY_BLOCK_ID);\n\t\t        for pc in 0..code.len() {\n\t\t            VMControlFlowGraph::record_block_ids(pc as CodeOffset, code, &mut block_ids);\n\t\t        }\n\t\t\n\n\t\t        // Create basic blocks\n\t\t        let mut blocks = Map::new();\n\t\t        let mut entry = 0;\n\t\t        let mut exit_to_entry = Map::new();\n\t\t        for pc in 0..code.len() {\n\t\t            let co_pc = pc as CodeOffset;\n\t\t\n\n\t\t            // Create a basic block\n\t\t            if Self::is_end_of_block(co_pc, code, &block_ids) {\n\t\t                let exit = co_pc;\n\t\t                exit_to_entry.insert(exit, entry);\n\t\t                let successors = Bytecode::get_successors(co_pc, code);\n\t\t                let bb = BasicBlock { exit, successors };\n\t\t                blocks.insert(entry, bb);\n\t\t                entry = co_pc + 1;\n\t\t            }\n\t\t        }\n\t\t        let blocks = blocks;\n\t\t        assert_eq!(entry, code_len);\n\t\t\n\n\t\t        // # Loop analysis\n\t\t        //\n\t\t        // This section identifies loops in the control-flow graph, picks a back edge and loop head\n\t\t        // (the basic block the back edge returns to), and decides the order that blocks are\n\t\t        // traversed during abstract interpretation (reverse post-order).\n\t\t        //\n\t\t        // The implementation is based on the algorithm for finding widening points in Section 4.1,\n\t\t        // \"Depth-first numbering\" of Bourdoncle [1993], \"Efficient chaotic iteration strategies\n\t\t        // with widenings.\"\n\t\t        //\n\t\t        // NB. The comments below refer to a block's sub-graph -- the reflexive transitive closure\n\t\t        // of its successor edges, modulo cycles.\n\t\t\n\n\t\t        #[derive(Copy, Clone)]\n\t\t        enum Exploration {\n\t\t            InProgress,\n\t\t            Done,\n\t\t        }\n\t\t\n\n\t\t        let mut exploration: Map<BlockId, Exploration> = Map::new();\n\t\t        let mut stack = vec![ENTRY_BLOCK_ID];\n\t\t\n\n\t\t        // For every loop in the CFG that is reachable from the entry block, there is an entry in\n\t\t        // `loop_heads` mapping to all the back edges pointing to it, and vice versa.\n\t\t        //\n\t\t        // Entry in `loop_heads` implies loop in the CFG is justified by the comments in the loop\n\t\t        // below.  Loop in the CFG implies entry in `loop_heads` is justified by considering the\n\t\t        // point at which the first node in that loop, `F` is added to the `exploration` map:\n\t\t        //\n\t\t        // - By definition `F` is part of a loop, meaning there is a block `L` such that:\n\t\t        //\n\t\t        //     F - ... -> L -> F\n\t\t        //\n\t\t        // - `F` will not transition to `Done` until all the nodes reachable from it (including `L`)\n\t\t        //   have been visited.\n\t\t        // - Because `F` is the first node seen in the loop, all the other nodes in the loop\n\t\t        //   (including `L`) will be visited while `F` is `InProgress`.\n\t\t        // - Therefore, we will process the `L -> F` edge while `F` is `InProgress`.\n\t\t        // - Therefore, we will record a back edge to it.\n\t\t        let mut loop_heads: Map<BlockId, Set<BlockId>> = Map::new();\n\t\t\n\n\t\t        // Blocks appear in `post_order` after all the blocks in their (non-reflexive) sub-graph.\n\t\t        let mut post_order = Vec::with_capacity(blocks.len());\n\t\t\n\n\t\t        while let Some(block) = stack.pop() {\n\t\t            match exploration.entry(block) {\n\t\t                Entry::Vacant(entry) => {\n\t\t                    // Record the fact that exploration of this block and its sub-graph has started.\n\t\t                    entry.insert(Exploration::InProgress);\n\t\t\n\n\t\t                    // Push the block back on the stack to finish processing it, and mark it as done\n\t\t                    // once its sub-graph has been traversed.\n\t\t                    stack.push(block);\n\t\t\n\n\t\t                    for succ in &blocks[&block].successors {\n\t\t                        match exploration.get(succ) {\n\t\t                            // This successor has never been visited before, add it to the stack to\n\t\t                            // be explored before `block` gets marked `Done`.\n\t\t                            None => stack.push(*succ),\n\t\t\n\n\t\t                            // This block's sub-graph was being explored, meaning it is a (reflexive\n\t\t                            // transitive) predecessor of `block` as well as being a successor,\n\t\t                            // implying a loop has been detected -- greedily choose the successor\n\t\t                            // block as the loop head.\n\t\t                            Some(Exploration::InProgress) => {\n\t\t                                loop_heads.entry(*succ).or_default().insert(block);\n\t\t                            }\n\t\t\n\n\t\t                            // Cross-edge detected, this block and its entire sub-graph (modulo\n\t\t                            // cycles) has already been explored via a different path, and is\n\t\t                            // already present in `post_order`.\n\t\t                            Some(Exploration::Done) => { /* skip */ }\n\t\t                        };\n\t\t                    }\n\t\t                }\n\t\t\n\n\t\t                Entry::Occupied(mut entry) => match entry.get() {\n\t\t                    // Already traversed the sub-graph reachable from this block, so skip it.\n\t\t                    Exploration::Done => continue,\n\t\t\n\n\t\t                    // Finish up the traversal by adding this block to the post-order traversal\n\t\t                    // after its sub-graph (modulo cycles).\n\t\t                    Exploration::InProgress => {\n\t\t                        post_order.push(block);\n\t\t                        entry.insert(Exploration::Done);\n\t\t                    }\n\t\t                },\n\t\t            }\n\t\t        }\n\t\t\n\n\t\t        let traversal_order = {\n\t\t            // This reverse post order is akin to a topological sort (ignoring cycles) and is\n\t\t            // different from a pre-order in the presence of diamond patterns in the graph.\n\t\t            post_order.reverse();\n\t\t            post_order\n\t\t        };\n\t\t\n\n\t\t        // build a mapping from a block id to the next block id in the traversal order\n\t\t        let traversal_successors = traversal_order\n\t\t            .windows(2)\n\t\t            .map(|window| {\n\t\t                debug_assert!(window.len() == 2);\n\t\t                (window[0], window[1])\n\t\t            })\n\t\t            .collect();\n\t\t\n\n\t\t        VMControlFlowGraph {\n\t\t            blocks,\n\t\t            traversal_successors,\n\t\t            loop_heads,\n\t\t        }\n\t\t    }\n\t\t\n\n\t\t    pub fn display(&self) {\n\t\t        for (entry, block) in &self.blocks {\n\t\t            block.display(*entry);\n\t\t        }\n\t\t        println!(\"Traversal: {:#?}\", self.traversal_successors);\n\t\t    }\n\t\t\n\n\t\t    fn is_end_of_block(pc: CodeOffset, code: &[Bytecode], block_ids: &Set<BlockId>) -> bool {\n\t\t        pc + 1 == (code.len() as CodeOffset) || block_ids.contains(&(pc + 1))\n\t\t    }\n\t\t\n\n\t\t    fn record_block_ids(pc: CodeOffset, code: &[Bytecode], block_ids: &mut Set<BlockId>) {\n\t\t        let bytecode = &code[pc as usize];\n\t\t\n\n\t\t        if let Some(offset) = bytecode.offset() {\n\t\t            block_ids.insert(*offset);\n\t\t        }\n\t\t\n\n\t\t        if bytecode.is_branch() && pc + 1 < (code.len() as CodeOffset) {\n\t\t            block_ids.insert(pc + 1);\n\t\t        }\n\t\t    }\n\t\t\n\n\t\t    /// A utility function that implements BFS-reachability from block_id with\n\t\t    /// respect to get_targets function\n\t\t    fn traverse_by(&self, block_id: BlockId) -> Vec<BlockId> {\n\t\t        let mut ret = Vec::new();\n\t\t        // We use this index to keep track of our frontier.\n\t\t        let mut index = 0;\n\t\t        // Guard against cycles\n\t\t        let mut seen = Set::new();\n\t\t\n\n\t\t        ret.push(block_id);\n\t\t        seen.insert(&block_id);\n\t\t\n\n\t\t        while index < ret.len() {\n\t\t            let block_id = ret[index];\n\t\t            index += 1;\n\t\t            let successors = self.successors(block_id);\n\t\t            for block_id in successors.iter() {\n\t\t                if !seen.contains(&block_id) {\n\t\t                    ret.push(*block_id);\n\t\t                    seen.insert(block_id);\n\t\t                }\n\t\t            }\n\t\t        }\n\t\t\n\n\t\t        ret\n\t\t    }\n\t\t\n\n\t\t    pub fn reachable_from(&self, block_id: BlockId) -> Vec<BlockId> {\n\t\t        self.traverse_by(block_id)\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl ControlFlowGraph for VMControlFlowGraph {\n\t\t    // Note: in the following procedures, it's safe not to check bounds because:\n\t\t    // - Every CFG (even one with no instructions) has a block at ENTRY_BLOCK_ID\n\t\t    // - The only way to acquire new BlockId's is via block_successors()\n\t\t    // - block_successors only() returns valid BlockId's\n\t\t    // Note: it is still possible to get a BlockId from one CFG and use it in another CFG where it\n\t\t    // is not valid. The design does not attempt to prevent this abuse of the API.\n\t\t\n\n\t\t    fn block_start(&self, block_id: BlockId) -> CodeOffset {\n\t\t        block_id\n\t\t    }\n\t\t\n\n\t\t    fn block_end(&self, block_id: BlockId) -> CodeOffset {\n\t\t        self.blocks[&block_id].exit\n\t\t    }\n\t\t\n\n\t\t    fn successors(&self, block_id: BlockId) -> &Vec<BlockId> {\n\t\t        &self.blocks[&block_id].successors\n\t\t    }\n\t\t\n\n\t\t    fn next_block(&self, block_id: BlockId) -> Option<CodeOffset> {\n\t\t        debug_assert!(self.blocks.contains_key(&block_id));\n\t\t        self.traversal_successors.get(&block_id).copied()\n\t\t    }\n\t\t\n\n\t\t    fn instr_indexes(&self, block_id: BlockId) -> Box<dyn Iterator<Item = CodeOffset>> {\n\t\t        Box::new(self.block_start(block_id)..=self.block_end(block_id))\n\t\t    }\n\t\t\n\n\t\t    fn blocks(&self) -> Vec<BlockId> {\n\t\t        self.blocks.keys().cloned().collect()\n\t\t    }\n\t\t\n\n\t\t    fn num_blocks(&self) -> u16 {\n\t\t        self.blocks.len() as u16\n\t\t    }\n\t\t\n\n\t\t    fn entry_block_id(&self) -> BlockId {\n\t\t        ENTRY_BLOCK_ID\n\t\t    }\n\t\t\n\n\t\t    fn is_loop_head(&self, block_id: BlockId) -> bool {\n\t\t        self.loop_heads.contains_key(&block_id)\n\t\t    }\n\t\t\n\n\t\t    fn is_back_edge(&self, cur: BlockId, next: BlockId) -> bool {\n\t\t        self.loop_heads\n\t\t            .get(&next)\n\t\t            .map_or(false, |back_edges| back_edges.contains(&cur))\n\t\t    }\n\t\t\n\n\t\t    fn num_back_edges(&self) -> usize {\n\t\t        self.loop_heads\n\t\t            .iter()\n\t\t            .fold(0, |acc, (_, edges)| acc + edges.len())\n\t\t    }\n\t\t}\n \n7 changes: 7 additions & 0 deletions\n7  \nexternal-crates/move/move-execution/v2/crates/move-abstract-interpreter/src/lib.rs\n\t\t@@ -0,0 +1,7 @@\n\t\t// Copyright (c) The Move Contributors\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tpub mod control_flow_graph;\n\t\t\n\n\t\t#[cfg(test)]\n\t\tmod unit_tests;\n \n72 changes: 72 additions & 0 deletions\n72  \n...-execution/v2/crates/move-abstract-interpreter/src/unit_tests/control_flow_graph_tests.rs\n\t\t@@ -0,0 +1,72 @@\n\t\t// Copyright (c) The Move Contributors\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tuse crate::control_flow_graph::{BlockId, ControlFlowGraph, VMControlFlowGraph};\n\t\tuse move_binary_format::file_format::Bytecode;\n\t\t\n\n\t\t#[test]\n\t\tfn traversal_no_loops() {\n\t\t    let cfg = {\n\t\t        use Bytecode::*;\n\t\t        VMControlFlowGraph::new(&[\n\t\t            /* L0 */ LdTrue,\n\t\t            /*    */ BrTrue(3),\n\t\t            /* L2 */ Branch(3),\n\t\t            /* L3 */ Ret,\n\t\t        ])\n\t\t    };\n\t\t\n\n\t\t    cfg.display();\n\t\t    assert_eq!(cfg.num_blocks(), 3);\n\t\t    assert_eq!(traversal(&cfg), vec![0, 2, 3]);\n\t\t}\n\t\t\n\n\t\t#[test]\n\t\tfn traversal_loops() {\n\t\t    let cfg = {\n\t\t        use Bytecode::*;\n\t\t        VMControlFlowGraph::new(&[\n\t\t            /* L0: Outer head     */ LdTrue,\n\t\t            /*     Outer break    */ BrTrue(6),\n\t\t            /* L2: Inner head     */ LdTrue,\n\t\t            /*     Inner break    */ BrTrue(5),\n\t\t            /* L4: Inner continue */ Branch(2),\n\t\t            /*     Outer continue */ Branch(0),\n\t\t            /* L6:                */ Ret,\n\t\t        ])\n\t\t    };\n\t\t\n\n\t\t    cfg.display();\n\t\t    assert_eq!(cfg.num_blocks(), 5);\n\t\t    assert_eq!(traversal(&cfg), vec![0, 2, 4, 5, 6]);\n\t\t}\n\t\t\n\n\t\t#[test]\n\t\tfn traversal_non_loop_back_branch() {\n\t\t    let cfg = {\n\t\t        use Bytecode::*;\n\t\t        VMControlFlowGraph::new(&[\n\t\t            /* L0 */ Branch(2),\n\t\t            /* L1 */ Ret,\n\t\t            /* L2 */ Branch(1),\n\t\t        ])\n\t\t    };\n\t\t\n\n\t\t    cfg.display();\n\t\t    assert_eq!(cfg.num_blocks(), 3);\n\t\t    assert_eq!(traversal(&cfg), vec![0, 2, 1]);\n\t\t}\n\t\t\n\n\t\t/// Return a vector containing the `BlockId`s from `cfg` in the order suggested by successively\n\t\t/// calling `ControlFlowGraph::next_block` starting from the entry block.\n\t\tfn traversal(cfg: &dyn ControlFlowGraph) -> Vec<BlockId> {\n\t\t    let mut order = Vec::with_capacity(cfg.num_blocks() as usize);\n\t\t    let mut next = Some(cfg.entry_block_id());\n\t\t\n\n\t\t    while let Some(block) = next {\n\t\t        order.push(block);\n\t\t        next = cfg.next_block(block);\n\t\t    }\n\t\t\n\n\t\t    order\n\t\t}\n \n4 changes: 4 additions & 0 deletions\n4  \n...rnal-crates/move/move-execution/v2/crates/move-abstract-interpreter/src/unit_tests/mod.rs\n\t\t@@ -0,0 +1,4 @@\n\t\t// Copyright (c) The Move Contributors\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tmod control_flow_graph_tests;\n  \n1 change: 1 addition & 0 deletions\n1  \nexternal-crates/move/move-execution/v2/crates/move-bytecode-verifier/Cargo.toml\n\t@@ -18,6 +18,7 @@ move-bytecode-verifier-meter.workspace = true\n\t\tmove-core-types.workspace = true\n\t\tmove-vm-config.workspace = true\n\t\tmove-abstract-stack.workspace = true\n\t\tmove-abstract-interpreter = { path = \"../../../v2/crates/move-abstract-interpreter\", package = \"move-abstract-interpreter-v2\" }\n\t\t\n\n\t\t[dev-dependencies]\n\t\thex-literal.workspace = true\n\n\t\n  \n4 changes: 3 additions & 1 deletion\n4  \nexternal-crates/move/move-execution/v2/crates/move-bytecode-verifier/src/absint.rs\n\t@@ -2,8 +2,10 @@\n\t\t// Copyright (c) The Move Contributors\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tuse move_abstract_interpreter::control_flow_graph::{\n\t\t    BlockId, ControlFlowGraph, VMControlFlowGraph,\n\t\t};\n\t\tuse move_binary_format::{\n\t\t    control_flow_graph::{BlockId, ControlFlowGraph, VMControlFlowGraph},\n\t\t    errors::PartialVMResult,\n\t\t    file_format::{\n\t\t        AbilitySet, Bytecode, CodeOffset, CodeUnit, FunctionDefinitionIndex, FunctionHandle,\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \n...nal-crates/move/move-execution/v2/crates/move-bytecode-verifier/src/code_unit_verifier.rs\n\t@@ -9,8 +9,8 @@ use crate::{\n\t\t    absint::FunctionContext, acquires_list_verifier::AcquiresVerifier, control_flow, locals_safety,\n\t\t    reference_safety, stack_usage_verifier::StackUsageVerifier, type_safety,\n\t\t};\n\t\tuse move_abstract_interpreter::control_flow_graph::ControlFlowGraph;\n\t\tuse move_binary_format::{\n\t\t    control_flow_graph::ControlFlowGraph,\n\t\t    errors::{Location, PartialVMError, PartialVMResult, VMResult},\n\t\t    file_format::{\n\t\t        CompiledModule, FunctionDefinition, FunctionDefinitionIndex, IdentifierIndex, TableIndex,\n\n\t\n \n4 changes: 3 additions & 1 deletion\n4  \nexternal-crates/move/move-execution/v2/crates/move-bytecode-verifier/src/loop_summary.rs\n\t\t@@ -1,7 +1,9 @@\n\t\t// Copyright (c) The Move Contributors\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tuse move_binary_format::control_flow_graph::{BlockId, ControlFlowGraph, VMControlFlowGraph};\n\t\tuse move_abstract_interpreter::control_flow_graph::{\n\t\t    BlockId, ControlFlowGraph, VMControlFlowGraph,\n\t\t};\n\t\tuse std::collections::{btree_map::Entry, BTreeMap, BTreeSet};\n\t\t\n\n\t\t/// Dense index into nodes in the same `LoopSummary`\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \n...l-crates/move/move-execution/v2/crates/move-bytecode-verifier/src/stack_usage_verifier.rs\n\t@@ -10,8 +10,8 @@\n\t\t//! signature. Additionally, the stack height must not dip below that at the beginning of the\n\t\t//! block for any basic block.\n\t\tuse crate::absint::FunctionContext;\n\t\tuse move_abstract_interpreter::control_flow_graph::{BlockId, ControlFlowGraph};\n\t\tuse move_binary_format::{\n\t\t    control_flow_graph::{BlockId, ControlFlowGraph},\n\t\t    errors::{PartialVMError, PartialVMResult},\n\t\t    file_format::{Bytecode, CodeUnit, FunctionDefinitionIndex, Signature, StructFieldInformation},\n\t\t    CompiledModule,\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \nexternal-crates/move/move-execution/v2/crates/move-bytecode-verifier/src/type_safety.rs\n\t@@ -8,9 +8,9 @@\n\t\tuse std::num::NonZeroU64;\n\t\t\n\n\t\tuse crate::absint::FunctionContext;\n\t\tuse move_abstract_interpreter::control_flow_graph::ControlFlowGraph;\n\t\tuse move_abstract_stack::AbstractStack;\n\t\tuse move_binary_format::{\n\t\t    control_flow_graph::ControlFlowGraph,\n\t\t    errors::{PartialVMError, PartialVMResult},\n\t\t    file_format::{\n\t\t        AbilitySet, Bytecode, CodeOffset, CompiledModule, FieldHandleIndex,\n\n\t\n  \n3 changes: 3 additions & 0 deletions\n3  \nscripts/execution_layer.py\n\t@@ -358,6 +358,7 @@ def cut_command(f):\n\t\t        *[\"-p\", \"sui-adapter-latest\"],\n\t\t        *[\"-p\", \"sui-move-natives-latest\"],\n\t\t        *[\"-p\", \"sui-verifier-latest\"],\n\t\t        *[\"-p\", \"move-abstract-interpreter\"],\n\t\t        *[\"-p\", \"move-bytecode-verifier\"],\n\t\t        *[\"-p\", \"move-stdlib-natives\"],\n\t\t        *[\"-p\", \"move-vm-runtime\"],\n\n\t@@ -379,6 +380,7 @@ def cut_directories(f):\n\t\t    if f == \"latest\":\n\t\t        crates.extend(\n\t\t            [\n\t\t                external / \"move\" / \"crates\" / \"move-abstract-interpreter\",\n\t\t                external / \"move\" / \"crates\" / \"move-bytecode-verifier\",\n\t\t                external / \"move\" / \"crates\" / \"move-stdlib-natives\",\n\t\t                external / \"move\" / \"crates\" / \"move-vm-runtime\",\n\n\t@@ -388,6 +390,7 @@ def cut_directories(f):\n\t\t    else:\n\t\t        crates.extend(\n\t\t            [\n\t\t                external / \"move\" / \"move-execution\" / f / \"crates\" / \"move-abstract-interpreter\",\n\t\t                external / \"move\" / \"move-execution\" / f / \"crates\" / \"move-bytecode-verifier\",\n\t\t                external / \"move\" / \"move-execution\" / f / \"crates\" / \"move-stdlib-natives\",\n\t\t                external / \"move\" / \"move-execution\" / f / \"crates\" / \"move-vm-runtime\",\n\n\t\n  \n3 changes: 3 additions & 0 deletions\n3  \nsui-execution/Cargo.toml\n\t@@ -31,6 +31,9 @@ sui-verifier-v1 = { path = \"v1/sui-verifier\" }\n\t\tsui-verifier-v2 = { path = \"v2/sui-verifier\" }\n\t\t# sui-verifier-$CUT = { path = \"$CUT/sui-verifier\" }\n\t\t\n\n\t\tmove-abstract-interpreter-latest = { path = \"../external-crates/move/crates/move-abstract-interpreter\", package = \"move-abstract-interpreter\" }\n\t\tmove-abstract-interpreter-v2 = { path = \"../external-crates/move/move-execution/v2/crates/move-abstract-interpreter\" }\n\t\t# move-abstract-interpreter-$CUT = { path = \"../external-crates/move/move-execution/$CUT/crates/move-abstract-interpreter\" }\n\t\tmove-bytecode-verifier-latest = { path = \"../external-crates/move/crates/move-bytecode-verifier\", package = \"move-bytecode-verifier\" }\n\t\tmove-bytecode-verifier-v0 = { path = \"../external-crates/move/move-execution/v0/crates/move-bytecode-verifier\" }\n\t\tmove-bytecode-verifier-v1 = { path = \"../external-crates/move/move-execution/v1/crates/move-bytecode-verifier\" }\n\n\t\n  \n1 change: 1 addition & 0 deletions\n1  \nsui-execution/latest/sui-verifier/Cargo.toml\n\t@@ -15,6 +15,7 @@ move-core-types.workspace = true\n\t\tmove-vm-config.workspace = true\n\t\tmove-abstract-stack.workspace = true\n\t\t\n\n\t\tmove-abstract-interpreter = { path = \"../../../external-crates/move/crates/move-abstract-interpreter\" }\n\t\tmove-bytecode-verifier = { path = \"../../../external-crates/move/crates/move-bytecode-verifier\" }\n\t\t\n\n\t\tsui-types.workspace = true\n\n\t\n  \n6 changes: 3 additions & 3 deletions\n6  \nsui-execution/latest/sui-verifier/src/id_leak_verifier.rs\n\t@@ -12,6 +12,9 @@\n\t\t//! 2. Written into a mutable reference\n\t\t//! 3. Added to a vector\n\t\t//! 4. Passed to a function cal::;\n\t\tuse move_abstract_interpreter::absint::{\n\t\t    AbstractDomain, AbstractInterpreter, FunctionContext, JoinResult, TransferFunctions,\n\t\t};\n\t\tuse move_abstract_stack::AbstractStack;\n\t\tuse move_binary_format::{\n\t\t    errors::PartialVMError,\n\n\t@@ -20,9 +23,6 @@ use move_binary_format::{\n\t\t        StructDefinition, StructFieldInformation,\n\t\t    },\n\t\t};\n\t\tuse move_bytecode_verifier::absint::{\n\t\t    AbstractDomain, AbstractInterpreter, FunctionContext, JoinResult, TransferFunctions,\n\t\t};\n\t\tuse move_bytecode_verifier_meter::{Meter, Scope};\n\t\tuse move_core_types::{\n\t\t    account_address::AccountAddress, ident_str, identifier::IdentStr, vm_status::StatusCode,\n\n\t\n0 comments on commit 15cb9c7\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Move \"Random\" examples to the new examples folder, and update them (#… · MystenLabs/sui@70f50df · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/70f50df2bc436c2ec926c71b76d9f10dcea0f1e2",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\nMove \"Random\" examples to the new examples folder, and update them (#…\nBrowse files\n…17541)\n\n## Description \n\nDescribe the changes or additions included in this PR.\n\n## Test plan \n\nHow did you test the new or updated feature?\n\n---\n\n## Release notes\n\nCheck each box that your changes affect. If none of the boxes relate to\nyour changes, release notes aren't required.\n\nFor each box you select, include information after the relevant heading\nthat describes the impact of your changes that a user might notice and\nany actions they must take to implement updates.\n\n- [ ] Protocol: \n- [ ] Nodes (Validators and Full nodes): \n- [ ] Indexer: \n- [ ] JSON-RPC: \n- [ ] GraphQL: \n- [ ] CLI: \n- [ ] Rust SDK:\n Loading branch information\nbenr-ml committed  \nVerified\n1 parent 47b139f\ncommit 70f50df\n \nShowing 13 changed files with 594 additions and 569 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\nexamples/move/random\nraffles\nMove.toml\nsources\nexample1.move\nexample2.move\ntests\nexample_tests.move\nrandom_nft\nMove.toml\nsources\nexample.move\ntests\nexample_tests.move\nslot_machine\nMove.toml\nsources\nexample.move\ntests\nexample_tests.move\nsui_programmability/examples/games\nsources\nraffles.move\ntests\nraffles_tests.move\nslot_machine_tests.move\n \n10 changes: 10 additions & 0 deletions\n10  \nexamples/move/random/raffles/Move.toml\n\t\t@@ -0,0 +1,10 @@\n\t\t[package]\n\t\tname = \"raffles\"\n\t\tversion = \"0.0.1\"\n\t\tedition = \"2024.beta\"\n\t\t\n\n\t\t[dependencies]\n\t\tSui = { local = \"../../../../crates/sui-framework/packages/sui-framework\" }\n\t\t\n\n\t\t[addresses]\n\t\traffles = \"0x0\"\n \n128 changes: 128 additions & 0 deletions\n128  \nexamples/move/random/raffles/sources/example1.move\n\t\t@@ -0,0 +1,128 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\t/// Basic raffle game that depends on Sui randomness.\n\t\t///\n\t\t/// Anyone can create a new raffle game with an end time and a price. After the end time, anyone can trigger\n\t\t/// a function to determine the winner, and the winner gets the entire balance of the game.\n\t\t///\n\t\t/// Example 1: Uses tickets which could be transferred to other accounts, used as NFTs, etc.\n\t\t\n\n\t\tmodule raffles::example1 {\n\t\t    use sui::balance::{Self, Balance};\n\t\t    use sui::clock::Clock;\n\t\t    use sui::coin::{Self, Coin};\n\t\t    use sui::random::{Random, new_generator};\n\t\t    use sui::sui::SUI;\n\t\t\n\n\t\t    /// Error codes\n\t\t    const EGameInProgress: u64 = 0;\n\t\t    const EGameAlreadyCompleted: u64 = 1;\n\t\t    const EInvalidAmount: u64 = 2;\n\t\t    const EGameMismatch: u64 = 3;\n\t\t    const ENotWinner: u64 = 4;\n\t\t    const ENoParticipants: u64 = 5;\n\t\t\n\n\t\t    /// Game represents a set of parameters of a single game.\n\t\t    public struct Game has key {\n\t\t        id: UID,\n\t\t        cost_in_sui: u64,\n\t\t        participants: u32,\n\t\t        end_time: u64,\n\t\t        winner: Option<u32>,\n\t\t        balance: Balance<SUI>,\n\t\t    }\n\t\t\n\n\t\t    /// Ticket represents a participant in a single game.\n\t\t    public struct Ticket has key {\n\t\t        id: UID,\n\t\t        game_id: ID,\n\t\t        participant_index: u32,\n\t\t    }\n\t\t\n\n\t\t    /// Create a shared-object Game.\n\t\t    public fun create(end_time: u64, cost_in_sui: u64, ctx: &mut TxContext) {\n\t\t        let game = Game {\n\t\t            id: object::new(ctx),\n\t\t            cost_in_sui,\n\t\t            participants: 0,\n\t\t            end_time,\n\t\t            winner: option::none(),\n\t\t            balance: balance::zero(),\n\t\t        };\n\t\t        transfer::share_object(game);\n\t\t    }\n\t\t\n\n\t\t    /// Anyone can determine a winner.\n\t\t    ///\n\t\t    /// The function is defined as private entry to prevent calls from other Move functions. (If calls from other\n\t\t    /// functions are allowed, the calling function might abort the transaction depending on the winner.)\n\t\t    /// Gas based attacks are not possible since the gas cost of this function is independent of the winner.\n\t\t    entry fun determine_winner(game: &mut Game, r: &Random, clock: &Clock, ctx: &mut TxContext) {\n\t\t        assert!(game.end_time <= clock.timestamp_ms(), EGameInProgress);\n\t\t        assert!(game.winner.is_none(), EGameAlreadyCompleted);\n\t\t        assert!(game.participants > 0, ENoParticipants);\n\t\t        let mut generator = r.new_generator(ctx);\n\t\t        let winner = generator.generate_u32_in_range(1, game.participants);\n\t\t        game.winner = option::some(winner);\n\t\t    }\n\t\t\n\n\t\t    /// Anyone can play and receive a ticket.\n\t\t    public fun buy_ticket(game: &mut Game, coin: Coin<SUI>, clock: &Clock, ctx: &mut TxContext): Ticket {\n\t\t        assert!(game.end_time > clock.timestamp_ms(), EGameAlreadyCompleted);\n\t\t        assert!(coin.value() == game.cost_in_sui, EInvalidAmount);\n\t\t\n\n\t\t        game.participants = game.participants + 1;\n\t\t        coin::put(&mut game.balance, coin);\n\t\t\n\n\t\t        Ticket {\n\t\t            id: object::new(ctx),\n\t\t            game_id: object::id(game),\n\t\t            participant_index: game.participants,\n\t\t        }\n\t\t    }\n\t\t\n\n\t\t    /// The winner can take the prize.\n\t\t    public fun redeem(ticket: Ticket, game: Game, ctx: &mut TxContext): Coin<SUI> {\n\t\t        assert!(object::id(&game) == ticket.game_id, EGameMismatch);\n\t\t        assert!(game.winner.contains(&ticket.participant_index), ENotWinner);\n\t\t        destroy_ticket(ticket);\n\t\t\n\n\t\t        let Game { id, cost_in_sui: _, participants: _, end_time: _, winner: _, balance } = game;\n\t\t        object::delete(id);\n\t\t        let reward = balance.into_coin(ctx);\n\t\t        reward\n\t\t    }\n\t\t\n\n\t\t    public use fun destroy_ticket as Ticket.destroy;\n\t\t    public fun destroy_ticket(ticket: Ticket) {\n\t\t        let Ticket { id, game_id: _, participant_index: _ } = ticket;\n\t\t        object::delete(id);\n\t\t    }\n\t\t\n\n\t\t    #[test_only]\n\t\t    public fun cost_in_sui(game: &Game): u64 {\n\t\t        game.cost_in_sui\n\t\t    }\n\t\t\n\n\t\t    #[test_only]\n\t\t    public fun end_time(game: &Game): u64 {\n\t\t        game.end_time\n\t\t    }\n\t\t\n\n\t\t    #[test_only]\n\t\t    public fun participants(game: &Game): u32 {\n\t\t        game.participants\n\t\t    }\n\t\t\n\n\t\t    #[test_only]\n\t\t    public fun winner(game: &Game): Option<u32> {\n\t\t        game.winner\n\t\t    }\n\t\t\n\n\t\t    #[test_only]\n\t\t    public fun balance(game: &Game): u64 {\n\t\t        game.balance.value()\n\t\t    }\n\t\t}\n\t\t\n\n \n103 changes: 103 additions & 0 deletions\n103  \nexamples/move/random/raffles/sources/example2.move\n\t\t@@ -0,0 +1,103 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\t/// Basic raffles game that depends on Sui randomness.\n\t\t///\n\t\t/// Anyone can create a new raffle game with an end time and a price. After the end time, anyone can trigger\n\t\t/// a function to determine the winner, and the winner gets the entire balance of the game.\n\t\t///\n\t\t/// Example 2: Small raffle, without tickets.\n\t\t\n\n\t\tmodule raffles::example2 {\n\t\t    use sui::balance::{Self, Balance};\n\t\t    use sui::clock::Clock;\n\t\t    use sui::coin::{Self, Coin};\n\t\t    use sui::random::{Random, new_generator};\n\t\t    use sui::sui::SUI;\n\t\t    use sui::table_vec::{Self, TableVec};\n\t\t    use sui::tx_context::sender;\n\t\t\n\n\t\t    /// Error codes\n\t\t    const EGameInProgress: u64 = 0;\n\t\t    const EGameAlreadyCompleted: u64 = 1;\n\t\t    const EInvalidAmount: u64 = 2;\n\t\t    const EReachedMaxParticipants: u64 = 3;\n\t\t\n\n\t\t    const MaxParticipants: u32 = 500;\n\t\t\n\n\t\t    /// Game represents a set of parameters of a single game.\n\t\t    public struct Game has key {\n\t\t        id: UID,\n\t\t        cost_in_sui: u64,\n\t\t        participants: u32,\n\t\t        end_time: u64,\n\t\t        balance: Balance<SUI>,\n\t\t        participants_table: TableVec<address>,\n\t\t    }\n\t\t\n\n\t\t    /// Create a shared-object Game.\n\t\t    public fun create(end_time: u64, cost_in_sui: u64, ctx: &mut TxContext) {\n\t\t        let game = Game {\n\t\t            id: object::new(ctx),\n\t\t            cost_in_sui,\n\t\t            participants: 0,\n\t\t            end_time,\n\t\t            balance: balance::zero(),\n\t\t            participants_table: table_vec::empty(ctx),\n\t\t        };\n\t\t        transfer::share_object(game);\n\t\t    }\n\t\t\n\n\t\t    /// Anyone can close the game and send the balance to the winner.\n\t\t    ///\n\t\t    /// The function is defined as private entry to prevent calls from other Move functions. (If calls from other\n\t\t    /// functions are allowed, the calling function might abort the transaction depending on the winner.)\n\t\t    /// Gas based attacks are not possible since the gas cost of this function is independent of the winner.\n\t\t    entry fun close(game: Game, r: &Random, clock: &Clock, ctx: &mut TxContext) {\n\t\t        assert!(game.end_time <= clock.timestamp_ms(), EGameInProgress);\n\t\t        let Game { id, cost_in_sui: _, participants, end_time: _, balance, participants_table } = game;\n\t\t        if (participants > 0) {\n\t\t            let mut generator = r.new_generator(ctx);\n\t\t            let winner = generator.generate_u32_in_range(0, participants - 1);\n\t\t            let winner_address = participants_table[winner as u64];\n\t\t            let reward = coin::from_balance(balance, ctx);\n\t\t            transfer::public_transfer(reward, winner_address);\n\t\t        } else {\n\t\t            balance.destroy_zero();\n\t\t        };\n\t\t\n\n\t\t        participants_table.drop();\n\t\t        object::delete(id);\n\t\t    }\n\t\t\n\n\t\t    /// Anyone can play.\n\t\t    public fun play(game: &mut Game, coin: Coin<SUI>, clock: &Clock, ctx: &mut TxContext) {\n\t\t        assert!(game.end_time > clock.timestamp_ms(), EGameAlreadyCompleted);\n\t\t        assert!(coin.value() == game.cost_in_sui, EInvalidAmount);\n\t\t        assert!(game.participants < MaxParticipants, EReachedMaxParticipants);\n\t\t\n\n\t\t        coin::put(&mut game.balance, coin);\n\t\t        game.participants_table.push_back(ctx.sender());\n\t\t        game.participants = game.participants + 1;\n\t\t    }\n\t\t\n\n\t\t    #[test_only]\n\t\t    public fun cost_in_sui(game: &Game): u64 {\n\t\t        game.cost_in_sui\n\t\t    }\n\t\t\n\n\t\t    #[test_only]\n\t\t    public fun end_time(game: &Game): u64 {\n\t\t        game.end_time\n\t\t    }\n\t\t\n\n\t\t    #[test_only]\n\t\t    public fun participants(game: &Game): u32 {\n\t\t        game.participants\n\t\t    }\n\t\t\n\n\t\t    #[test_only]\n\t\t    public fun balance(game: &Game): u64 {\n\t\t        game.balance.value()\n\t\t    }\n\t\t}\n0 comments on commit 70f50df\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Sui Native bridge (#17579) · MystenLabs/sui@d01026e · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/d01026e2f8c9128ff29f52811b507df745c38a86",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\nSui Native bridge (#17579)\nBrowse files\n## Description \n\nSui Native Bridge v1 for bridging asset from Ethereum to Sui\n\n## Test plan \n\nHow did you test the new or updated feature?\n\n---\n\n## Release notes\n\nCheck each box that your changes affect. If none of the boxes relate to\nyour changes, release notes aren't required.\n\nFor each box you select, include information after the relevant heading\nthat describes the impact of your changes that a user might notice and\nany actions they must take to implement updates.\n\n- [x] Protocol: Added Sui native bridge package `0xb` to the Sui\nframework, the bridge object `0x9` will be created in the next epoch\nafter protocol upgrade.\n- [ ] Nodes (Validators and Full nodes): \n- [ ] Indexer: \n- [ ] JSON-RPC: \n- [ ] GraphQL: \n- [ ] CLI: \n- [ ] Rust SDK:\n\n---------\n\nCo-authored-by: Lu Zhang <8418040+longbowlu@users.noreply.github.com>\nCo-authored-by: longbowlu <zl9394@gmail.com>\nCo-authored-by: Dario Russi <113150618+dariorussi@users.noreply.github.com>\nCo-authored-by: Damir Shamanaev <damirka.ru@gmail.com>\nCo-authored-by: Bridgerz <bridgerzoske@gmail.com>\n main (#17579)\n testnet-v1.25.0 \n…\n devnet-v1.25.0\n6 people committed  \nVerified\n1 parent 807262f\ncommit d01026e\n \nShowing 168 changed files with 25,244 additions and 4,128 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\n.github\nactions/diffs\naction.yml\nworkflows\nnarwhal.yml\nrust.yml\nCargo.lock\nCargo.toml\nbridge\nevm\n.gitignore\ncontracts\nBridgeCommittee.sol\nBridgeConfig.sol\nBridgeLimiter.sol\nBridgeVault.sol\nSuiBridge.sol\ninterfaces\nIBridgeCommittee.sol\nIBridgeConfig.sol\nIBridgeLimiter.sol\nutils\nBridgeConfig.sol\nBridgeUtils.sol\nCommitteeUpgradeable.sol\nMessageVerifier.sol\ndeploy_configs\n11155111.json\n31337.json\nexample.json\nfoundry.toml\nscript\ndeploy_bridge.s.sol\ntest\nBridgeBaseTest.t.sol\nBridgeCommitteeTest.t.sol\nBridgeConfigTest.t.sol\nBridgeGasTest.t.sol\nBridgeLimiterTest.t.sol\nBridgeUtilsTest.t.sol\nCommitteeUpgradeableTest.t.sol\nSuiBridgeTest.t.sol\nmocks\nMockSuiBridgeV2.sol\nMockTokens.sol\nmove/tokens\nbtc\nMove.toml\nsources\nbtc.move\neth\nMove.toml\nsources\neth.move\nmock/ka\nMove.toml\nsources\nka.move\nusdc\nMove.toml\nsources\nusdc.move\nusdt\nMove.toml\nsources\nusdt.move\ncrates\nsui-bridge\nCargo.toml\nabi\nbridge_committee.json\nbridge_committee_upgradeable.json\nbridge_config.json\nbridge_limiter.json\nbridge_vault.json\nsui_bridge.json\ntests\nmock_sui_bridge_v2.json\nbuild.rs\nsrc\nabi.rs\naction_executor.rs\nclient\nbridge_authority_aggregator.rs\nbridge_client.rs\nconfig.rs\ncrypto.rs\ne2e_tests\nbasic.rs\nmod.rs\ntest_utils.rs\nencoding.rs\nerror.rs\neth_client.rs\neth_transaction_builder.rs\nevents.rs\nlib.rs\nmain.rs\nnode.rs\norchestrator.rs\nserver\ngovernance_verifier.rs\nhandler.rs\nmock_handler.rs\nmod.rs\nstorage.rs\nsui_client.rs\nsui_mock_client.rs\nsui_syncer.rs\nsui_transaction_builder.rs\ntest_utils.rs\ntools\ncli.rs\nmod.rs\ntypes.rs\nutils.rs\nsui-config/src\ngenesis.rs\nsui-core\nsrc\nauthority.rs\nauthority\nauthority_per_epoch_store.rs\nepoch_start_configuration.rs\nexecution_cache.rs\nexecution_cache\npassthrough_cache.rs\nwriteback_cache.rs\ntests/staged\nsui.yaml\nsui-e2e-tests\nCargo.toml\ntests\nbridge_tests.rs\nframework_upgrades/mock_sui_systems\nbase/sources\nsui_system.move\ndeep_upgrade/sources\nsui_system.move\nsafe_mode/sources\nsui_system.move\nshallow_upgrade/sources\nsui_system.move\nprotocol_version_tests.rs\nsui-framework-snapshot/src\nlib.rs\nsui-framework-tests/src\nunit_tests.rs\nsui-framework\nbuild.rs\ndocs\nbridge\nbridge.md\nchain_ids.md\ncommittee.md\ncrypto.md\nlimiter.md\nmessage.md\nmessage_types.md\ntreasury.md\nsui-framework\nobject.md\nsui-system\nsui_system.md\nsui_system_state_inner.md\nvalidator_set.md\npackages\nbridge\nMove.toml\nsources\nbridge.move\nchain_ids.move\ncommittee.move\ncrypto.move\nlimiter.move\nmessage.move\nmessage_types.move\ntreasury.move\ntests\nbridge_tests.move\ncommitee_test.move\nlimiter_tests.move\nmessage_tests.move\nsui-framework/sources\nobject.move\nsui-system/sources\nsui_system.move\nsui_system_state_inner.move\nvalidator_set.move\npublished_api.txt\nsrc\nlib.rs\nsui-genesis-builder/src\nlib.rs\nsui-graphql-rpc\nschema\ncurrent_progress_schema.graphql\nsrc/types/transaction_block_kind\nend_of_epoch.rs\ntests/snapshots\nsnapshot_tests__schema_sdl_export.snap\nsui-json-rpc-api/src\nbridge.rs\nlib.rs\nsui-json-rpc-types/src\nsui_transaction.rs\nsui-json-rpc/src\nauthority_state.rs\nbridge_api.rs\nlib.rs\nsui-move-build/src\nlib.rs\nsui-node/src\nlib.rs\nsui-open-rpc/spec\nopenrpc.json\nsui-protocol-config/src\nlib.rs\nsnapshots\nsui_protocol_config__test__version_45.snap\nsui-sdk/src\nwallet_context.rs\nsui-swarm-config/tests/snapshots\nsnapshot_tests__genesis_config_snapshot_matches.snap\nsnapshot_tests__populated_genesis_snapshot_matches-2.snap\nsui-transactional-test-runner/src\ntest_adapter.rs\nsui-types\nCargo.toml\nsrc\nbridge.rs\ncrypto.rs\nerror.rs\ntransaction.rs\nsui\nCargo.toml\nsrc\nsui_commands.rs\nvalidator_commands.rs\ntest-cluster\nCargo.toml\nsrc\nlib.rs\nsui-execution\nlatest\nsui-adapter/src\nexecution_engine.rs\nsui-move-natives/src/object_runtime\nmod.rs\nv1\nsui-adapter/src\nexecution_engine.rs\nsui-verifier/src\nid_leak_verifier.rs\none_time_witness_verifier.rs\nv2/sui-adapter/src\nexecution_engine.rs\n  \n5 changes: 5 additions & 0 deletions\n5  \n.github/actions/diffs/action.yml\n\t@@ -13,6 +13,9 @@ outputs:\n\t\t  isMove:\n\t\t    description: True when changes happened to the Move code\n\t\t    value: \"${{ steps.diff.outputs.isMove }}\"\n\t\t  isSolidity:\n\t\t    description: True when changes happened to the Solidity code\n\t\t    value: \"${{ steps.diff.outputs.isSolidity }}\"\n\t\t  isReleaseNotesEligible:\n\t\t    description: True when changes happened in Release Notes eligible paths\n\t\t    value: \"${{ steps.diff.outputs.isReleaseNotesEligible }}\"\n\n\t@@ -58,6 +61,8 @@ runs:\n\t\t          - 'Cargo.toml'\n\t\t          - 'examples/**'\n\t\t          - 'sui_programmability/**'\n\t\t        isSolidity:\n\t\t          - 'bridge/evm/**'\n\t\t        isReleaseNotesEligible:\n\t\t          - 'consensus/**'\n\t\t          - 'crates/**'\n\n\t\n  \n4 changes: 4 additions & 0 deletions\n4  \n.github/workflows/narwhal.yml\n\t@@ -91,6 +91,10 @@ jobs:\n\t\t        uses: pierotofy/set-swap-space@master\n\t\t        with:\n\t\t          swap-size-gb: 256\n\t\t      - name: Install Foundry\n\t\t        run: |\n\t\t          curl -L https://foundry.paradigm.xyz | { cat; echo '$FOUNDRY_BIN_DIR/foundryup'; } | bash\n\t\t          echo \"$HOME/.config/.foundry/bin\" >> $GITHUB_PATH\n\t\t      - name: cargo test\n\t\t        run: |\n\t\t          cargo nextest run --profile ci\n\n\t\n  \n33 changes: 31 additions & 2 deletions\n33  \n.github/workflows/rust.yml\n\t@@ -45,6 +45,7 @@ jobs:\n\t\t    outputs:\n\t\t      isRust: ${{ steps.diff.outputs.isRust }}\n\t\t      isMove: ${{ steps.diff.outputs.isMove }}\n\t\t      isSolidity: ${{ steps.diff.outputs.isSolidity }}\n\t\t      isReleaseNotesEligible: ${{ steps.diff.outputs.isReleaseNotesEligible }}\n\t\t      isMoveAutoFormatter: ${{ steps.diff.outputs.isMoveAutoFormatter }}\n\t\t    steps:\n\n\t@@ -108,7 +109,7 @@ jobs:\n\t\t\n\n\t\t  test:\n\t\t    needs: diff\n\t\t    if: needs.diff.outputs.isRust == 'true'\n\t\t    if: needs.diff.outputs.isRust == 'true' || needs.diff.outputs.isSolidity == 'true'\n\t\t    timeout-minutes: 45\n\t\t    env:\n\t\t      # Tests written with #[sim_test] are often flaky if run as #[tokio::test] - this var\n\n\t@@ -128,6 +129,10 @@ jobs:\n\t\t        uses: pierotofy/set-swap-space@master\n\t\t        with:\n\t\t          swap-size-gb: 256\n\t\t      - name: Install Foundry\n\t\t        run: |\n\t\t          curl -L https://foundry.paradigm.xyz | { cat; echo '$FOUNDRY_BIN_DIR/foundryup'; } | bash\n\t\t          echo \"$HOME/.config/.foundry/bin\" >> $GITHUB_PATH\n\t\t      - name: cargo test\n\t\t        run: |\n\t\t          cargo nextest run --profile ci\n\n\t@@ -221,7 +226,7 @@ jobs:\n\t\t\n\t\t  simtest:\n\t\t    needs: diff\n\t\t    if: needs.diff.outputs.isRust == 'true'\n\t\t    if: needs.diff.outputs.isRust == 'true' || needs.diff.outputs.isSolidity == 'true'\n\t\t    timeout-minutes: 45\n\t\t    runs-on: [ubuntu-ghcloud]\n\t\t    env:\n\n\t@@ -465,3 +470,27 @@ jobs:\n\t\t        env:\n\t\t          POSTGRES_HOST: localhost\n\t\t          POSTGRES_PORT: 5432\n\t\t\n\n\t\t  bridge-evm:\n\t\t    name: bridge-evm-tests\n\t\t    needs: diff\n\t\t    if: needs.diff.outputs.isSolidity == 'true'\n\t\t    runs-on: [ubuntu-latest]\n\t\t    steps:\n\t\t      - uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11  # Pin v4.1.1\n\t\t      - name: Install Foundry\n\t\t        run: |\n\t\t          curl -L https://foundry.paradigm.xyz | { cat; echo '$FOUNDRY_BIN_DIR/foundryup'; } | bash\n\t\t          echo \"$HOME/.config/.foundry/bin\" >> $GITHUB_PATH\n\t\t      - name: Install Dependencies\n\t\t        working-directory: bridge/evm\n\t\t        run: |  \n\t\t          forge install https://github.com/OpenZeppelin/openzeppelin-contracts-upgradeable@v5.0.1 https://github.com/foundry-rs/forge-std@v1.3.0 https://github.com/OpenZeppelin/openzeppelin-foundry-upgrades --no-git --no-commit\n\t\t      - name: Check Bridge EVM Unit Tests\n\t\t        shell: bash\n\t\t        working-directory: bridge/evm\n\t\t        env:\n\t\t          INFURA_API_KEY: ${{ secrets.INFURA_API_KEY }}\n\t\t        run: |\n\t\t          forge clean\n\t\t          forge test --ffi\n \n9 changes: 9 additions & 0 deletions\n9  \nCargo.lock\nLoad diff\n\nSome generated files are not rendered by default. Learn more about how customized files appear on GitHub.\n\n  \n1 change: 1 addition & 0 deletions\n1  \nCargo.toml\n\t@@ -591,6 +591,7 @@ sui-analytics-indexer-derive = { path = \"crates/sui-analytics-indexer-derive\" }\n\t\tsui-archival = { path = \"crates/sui-archival\" }\n\t\tsui-authority-aggregation = { path = \"crates/sui-authority-aggregation\" }\n\t\tsui-benchmark = { path = \"crates/sui-benchmark\" }\n\t\tsui-bridge = { path = \"crates/sui-bridge\" }\n\t\tsui-cluster-test = { path = \"crates/sui-cluster-test\" }\n\t\tsui-common = { path = \"crates/sui-common\" }\n\t\tsui-config = { path = \"crates/sui-config\" }\n\n\t\n  \n5 changes: 3 additions & 2 deletions\n5  \nbridge/evm/.gitignore\n\t@@ -4,10 +4,11 @@ cache*\n\t\tnetwork_config.json\n\t\t.vscode\n\t\tcache/\n\t\tout/\n\t\tout*/\n\t\t*.txt\n\t\t!remappings.txt\n\t\tlcov.info\n\t\tbroadcast/**/31337\n\t\t\n\n\t\tlib/*\n\t\tlib/*\n\t\t\n\n  \n58 changes: 31 additions & 27 deletions\n58  \nbridge/evm/contracts/BridgeCommittee.sol\n\t@@ -18,32 +18,31 @@ contract BridgeCommittee is IBridgeCommittee, CommitteeUpgradeable {\n\t\t    mapping(address committeeMember => bool isBlocklisted) public blocklist;\n\t\t    IBridgeConfig public config;\n\t\t\n\n\t\t    /* ========== INITIALIZER ========== */\n\t\t    /* ========== INITIALIZERS ========== */\n\t\t\n\n\t\t    /// @notice Initializes the contract with the provided parameters.\n\t\t    /// @dev should be called directly after deployment (see OpenZeppelin upgradeable standards).\n\t\t    /// the provided arrays must have the same length and the total stake provided must equal 10000.\n\t\t    /// @param _config The address of the BridgeConfig contract.\n\t\t    /// the provided arrays must have the same length and the total stake provided must be greater than,\n\t\t    /// or equal to the provided minimum stake required.\n\t\t    /// @param committee addresses of the committee members.\n\t\t    /// @param stake amounts of the committee members.\n\t\t    function initialize(\n\t\t        address _config,\n\t\t        address[] memory committee,\n\t\t        uint16[] memory stake,\n\t\t        uint16 minStakeRequired\n\t\t    ) external initializer {\n\t\t    /// @param minStakeRequired minimum stake required for the committee.\n\t\t    function initialize(address[] memory committee, uint16[] memory stake, uint16 minStakeRequired)\n\t\t        external\n\t\t        initializer\n\t\t    {\n\t\t        __CommitteeUpgradeable_init(address(this));\n\t\t        __UUPSUpgradeable_init();\n\t\t\n\n\t\t        uint256 _committeeLength = committee.length;\n\t\t\n\n\t\t        require(_committeeLength < 256, \"BridgeCommittee: Committee length must be less than 256\");\n\t\t\n\n\t\t        require(\n\t\t            _committeeLength == stake.length,\n\t\t            \"BridgeCommittee: Committee and stake arrays must be of the same length\"\n\t\t        );\n\t\t\n\n\t\t        config = IBridgeConfig(_config);\n\t\t\n\n\t\t        uint16 totalStake;\n\t\t        for (uint16 i; i < _committeeLength; i++) {\n\t\t            require(\n\n\t@@ -57,19 +56,28 @@ contract BridgeCommittee is IBridgeCommittee, CommitteeUpgradeable {\n\t\t        require(totalStake >= minStakeRequired, \"BridgeCommittee: total stake is less than minimum\"); // 10000 == 100%\n\t\t    }\n\t\t\n\n\t\t    /// @notice Initializes the contract with the provided parameters.\n\t\t    /// @dev This function should be called directly after config deployment. The config contract address\n\t\t    /// provided should be verified before bridging any assets.\n\t\t    /// @param _config The address of the BridgeConfig contract.\n\t\t    function initializeConfig(address _config) external {\n\t\t        require(address(config) == address(0), \"BridgeCommittee: Config already initialized\");\n\t\t        config = IBridgeConfig(_config);\n\t\t    }\n\t\t\n\n\t\t    /* ========== EXTERNAL FUNCTIONS ========== */\n\t\t\n\n\t\t    /// @notice Verifies the provided signatures for the given message by aggregating and validating the\n\t\t    /// stake of each signer against the required stake of the given message type.\n\t\t    /// @dev The function will revert if the total stake of the signers is less than the required stake.\n\t\t    /// @param signatures The array of signatures to be verified.\n\t\t    /// @param message The `BridgeMessage.Message` to be verified.\n\t\t    function verifySignatures(bytes[] memory signatures, BridgeMessage.Message memory message)\n\t\t    /// @param message The `BridgeUtils.Message` to be verified.\n\t\t    function verifySignatures(bytes[] memory signatures, BridgeUtils.Message memory message)\n\t\t        external\n\t\t        view\n\t\t        override\n\t\t    {\n\t\t        uint32 requiredStake = BridgeMessage.requiredStake(message);\n\t\t        uint32 requiredStake = BridgeUtils.requiredStake(message);\n\t\t\n\n\t\t        uint16 approvalStake;\n\t\t        address signer;\n\n\t@@ -81,19 +89,15 @@ contract BridgeCommittee is IBridgeCommittee, CommitteeUpgradeable {\n\t\t            // recover the signer from the signature\n\t\t            (bytes32 r, bytes32 s, uint8 v) = splitSignature(signature);\n\t\t\n\n\t\t            (signer,,) = ECDSA.tryRecover(BridgeMessage.computeHash(message), v, r, s);\n\t\t            (signer,,) = ECDSA.tryRecover(BridgeUtils.computeHash(message), v, r, s);\n\t\t\n\n\t\t            // skip if signer is block listed or has no stake\n\t\t            if (blocklist[signer] || committeeStake[signer] == 0) continue;\n\t\t            require(!blocklist[signer], \"BridgeCommittee: Signer is blocklisted\");\n\t\t            require(committeeStake[signer] > 0, \"BridgeCommittee: Signer has no stake\");\n\t\t\n\n\t\t            uint8 index = committeeIndex[signer];\n\t\t            uint256 mask = 1 << index;\n\t\t            if (bitmap & mask == 0) {\n\t\t                bitmap |= mask;\n\t\t            } else {\n\t\t                // skip if duplicate signature\n\t\t                continue;\n\t\t            }\n\t\t            require(bitmap & mask == 0, \"BridgeCommittee: Duplicate signature provided\");\n\t\t            bitmap |= mask;\n\t\t\n\n\t\t            approvalStake += committeeStake[signer];\n\t\t        }\n\n\t@@ -103,18 +107,18 @@ contract BridgeCommittee is IBridgeCommittee, CommitteeUpgradeable {\n\t\t\n\n\t\t    /// @notice Updates the blocklist status of the provided addresses if provided signatures are valid.\n\t\t    /// @param signatures The array of signatures to validate the message.\n\t\t    /// @param message BridgeMessage containing the update blocklist payload.\n\t\t    /// @param message BridgeUtils containing the update blocklist payload.\n\t\t    function updateBlocklistWithSignatures(\n\t\t        bytes[] memory signatures,\n\t\t        BridgeMessage.Message memory message\n\t\t        BridgeUtils.Message memory message\n\t\t    )\n\t\t        external\n\t\t        nonReentrant\n\t\t        verifyMessageAndSignatures(message, signatures, BridgeMessage.BLOCKLIST)\n\t\t        verifyMessageAndSignatures(message, signatures, BridgeUtils.BLOCKLIST)\n\t\t    {\n\t\t        // decode the blocklist payload\n\t\t        (bool isBlocklisted, address[] memory _blocklist) =\n\t\t            BridgeMessage.decodeBlocklistPayload(message.payload);\n\t\t            BridgeUtils.decodeBlocklistPayload(message.payload);\n\t\t\n\n\t\t        // update the blocklist\n\t\t        _updateBlocklist(_blocklist, isBlocklisted);\n\n\t\n0 comments on commit d01026e\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Sui Native bridge by patrickkuo · Pull Request #17579 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/17579",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\nSui Native bridge #17579\n Merged\npatrickkuo merged 87 commits into main from native-bridge \n+25,244 −4,128 \n Conversation 6\n Commits 87\n Checks 44\n Files changed 168\nConversation\nContributor\npatrickkuo commented  • \nedited \nDescription\n\nSui Native Bridge v1 for bridging asset from Ethereum to Sui\n\nTest plan\n\nHow did you test the new or updated feature?\n\nRelease notes\n\nCheck each box that your changes affect. If none of the boxes relate to your changes, release notes aren't required.\n\nFor each box you select, include information after the relevant heading that describes the impact of your changes that a user might notice and any actions they must take to implement updates.\n\n Protocol: Added Sui native bridge package 0xb to the Sui framework, the bridge object 0x9 will be created in the next epoch after protocol upgrade.\n Nodes (Validators and Full nodes):\n Indexer:\n JSON-RPC:\n GraphQL:\n CLI:\n Rust SDK:\nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nsui-docs\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMay 9, 2024 7:52pm\n3 Ignored Deployments\n vercel bot deployed to Preview – sui-docs \nView deployment\n vercel bot deployed to Preview – sui-docs \nView deployment\n dariorussi requested review from longbowlu, Bridgerz and dariorussi \n patrickkuo marked this pull request as ready for review \n patrickkuo requested review from amnn, wlmyng, stefan-mysten, emmazzz, suiwombat, ronny-mysten, mystenmark, joyqvq, kchalkias and benr-ml as code owners \n vercel bot deployed to Preview – sui-docs \nView deployment\ndariorussi approved these changes \nView reviewed changes\nContributor\ndariorussi left a comment\n\nthis looks good to me, though I have not checked and cannot check all code.\nIt is essentially the bridge code as coming from the branch so not too clear what we need to review.\nIf anybody wanted to take a look please go ahead, we are trying to get it in by today.\nA cursory look for the parts you may care about is good too.\nThanks\n\npatrickkuo commented \nView reviewed changes\ncrates/sui-protocol-config/src/lib.rs\nOutdated\n\t\t@@ -13,7 +13,7 @@ use tracing::{info, warn};\n\t\t\n\n\t\t/// The minimum and maximum protocol versions supported by this build.\n\t\tconst MIN_PROTOCOL_VERSION: u64 = 1;\n\t\tconst MAX_PROTOCOL_VERSION: u64 = 45;\n\t\tconst MAX_PROTOCOL_VERSION: u64 = 46;\nContributor\nAuthor\n patrickkuo \n\n@ebmifa do I need to increment the protocol version to 46 for next devnet cut?\n\nContributor\n ebmifa \n\nWe are already at 45 in main, why are we skipping to 46?\nCC: @amnn\n\nContributor\nAuthor\n patrickkuo \n\nI will revert it back to 45, I didn't know if 45 is already deployed or not.\n\nContributor\n ebmifa \n\nYeah, 45 is already in devnet as of this Monday.\n\n patrickkuo force-pushed the native-bridge branch from fe97083 to 13c0165 \nCompare\n vercel bot deployed to Preview – sui-docs \nView deployment\n vercel bot deployed to Preview – sui-docs \nView deployment\n patrickkuo force-pushed the native-bridge branch from d142bfc to 4a83e85 \nCompare\n vercel bot deployed to Preview – sui-docs \nView deployment\n vercel bot deployed to Preview – sui-docs \nView deployment\n patrickkuo force-pushed the native-bridge branch from c8d4f07 to e0b5ba7 \nCompare\n vercel bot deployed to Preview – sui-docs \nView deployment\npatrickkuo added 2 commits \n[native bridge move code 1/n] - native bridge move package (#16259) …\nVerified\nf24c965\nmove doc\nVerified\n5f3a386\n59 hidden items\nLoad more…\nlongbowlu and others added 25 commits \n[bridge/70] cache the result of get_mutable_bridge_object_arg (#17152) …\nVerified\n300d26b\n[bridge 71] remove stale comments (#17162) …\nVerified\nbfeeae3\nCommittee length < 256 (#17210)\nVerified\nb01bb0d\n[bridge 72/n] rework node config a little bit (#17197) …\nVerified\nd25329d\nCleanup and test rework (#17116) …\nVerified\n1033fee\nE2E test refactor (#17138) …\nVerified\nc194382\nMove all ETH wrapping and unwrapping to vault (#17255) …\nVerified\n015d947\n[bridge] use different foundry-out for each test run (#17258) …\nVerified\n3e3bd67\n[bridge 73] add eth_contracts_start_block_fallback (#17239) …\nVerified\nbc7154c\n[native bridge] - fix bridge move test and enable test in CI (#17331) …\nVerified\nca26c89\n[native bridge move] - fix limiter error handling (#17208) …\nVerified\ne8e7e6f\n[bridge] refactor test utils (#17288) …\nVerified\ne5bb838\n[bridge] add more sui events emitted in bridge.move (#17302) …\nVerified\n8dbdff6\n[bridge] rename TokenBridgeEvent to TokenDepositedEvent and remov… …\nVerified\n272831d\n[bridge 76/n] add events for committee.move (#17374) …\nVerified\nb60d1af\n[native-bridge] - committee registration cli tool (#17110) …\nVerified\n6e258e2\n[bridge] remove unnecessary &mut (#17470) …\nVerified\n4d6e9a3\nSui Bridge EVM Upgrade Action (#17266) …\nVerified\n112a6bb\nDisable upgrade safety in deployment script (#17553)\nVerified\n99f1e62\ntests and move 2024 cleanup (#17517) …\nVerified\n2cedaec\nfixup after rebase …\nVerified\nf515446\naudit feedback (#17573) …\nVerified\n72ef8a1\nUpdate BridgeVault.sol (#17231) …\nVerified\n09e3522\nregen snapshots …\nVerified\n5bc4639\nupdate snapshots\nVerified\nbb61ecf\n patrickkuo force-pushed the native-bridge branch from e0b5ba7 to bb61ecf \nCompare\n vercel bot deployed to Preview – sui-docs \nView deployment\n patrickkuo enabled auto-merge (squash) \nView details\n patrickkuo merged commit d01026e into main \n48 checks passed\n patrickkuo deleted the native-bridge branch \nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\nebmifa\n\ndariorussi\n\nlongbowlu\n\nBridgerz\n\namnn\n\nwlmyng\n\nstefan-mysten\n\nemmazzz\n\nsuiwombat\n\nronny-mysten\n\nmystenmark\n\njoyqvq\n\nkchalkias\n\nbenr-ml\n\nAssignees\nNo one assigned\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n6 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "sui/sui-execution at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/tree/main/sui-execution",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nconsensus\ncrates\ndapps\ndashboards\ndoc\ndocker\ndocs\nexamples\nexternal-crates\nkiosk\nnarwhal\nnre\nscripts\nsdk\nsui-execution\ncut\nlatest\nsrc\nv0\nv1\nv2\nCargo.toml\nREADME.md\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui\n/sui-execution/\nDirectory actions\nMore options\nLatest commit\n5 people\nSui Native bridge (#17579)\nd01026e\n · \nHistory\nHistory\nFolders and files\nName\tLast commit message\tLast commit date\n\nparent directory\n..\n\n\ncut\n\t\nworkspace-hack: stop having all workspace crates depend on workspace …\n\t\n\n\nlatest\n\t\nSui Native bridge (#17579)\n\t\n\n\nsrc\n\t\n[sui-execution] Verifier trait creates and accepts Meter (#16941)\n\t\n\n\nv0\n\t\nCongestion control triggered transaction cancellation (#17200)\n\t\n\n\nv1\n\t\nSui Native bridge (#17579)\n\t\n\n\nv2\n\t\nSui Native bridge (#17579)\n\t\n\n\nCargo.toml\n\t\n[move] Split bytecode's absint into its own crate (#17459)\n\t\n\n\nREADME.md\n\t\nmove: move move-execution to into the move directory\n\t\nREADME.md\nSui Execution\n\nThe sui-execution crate is responsible for abstracting access to the execution layer. It allows us to isolate big changes to the execution layer that need to be gated behind protocol config changes, to minimise the risk of inadvertantly changing behaviour that is relevant for state sync (which would cause a fork).\n\nThe Execution Layer include:\n\nThe metered verifier, used during signing.\nThe VM, for executing transactions to effects.\nThe adapter, that integrates Move into Sui.\nAccess to the state as seen by the VM, such as type layout resolution.\n\nThe specific versions of crates in the execution layer are found in:\n\n./sui-execution, (latest version and cuts/copies of sui-specific crates).\n./external-crates/move/move-execution (cuts/copies of move-specific crates).\n./external-crates/move (the latest versions of move-specific crates).\nAccessing the Execution Layer\n\nAll access to these features from authority (validator and fullnode) code must be via sui-execution, and not by directly depending a constituent crate.\n\nCode that is exclusively used in other tools (such as the CLI, or internal tools) are free to depend on a specific version of the execution layer (typically the latest version).\n\nIf you are unsure whether your code is part of the authority codebase, or you are writing a library that is used on validators and fullnodes, and elsewhere, default to accessing execution via sui-execution.\n\nNot following this rule can introduce the potential for forks when one part of the authority performs execution according to the execution layer dictated by the protocol config, and other parts perform execution according to a version of the execution layer that is hardcoded in their binary (and may change from release-to-release).\n\nsui-execution tests::test_encapsulation is a test that detects potential breaches of this property.\n\nKinds of Cut\n\nThere are three kinds of cut:\n\nlatest\nversioned snapshots, of the form vX where X is a number, which preserve old behaviour.\n\"feature\" cuts, where in-progress features are staged, typically named for that feature.\nThe latest cut\n\nOngoing changes to execution are typically added to the latest versions of their crates, found at.\n\n./sui-execution/latest\n./external-crates/move/\n\nThis is the version that will be used by the latest versions of our production networks (mainnet, testnet).\n\nIf this version has been used in production already, changes that might affect existing behaviour will still need to be feature-gated by the protocol config, otherwise, it can be modified in-place.\n\nLarge changes to execution that are difficult to feature gate warrant their own execution version, see \"Making a Cut\" below for details on creating such a cut.\n\nVersion Snapshots\n\nVersioned snapshots, such as v0, found at:\n\n./sui-execution/v0\n./external-crates/move/move-execution/v0\n\npreserve the existing behaviour of execution. These should generally not be modified, because doing so risks changing the effects produced by existing transactions (which would result in a fork). Legitimate reasons to change these crates include:\n\nFixing a non-deterministic bug. There may be bugs that cause a fullnode to behave differently during state sync than the network did during execution. The only way to fix these bugs is to update the version of execution that the fullnode will use, which may be a versioned snapshot. Note that if there is an existing bug but it is not deterministic, it should not be fixed in older versions.\n\nUpdating interfaces. Not all crates that are used by the execution layer are versioned: Base crates such as ./crates/sui-types are shared across all versions. Changes to interfaces of base crates will warrant a change to versioned snapshots to fix their use of those interfaces. The aim of those changes should always be to preserve existing behaviour.\n\nFeature Cuts\n\nIt can be worthwhile to develop large features that warrant their own execution version in a separate cut (i.e. not latest). This allows latest to continue shipping to networks uninterrupted while the new feature is developed.\n\nFeature cuts should only be used to process transactions on devnet as their behaviour may change from release to release, and only devnet is wiped regularly enough to accommodate that. This is done using the Chain parameter of ProtocolConfig::get_for_version:\n\nimpl ProtocolConfig {\n    /* ... */\n    fn get_for_version_impl(version: ProtocolVersion, chain: Chain) -> Self {\n        /* ... */\n        match version.0 {\n            /* ... */\n            42 => {\n                let mut cfg = Self::get_for_version_impl(version - 1, chain);\n                if ![Chain::Mainnet, Chain::Testnet].contains(&chain) {\n                    cfg.execution_version = Some(FEATURE_VERSION)\n                }\n                cfg\n            }\n            /* ... */\n        }\n    }\n}\n\nTo use this flow:\n\nMake a cut from latest, named for your feature, and make changes to that version.\nWhen it is time to release the feature, make a version snapshot from latest to preserve its existing behaviour, merge your feature into the new latest, and delete your feature.\nMaking a Cut\n\nCuts are always made from latest, with the process automated by a script: ./scripts/execution_layer.py. To copy the relevant crates for a new cut, call:\n\n./scripts/execution_layer.py cut <FEATURE>\n\nWhere <FEATURE> is the new feature name. For a versioned snapshot this is vX where X is the current version assigned to latest, whereas for feature cuts, it is the feature's name.\n\nThe script can be called with --dry-run to print a summary of what it will do, without actually doing it.\n\nsui-execution/src/lib.rs\n\nThe entry-point to the execution crate -- sui-execution/src/lib.rs -- is automatically generated. CI tests will confirm that it has not been modified manually. Any modifications should be made in one of two places:\n\nsui-execution/src/lib.template.rs -- a template file with expansion points to be filled in, by\nfunction generate_lib in scripts/execution_layer.py, which fills them in based on the execution modules in the crate.\nRebasing Cuts\n\nA cut can be rebase-d against latest using the following command:\n\n./scripts/execution_layer.py rebase <FEATURE>\n\n\nThis saves all the changes that were made to the cut after it was made, and replays them on a fresh cut from latest. As a precaution, it will not run if the working directory is not clean (because if it goes wrong, it will be harder to recover), but this can be overridden with --force.\n\nMerging Cuts\n\nCuts support a rudimentary form of merge, using patch files:\n\n./scripts/execution_layer.py merge <BASE> <FEATURE>\n\nThe merge command attempts to merge the changes from <FEATURE> onto the cut at <BASE> (It modifies <BASE> and leaves <FEATURE> untouched). Because it operates using patch files, any conflicts result in a failure to apply the patch. This can be resolved in two ways:\n\n(Recommended) If merging into latest, rebase the <FEATURE> first, which will give you an opportunity to resolve all merge conflicts during the rebase, to create a clean patch.\nUse the --dry-run option of merge to output the patch file instead of attempting to apply it, so you can manually modify it (cut it into pieces, fix conflicts) before applying it."
    },
    {
      "title": "sui/sdk at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/tree/main/sdk",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nconsensus\ncrates\ndapps\ndashboards\ndoc\ndocker\ndocs\nexamples\nexternal-crates\nkiosk\nnarwhal\nnre\nscripts\nsdk\nbcs\nbuild-scripts\ncreate-dapp\ndapp-kit\ndeepbook\ndocs\nenoki\ngraphql-transport\nkiosk\nledgerjs-hw-app-sui\nmove-bytecode-template\nsuins-toolkit\ntypescript\nwallet-standard\nzklogin\nzksend\nsui-execution\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui\n/sdk/\nDirectory actions\nMore options\nLatest commit\nsui-merge-bot[bot]\nand\ngithub-actions[bot]\nVersion Packages (#17746)\n44fdff9\n · \nHistory\nHistory\nFolders and files\nName\tLast commit message\tLast commit date\n\nparent directory\n..\n\n\nbcs\n\t\n[docs] fix ts sdk doc error (#17634)\n\t\n\n\nbuild-scripts\n\t\n[TS SDK] Add script to update GraphQL schemas in SDK (#17587)\n\t\n\n\ncreate-dapp\n\t\nVersion Packages (#17746)\n\t\n\n\ndapp-kit\n\t\nVersion Packages (#17746)\n\t\n\n\ndeepbook\n\t\nVersion Packages (#17592)\n\t\n\n\ndocs\n\t\nFix stashed logo (#17744)\n\t\n\n\nenoki\n\t\nVersion Packages (#17592)\n\t\n\n\ngraphql-transport\n\t\nVersion Packages (#17592)\n\t\n\n\nkiosk\n\t\nVersion Packages (#17592)\n\t\n\n\nledgerjs-hw-app-sui\n\t\nVersion Packages (#16157)\n\t\n\n\nmove-bytecode-template\n\t\nFix serialize calls in move-bytecode-template (#17564)\n\t\n\n\nsuins-toolkit\n\t\nVersion Packages (#17592)\n\t\n\n\ntypescript\n\t\nVersion Packages (#17746)\n\t\n\n\nwallet-standard\n\t\nVersion Packages (#17592)\n\t\n\n\nzklogin\n\t\nVersion Packages (#17592)\n\t\n\n\nzksend\n\t\nVersion Packages (#17746)\n\t"
    },
    {
      "title": "[move] Split bytecode's absint into its own crate by tnowacki · Pull Request #17459 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/17459",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\n[move] Split bytecode's absint into its own crate #17459\n Merged\ntnowacki merged 4 commits into MystenLabs:main from tnowacki:vabs \n+606 −57 \n Conversation 9\n Commits 4\n Checks 40\n Files changed 64\nConversation\nContributor\ntnowacki commented \nDescription\nMoved the absint and control_flow_graph modules into their own crate, move-abstract-interpreter\nAdded the crate to the execution cut. The absint module was in the bytecode verifier, so this was already versioned for the existing cuts. However control_flow_graph was in the binary format, so this version cut is new. As a result, I have just made one cut for v2 and used it for v0 and v1. I think this is a bit un-orthodox, but preserves the existing behavior just fine (which is the intention of the execution cuts)\nTest plan\nRan the execution cut script\nRelease notes\n\nCheck each box that your changes affect. If none of the boxes relate to your changes, release notes aren't required.\n\nFor each box you select, include information after the relevant heading that describes the impact of your changes that a user might notice and any actions they must take to implement updates.\n\n Protocol:\n Nodes (Validators and Full nodes):\n Indexer:\n JSON-RPC:\n GraphQL:\n CLI:\n Rust SDK:\n tnowacki requested review from amnn, cgswords, awelc, tzakian and dariorussi \nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nsui-docs\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMay 7, 2024 11:18pm\n3 Ignored Deployments\nSeparate abstract interpreter crate\n78b0671\n vercel bot deployed to Preview – sui-docs \nView deployment\nExecution version cut\n1cd7d59\n tnowacki force-pushed the vabs branch from 163ab02 to 1cd7d59 \nCompare\n vercel bot deployed to Preview – sui-docs \nView deployment\ndariorussi approved these changes \nView reviewed changes\nContributor\ndariorussi left a comment\n\nothers should take a look but overall this is great and the direction we want to go.\nI am less clear of the convenience, if any, of pointing previous versions to v2.\nAlso there are failures you want to fix, obviously\n\namnn approved these changes \nView reviewed changes\nContributor\namnn left a comment\n\nLooks good to me! The trick to re-use v2's version for v0 and v1 is a bit maverick but should work -- generally you can set-up all legacy snapshots however you like, it's just the latest snapshot that needs to be set-up in such a way that you could create a new cut from it (so it has to be uniform).\n\nI spotted a place where we need to add a template string for the new crate, and had a question about whether we needed to tweak dependencies for legacy cuts of sui-verifier but that's it.\n\nsui-execution/Cargo.toml\n\t\t@@ -31,6 +31,8 @@ sui-verifier-v1 = { path = \"v1/sui-verifier\" }\n\t\tsui-verifier-v2 = { path = \"v2/sui-verifier\" }\n\t\t# sui-verifier-$CUT = { path = \"$CUT/sui-verifier\" }\n\t\t\n\n\t\tmove-abstract-interpreter-latest = { path = \"../external-crates/move/crates/move-abstract-interpreter\", package = \"move-abstract-interpreter\" }\nContributor\n amnn \n\nI think you need to put a -$CUT template here for move-abstract-interpreter.\n\nContributor\nAuthor\n tnowacki \n\nGood catch.. A bit strange that nothing broke without it. Maybe just that the APIs don't change in the test?\n\nContributor\n amnn \n\nI suppose if we have no uses of the abstract interpreter from Sui, it won't complain? That might imply that you don't need to add it here at all (until it gets used from the Sui side).\n\nsui-execution/latest/sui-verifier/Cargo.toml\n\t\t@@ -15,6 +15,7 @@ move-core-types.workspace = true\n\t\tmove-vm-config.workspace = true\n\t\tmove-abstract-stack.workspace = true\n\t\t\n\n\t\tmove-abstract-interpreter = { path = \"../../../external-crates/move/crates/move-abstract-interpreter\" }\nContributor\n amnn \n\nI would expect something similar in the legacy cuts, no?\n\nContributor\nAuthor\n tnowacki \n\nOnly the new/latest cuts have this crate. The previous ones have it already through the versioned bytecode verifier\n\n1\nContributor\namnn commented \n\nThe fact that the \"cutting a new execution layer\" job works despite us not having the CUT template for this new crate is interesting though ... maybe I'm missing something and everything's fine with how things are now?\n\nextra cut\na5703f1\n vercel bot deployed to Preview – sui-docs \nView deployment\nxlint\nde8ec81\n vercel bot deployed to Preview – sui-docs \nView deployment\nView details\n tnowacki merged commit 15cb9c7 into MystenLabs:main \n44 checks passed\n tnowacki deleted the vabs branch \nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\namnn\n\ndariorussi\n\ncgswords\n\nawelc\n\ntzakian\n\nAssignees\nNo one assigned\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n3 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "sui/scripts at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/tree/main/scripts",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nconsensus\ncrates\ndapps\ndashboards\ndoc\ndocker\ndocs\nexamples\nexternal-crates\nkiosk\nnarwhal\nnre\nscripts\ncompatibility\nsimtest\nbench_sweep.py\nchanged-files.sh\ncheck-framework-compat.sh\ndependency.py\nexecution_layer.py\ngenerate-release-notes.sh\nlldb_frame_sizes.py\nrelease_notes.py\nrotate_snapshots.py\nupdate_all_snapshots.sh\nupdate_fastcrypto.sh\nupdate_move.sh\nupdate_narwhal.sh\nsdk\nsui-execution\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui\n/scripts/\nDirectory actions\nMore options\nLatest commit\ntnowacki\n[move] Split bytecode's absint into its own crate (#17459)\n15cb9c7\n · \nHistory\nHistory\nFolders and files\nName\tLast commit message\tLast commit date\n\nparent directory\n..\n\n\ncompatibility\n\t\nMaking protocol compatibility script more verbose (#17046)\n\t\n\n\nsimtest\n\t\nDon't re-use seeds by accident when re-running (#17371)\n\t\n\n\nbench_sweep.py\n\t\nx: check license headers on python files\n\t\n\n\nchanged-files.sh\n\t\nchore: update license header to remove year\n\t\n\n\ncheck-framework-compat.sh\n\t\n[move-cli] Update framework branch in sui move new template (#11614)\n\t\n\n\ndependency.py\n\t\n[move] Remove read-write-set analysis (#14469)\n\t\n\n\nexecution_layer.py\n\t\n[move] Split bytecode's absint into its own crate (#17459)\n\t\n\n\ngenerate-release-notes.sh\n\t\nAdding protocol change highlight to release notes script (#13542)\n\t\n\n\nlldb_frame_sizes.py\n\t\nFix typos (#7254)\n\t\n\n\nrelease_notes.py\n\t\n[EASY][Release Notes] Fix regex raw string (#17202)\n\t\n\n\nrotate_snapshots.py\n\t\nFix typo in rotate_snapshots.py\n\t\n\n\nupdate_all_snapshots.sh\n\t\n[GraphQL/E2E] Fix protocol version to 39 (#16755)\n\t\n\n\nupdate_fastcrypto.sh\n\t\nsunset workspace-hack\n\t\n\n\nupdate_move.sh\n\t\nsunset workspace-hack\n\t\n\n\nupdate_narwhal.sh\n\t\nsunset workspace-hack\n\t"
    },
    {
      "title": "sui/nre at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/tree/main/nre",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nconsensus\ncrates\ndapps\ndashboards\ndoc\ndocker\ndocs\nexamples\nexternal-crates\nkiosk\nnarwhal\nnre\nansible\nbpf/nodefw\nconfig\ndashboards\ndocker\nk8s\nsystemd\nREADME.md\ndownload_and_verify_private_binary.sh\ndownload_private.sh\nssfn-diagram.png\nssfn_guide.md\nsui_for_node_operators.md\nvalidator_tool.md\nscripts\nsdk\nsui-execution\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui\n/nre/\nDirectory actions\nMore options\nLatest commit\nmwtian\n[nre] update config template for consensus 2.0 (#17238)\n18209df\n · \nHistory\nHistory\nFolders and files\nName\tLast commit message\tLast commit date\n\nparent directory\n..\n\n\nansible\n\t\n[nre] update config template for consensus 2.0 (#17238)\n\t\n\n\nbpf/nodefw\n\t\n[nodefw/drainer] add a drain flag and file (#17195)\n\t\n\n\nconfig\n\t\n[Narwhal] reduce max header timeout from 2s to 1s (#13668)\n\t\n\n\ndashboards\n\t\nadd sui mainnet validators dashboard json source (#12442)\n\t\n\n\ndocker\n\t\n[nre] update config template for consensus 2.0 (#17238)\n\t\n\n\nk8s\n\t\n[nre] update config template for consensus 2.0 (#17238)\n\t\n\n\nsystemd\n\t\n[nre] update config template for consensus 2.0 (#17238)\n\t\n\n\nREADME.md\n\t\nadd node operator documentation (#9190)\n\t\n\n\ndownload_and_verify_private_binary.sh\n\t\nAdd additional download script for binaries and update readme (#12272)\n\t\n\n\ndownload_private.sh\n\t\nUpdate download_private.sh (#12254)\n\t\n\n\nssfn-diagram.png\n\t\nSSFN setup guide (#16347)\n\t\n\n\nssfn_guide.md\n\t\nSSFN setup guide (#16347)\n\t\n\n\nsui_for_node_operators.md\n\t\n[nre] update config template for consensus 2.0 (#17238)\n\t\n\n\nvalidator_tool.md\n\t\ndoc: Add page for signatures and crypto agility (#11347)\n\t\nREADME.md\nNode and Network Reliability Engineering\n\nThis repo contains:\n\nSui for Node Operators - This documentation aggregates all the information about deploying and operating the Sui Node software for Node Operators.\n\nansible/ - An ansible playbook for standing up your node. Successful execution of the playbook will result in a systemd managed process running sui-node. You can use this or just consult the steps when provisioning your node.\n\nconfig/ - Sui Node configuration templates.\n\ndocker/ - A docker compose configuration for standing up your node. You can use this or just consult the steps when provisioning your node.\n\nsystemd/ - Steps to setup your node as a systemd service. You can use this or reference the steps when provisioning your node."
    },
    {
      "title": "[nre] update config template for consensus 2.0 by mwtian · Pull Request #17238 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/17238",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\n[nre] update config template for consensus 2.0 #17238\n Merged\nmwtian merged 1 commit into main from consensus-ansible \n Conversation 2\n Commits 1\n Checks 46\n Files changed\nConversation\nMember\nmwtian commented \nDescription\n\nIn Consensus 2.0, we are looking into using TCP for communications. So making sure TCP ports are open in the sample configurations. Also update the logging setting.\n\nTest plan\n\nn/a\n\nRelease notes\n\nCheck each box that your changes affect. If none of the boxes relate to your changes, release notes aren't required.\n\nFor each box you select, include information after the relevant heading that describes the impact of your changes that a user might notice and any actions they must take to implement updates.\n\n Protocol:\n Nodes (Validators and Full nodes):\n Indexer:\n JSON-RPC:\n GraphQL:\n CLI:\n Rust SDK:\n[nre] update config template for consensus 2.0\n91ff1e2\n mwtian requested a review from ronny-mysten as a code owner \nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nsui-core\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tApr 18, 2024 10:43pm\n3 Ignored Deployments\n mwtian requested a review from tharbert \n vercel bot deployed to Preview – sui-core \nView deployment\n mwtian requested review from akichidis and arun-koshy \narun-koshy approved these changes \nView reviewed changes\nakichidis approved these changes \nView reviewed changes\nnre/sui_for_node_operators.md\n\t\t| UDP/8081      | inbound/outbound | narwhal primary interface         |\n\t\t| UDP/8082      | inbound/outbound | narwhal worker interface          |\n\t\t| TCP/8083      | localhost        | sui -> narwhal interface          |\nContributor\n akichidis \n\nNice cleanup 👍\n\nView details\n mwtian merged commit 18209df into main \n50 checks passed\n mwtian deleted the consensus-ansible branch \nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\nakichidis\n\narun-koshy\n\nronny-mysten\n\ntharbert\n\nAssignees\nNo one assigned\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n3 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "[nre] update config template for consensus 2.0 (#17238) · MystenLabs/sui@18209df · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/18209df52553646a2665cb51d3c8f8f1ba31ce17",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\n[nre] update config template for consensus 2.0 (#17238)\nBrowse files\n## Description \n\nIn Consensus 2.0, we are looking into using TCP for communications. So\nmaking sure TCP ports are open in the sample configurations. Also update\nthe logging setting.\n\n## Test plan \n\nn/a\n\n---\n\n## Release notes\n\nCheck each box that your changes affect. If none of the boxes relate to\nyour changes, release notes aren't required.\n\nFor each box you select, include information after the relevant heading\nthat describes the impact of your changes that a user might notice and\nany actions they must take to implement updates.\n\n- [ ] Protocol: \n- [ ] Nodes (Validators and Full nodes): \n- [ ] Indexer: \n- [ ] JSON-RPC: \n- [ ] GraphQL: \n- [ ] CLI: \n- [ ] Rust SDK:\n main (#17238)\n testnet-v1.25.0 \n…\n devnet-v1.24.0\nmwtian committed  \nVerified\n1 parent 1e0e192\ncommit 18209df\n \nShowing 6 changed files with 15 additions and 6 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\nnre\nansible/roles/sui-node\nfiles\nsui-node.service\ntasks\niptables.yaml\ndocker\ndocker-compose.yaml\nk8s\nsui-node-statefulset.yaml\nsui_for_node_operators.md\nsystemd\nsui-node.service\n  \n2 changes: 1 addition & 1 deletion\n2  \nnre/ansible/roles/sui-node/files/sui-node.service\n\t@@ -5,7 +5,7 @@ Description=Sui Node\n\t\tUser=sui\n\t\tWorkingDirectory=/opt/sui/\n\t\tEnvironment=RUST_BACKTRACE=1\n\t\tEnvironment=RUST_LOG=info,sui_core=debug,narwhal=debug,narwhal-primary::helper=info,jsonrpsee=error\n\t\tEnvironment=RUST_LOG=info,sui_core=debug,narwhal=debug,consensus=debug,jsonrpsee=error\n\t\tExecStart=/opt/sui/bin/sui-node --config-path /opt/sui/config/validator.yaml\n\t\tRestart=always\n\t\t\n\n\n\t\n  \n8 changes: 8 additions & 0 deletions\n8  \nnre/ansible/roles/sui-node/tasks/iptables.yaml\n\t@@ -46,6 +46,14 @@\n\t\t    protocol: tcp\n\t\t    comment: sui-node protocol\n\t\t\n\n\t\t- name: Allow TCP destination port 8081 / sui-node consensus connectivity\n\t\t  iptables:\n\t\t    chain: INPUT\n\t\t    destination_port: 8081\n\t\t    jump: ACCEPT\n\t\t    protocol: tcp\n\t\t    comment: sui-node consensus\n\t\t\n\n\t\t- name: Allow UDP destination port 8081 / sui-node narwhal-primary-address connectivity\n\t\t  iptables:\n\t\t    chain: INPUT\n\n\t\n  \n3 changes: 2 additions & 1 deletion\n3  \nnre/docker/docker-compose.yaml\n\t@@ -7,11 +7,12 @@ services:\n\t\t    image: mysten/sui-node:${SUI_SHA} # UPDATE HERE\n\t\t    environment:\n\t\t      - RUST_BACKTRACE=1\n\t\t      - RUST_LOG=info,sui_core=debug,narwhal=debug,narwhal-primary::helper=info,jsonrpsee=error\n\t\t      - RUST_LOG=info,sui_core=debug,narwhal=debug,consensus=debug,jsonrpsee=error\n\t\t    labels:\n\t\t      org.label-schema.name: \"validator\"\n\t\t    ports:\n\t\t      - \"8080:8080\"\n\t\t      - \"8081:8081/tcp\"\n\t\t      - \"8081:8081/udp\"\n\t\t      - \"8082:8082/udp\"\n\t\t      - \"8084:8084/udp\"\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \nnre/k8s/sui-node-statefulset.yaml\n\t@@ -59,7 +59,7 @@ spec:\n\t\t        - name: RUST_BACKTRACE\n\t\t          value: \"1\"\n\t\t        - name: RUST_LOG\n\t\t          value: info,sui_core=debug,sui_network=debug,narwhal=info,narwhal-primary::helper=info,jsonrpsee=error\n\t\t          value: info,sui_core=debug,sui_network=debug,narwhal=info,consensus=debug,jsonrpsee=error\n\t\t        image: x\n\t\t        imagePullPolicy: Always\n\t\t        name: sui-node\n\n\t\n  \n4 changes: 2 additions & 2 deletions\n4  \nnre/sui_for_node_operators.md\n\t@@ -75,10 +75,10 @@ Sui Node uses the following ports by default:\n\t\t\n\n\t\t| protocol/port | reachability     | purpose                           |\n\t\t| ------------- | ---------------- | --------------------------------- |\n\t\t| TCP/8080      | inbound          | protocol/transaction interface    |\n\t\t| TCP/8080      | inbound          | protocol / transaction interface  |\n\t\t| TCP/8081      | inbound/outbound | consensus interface               |\n\t\t| UDP/8081      | inbound/outbound | narwhal primary interface         |\n\t\t| UDP/8082      | inbound/outbound | narwhal worker interface          |\n\t\t| TCP/8083      | localhost        | sui -> narwhal interface          |\n\t\t| UDP/8084      | inbound/outbound | peer to peer state sync interface |\n\t\t| TCP/8443      | outbound         | metrics pushing                   |\n\t\t| TCP/9184      | localhost        | metrics scraping                  |\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \nnre/systemd/sui-node.service\n\t@@ -5,7 +5,7 @@ Description=Sui Node\n\t\tUser=sui\n\t\tWorkingDirectory=/opt/sui/\n\t\tEnvironment=RUST_BACKTRACE=1\n\t\tEnvironment=RUST_LOG=info,sui_core=debug,narwhal=debug,narwhal-primary::helper=info,jsonrpsee=error\n\t\tEnvironment=RUST_LOG=info,sui_core=debug,narwhal=debug,consensus=debug,jsonrpsee=error\n\t\tExecStart=/opt/sui/bin/sui-node --config-path /opt/sui/config/validator.yaml\n\t\tRestart=always\n\t\t\n\n\n\t\n0 comments on commit 18209df\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "sui/narwhal at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/tree/main/narwhal",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nconsensus\ncrates\ndapps\ndashboards\ndoc\ndocker\ndocs\nexamples\nexternal-crates\nkiosk\nnarwhal\n.assets\nDocker\nbenchmark\nconfig\ncrypto\nexecutor\nnetwork\nnode\nprimary\nscripts\nstorage\ntest-utils\ntypes\nworker\n.clippy.toml\n.dockerignore\n.gitignore\n.lycheeignore\nCONTRIBUTING.md\nREADME.md\ndeny.toml\nnre\nscripts\nsdk\nsui-execution\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui\n/narwhal/\nDirectory actions\nMore options\nLatest commit\nbmwill\nnarwhal: stop transaction interface binding on 0.0.0.0 when 127.0.0.1…\n66f1b2b\n · \nHistory\nHistory\nFolders and files\nName\tLast commit message\tLast commit date\n\nparent directory\n..\n\n\n.assets\n\t\nRename CertificateWaiter to CertificateFetcher (#6600)\n\t\n\n\nDocker\n\t\n[Consensus] fix docker builds (#15452)\n\t\n\n\nbenchmark\n\t\n[Narwhal] reduce max header timeout from 2s to 1s (#13668)\n\t\n\n\nconfig\n\t\nRemove random beacon implementation from Narwhal (#16649)\n\t\n\n\ncrypto\n\t\nRemove random beacon implementation from Narwhal (#16649)\n\t\n\n\nexecutor\n\t\nRemove end_for_commit (#17427)\n\t\n\n\nnetwork\n\t\nImplement randomness generation in Sui (#16169)\n\t\n\n\nnode\n\t\n[Consensus] support swapping protocols between epochs (#17109)\n\t\n\n\nprimary\n\t\n[Consensus] use tonic in tests and devnet (#17369)\n\t\n\n\nscripts\n\t\nsunset workspace-hack\n\t\n\n\nstorage\n\t\n[Consensus] support swapping protocols between epochs (#17109)\n\t\n\n\ntest-utils\n\t\nRemove random beacon implementation from Narwhal (#16649)\n\t\n\n\ntypes\n\t\nchore: remove repetitive words (#16702)\n\t\n\n\nworker\n\t\nnarwhal: stop transaction interface binding on 0.0.0.0 when 127.0.0.1…\n\t\n\n\n.clippy.toml\n\t\nAdd some metrics for random beacon (#15450)\n\t\n\n\n.dockerignore\n\t\n[docker] define Docker container + docker-compose to spin up a cluster (\n\t\n\n\n.gitignore\n\t\nTest Parameters::import() with snapshot (MystenLabs/narwhal#610)\n\t\n\n\n.lycheeignore\n\t\nchore: add a basic ignore file for the CI link checker\n\t\n\n\nCONTRIBUTING.md\n\t\n[refactor] remove references to Tusk (#12201)\n\t\n\n\nREADME.md\n\t\n[refactor] remove references to Tusk (#12201)\n\t\n\n\ndeny.toml\n\t\nFix typos (#7254)\n\t\nREADME.md\nNarwhal and Consensus\n\nThis directory provides an implementation of Narwhal and partially synchronous Bullshark, a DAG-based mempool and efficient BFT consensus. The codebase has been designed to be small, efficient, and easy to benchmark and modify.\n\nThis directory uses fastcrypto as its cryptography library.\n\nQuick Start\n\nThe core protocols are written in Rust, but all benchmarking scripts are written in Python and run with Fabric. To deploy and benchmark a testbed of four nodes on your local machine, clone the Sui repo and install the python dependencies:\n\n$ git clone https://github.com/mystenlabs/sui.git\n$ cd sui/narwhal/benchmark\n$ pip install -r requirements.txt\n\n\nYou also need to install Clang (required by RocksDB) and tmux (which runs all nodes and clients in the background). Finally, run a local benchmark using Fabric:\n\n$ fab local\n\n\nThis command may take a long time the first time you run it (compiling rust code in release mode may be slow), and you can customize a number of benchmark parameters in fabfile.py. When the benchmark terminates, it displays a summary of the execution similarly to the one below.\n\n-----------------------------------------\n SUMMARY:\n-----------------------------------------\n + CONFIG:\n Faults: 0 node(s)\n Committee size: 4 node(s)\n Worker(s) per node: 1 worker(s)\n Collocate primary and workers: True\n Input rate: 50,000 tx/s\n Transaction size: 512 B\n Execution time: 19 s\n\n Header size: 1,000 B\n Max header delay: 100 ms\n GC depth: 50 round(s)\n Sync retry delay: 10,000 ms\n Sync retry nodes: 3 node(s)\n batch size: 500,000 B\n Max batch delay: 100 ms\n\n + RESULTS:\n Consensus TPS: 46,478 tx/s\n Consensus BPS: 23,796,531 B/s\n Consensus latency: 464 ms\n\n End-to-end TPS: 46,149 tx/s\n End-to-end BPS: 23,628,541 B/s\n End-to-end latency: 557 ms\n-----------------------------------------\n\nNext Steps\n\nThe next step is to read the paper Narwhal and Tusk: A DAG-based Mempool and Efficient BFT Consensus and Bullshark: The Partially Synchronous Version. It is then recommended to have a look at the README files of the worker and primary crates. An additional resource to better understand the Tusk consensus protocol is the paper All You Need is DAG as it describes a similar protocol.\n\nThe README file of the benchmark folder explains how to benchmark the codebase and read benchmarks' results. It also provides a step-by-step tutorial to run benchmarks on Amazon Web Services (AWS) across multiple data centers (WAN)."
    },
    {
      "title": "narwhal: stop transaction interface binding on 0.0.0.0 when 127.0.0.1… · MystenLabs/sui@66f1b2b · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/66f1b2be0f3007e5d4b1c27e5ed63bf7b11970d8",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\nnarwhal: stop transaction interface binding on 0.0.0.0 when 127.0.0.1…\nBrowse files\n… is requested\n\nThis stops binding on 0.0.0.0 for the transactions interface when we've\ninstead requested that we bind on 127.0.0.1. In particular this stops\nthe annoying popup on macos every single time a test is run!\n Loading branch information\nbmwill committed  \n1 parent 37d57d7\ncommit 66f1b2b\nShowing 1 changed file with 5 additions and 2 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\n  \n7 changes: 5 additions & 2 deletions\n7  \nnarwhal/worker/src/worker.rs\n\t@@ -478,8 +478,11 @@ impl Worker {\n\t\t            .expect(\"Our public key or worker id is not in the worker cache\")\n\t\t            .transactions;\n\t\t        let address = address\n\t\t            .replace(0, |_protocol| Some(Protocol::Ip4(Ipv4Addr::UNSPECIFIED)))\n\t\t            .unwrap();\n\t\t            .replace(0, |protocol| match protocol {\n\t\t                Protocol::Ip4(ip) if ip.is_loopback() => None,\n\t\t                _ => Some(Protocol::Ip4(Ipv4Addr::UNSPECIFIED)),\n\t\t            })\n\t\t            .unwrap_or(address);\n\t\t\n\n\t\t        let tx_server_handle = TxServer::spawn(\n\t\t            address.clone(),\n\n\t\n0 comments on commit 66f1b2b\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "[kiosk] Remove kiosk package from sui by damirka · Pull Request #16701 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/16701",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\n[kiosk] Remove kiosk package from sui #16701\n Merged\ndamirka merged 1 commit into main from ds/move-kiosk \n Conversation 1\n Commits 1\n Checks 38\n Files changed\nConversation\nContributor\ndamirka commented \nDescription\n\nDescribe the changes or additions included in this PR.\n\nTest Plan\n\nHow did you test the new or updated feature?\n\nIf your changes are not user-facing and do not break anything, you can skip the following section. Otherwise, please briefly describe what has changed under the Release Notes section.\n\nType of Change (Check all that apply)\n protocol change\n user-visible impact\n breaking change for a client SDKs\n breaking change for FNs (FN binary must upgrade)\n breaking change for validators or node operators (must upgrade binaries)\n breaking change for on-chain data layout\n necessitate either a data wipe or data migration\nRelease notes\nremove kiosk from sui\n4ddf62d\n damirka requested a review from manolisliolios \n damirka self-assigned this \n damirka requested a review from ronny-mysten as a code owner \nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nexplorer\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMar 16, 2024 9:46am\nmultisig-toolkit\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMar 16, 2024 9:46am\nmysten-ui\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMar 16, 2024 9:46am\nsui-core\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMar 16, 2024 9:46am\nsui-kiosk\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMar 16, 2024 9:46am\nsui-typescript-docs\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMar 16, 2024 9:46am\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\n vercel bot deployed to Preview – explorer \nView deployment\n vercel bot deployed to Preview – multisig-toolkit \nView deployment\n vercel bot deployed to Preview – sui-kiosk \nView deployment\n vercel bot deployed to Preview – mysten-ui \nView deployment\n vercel bot deployed to Preview – sui-core \nView deployment\namnn approved these changes \nView reviewed changes\nView details\n damirka merged commit 78d6adc into main \n44 checks passed\n damirka deleted the ds/move-kiosk branch \nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\namnn\n\nmanolisliolios\n\nronny-mysten\n\nAssignees\n\ndamirka\n\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n2 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "sui/kiosk at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/tree/main/kiosk",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nconsensus\ncrates\ndapps\ndashboards\ndoc\ndocker\ndocs\nexamples\nexternal-crates\nkiosk\nREADME.md\nnarwhal\nnre\nscripts\nsdk\nsui-execution\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui\n/kiosk/\nDirectory actions\nMore options\nLatest commit\ndamirka\n[kiosk] Remove kiosk package from sui (#16701)\n78d6adc\n · \nHistory\nHistory\nFolders and files\nName\tLast commit message\tLast commit date\n\nparent directory\n..\n\n\nREADME.md\n\t\n[kiosk] Remove kiosk package from sui (#16701)\n\t\nREADME.md\nKiosk App\n\nThe code has been moved to a separate repository. Please, go to MystenLabs/apps for the source code for Kiosk Package."
    },
    {
      "title": "[kiosk] Remove kiosk package from sui (#16701) · MystenLabs/sui@78d6adc · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/78d6adcbc128efdc348d93fee14c15ee980df7d1",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\n[kiosk] Remove kiosk package from sui (#16701)\nBrowse files\n Loading branch information\ndamirka committed  \nVerified\n1 parent 9e8d0e3\ncommit 78d6adc\n \nShowing 17 changed files with 2 additions and 1,497 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\nkiosk\nMove.toml\nREADME.md\ndocs\ncreating_a_rule_guide.md\nenv.testnet\nexamples\ncollectible.move\ntemplate.move\nunlock.move\nsources\nextensions\npersonal_kiosk.move\nrules\nfloor_price_rule.move\nkiosk_lock_rule.move\npersonal_kiosk_rule.move\nroyalty_rule.move\nwitness_rule.move\ntests\nextensions\npersonal_kiosk_tests.move\nrules\nfloor_price_rule_tests.move\nkiosk_lock_rule_tests.move\nroyalty_rule_tests.move\n \n12 changes: 0 additions & 12 deletions\n12  \nkiosk/Move.toml\nLoad diff\n\nThis file was deleted.\n\n \n15 changes: 2 additions & 13 deletions\n15  \nkiosk/README.md\n\t\t@@ -1,14 +1,3 @@\n\t\t# Kiosk Ecosystem\n\t\t# Kiosk App\n\t\t\n\n\t\tIncludes collection of transfer policies, kiosk extensions and libraries to work with all of them. It is meant to act as a Kiosk Sui Move monorepo with a set release cycle and a very welcoming setting for external contributions.\n\t\t\n\n\t\t> Currently, `published-at` field contains testnet addresses.\n\t\t\n\t\t## Published Envs\n\t\t\n\n\t\tCurrently Sui Testnet is the only supported environment, to access it, import the package directly in your Move.toml:\n\t\t\n\n\t\t```toml\n\t\t[dependencies]\n\t\tKiosk = { git = \"https://github.com/MystenLabs/sui.git\", subdir = \"kiosk\", rev = \"main\" }\n\t\t```\n\t\tThe code has been moved to a separate repository. Please, go to [MystenLabs/apps](https://github.com/MystenLabs/apps) for the source code for Kiosk Package.\n \n228 changes: 0 additions & 228 deletions\n228  \nkiosk/docs/creating_a_rule_guide.md\nLoad diff\n\nThis file was deleted.\n\n \n2 changes: 0 additions & 2 deletions\n2  \nkiosk/env.testnet\nLoad diff\n\nThis file was deleted.\n\n0 comments on commit 78d6adc\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "[cleanup][move] A bit of cleaning in language storage and removing re… · MystenLabs/sui@b8dfe64 · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/b8dfe6423568d531076009659019944fec72f2b2",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\n[cleanup][move] A bit of cleaning in language storage and removing re…\nBrowse files\n…ad-write-set-types since it is no longer used. (#17757)\n\n## Description \n\nRemoves a bunch of unused code on the Move side and removes an unused\ncrate that we no longer need.\n\n## Test plan \n\nMake sure existing tests pass.\n main (#17757)\n sui_v1.26.0_1715807075_rel_notes\ntzakian committed  \nVerified\n1 parent efd50a3\ncommit b8dfe64\n \nShowing 11 changed files with 0 additions and 481 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\nCargo.lock\nCargo.toml\nexternal-crates/move\nCargo.lock\nCargo.toml\ncrates\nmove-cli\nCargo.toml\nmove-core-types/src\nlanguage_storage.rs\nparser.rs\nmove-read-write-set-types\nCargo.toml\nsrc\naccess.rs\nlib.rs\nmove-stackless-bytecode\nCargo.toml\n \n11 changes: 0 additions & 11 deletions\n11  \nCargo.lock\nLoad diff\n\nSome generated files are not rendered by default. Learn more about how customized files appear on GitHub.\n\n  \n1 change: 0 additions & 1 deletion\n1  \nCargo.toml\n\t@@ -42,7 +42,6 @@ exclude = [\n\t\t  \"external-crates/move/crates/move-proc-macros\",\n\t\t  \"external-crates/move/crates/move-prover\",\n\t\t  \"external-crates/move/crates/move-prover-test-utils\",\n\t\t  \"external-crates/move/crates/move-read-write-set-types\",\n\t\t  \"external-crates/move/crates/move-stackless-bytecode\",\n\t\t  \"external-crates/move/crates/move-stackless-bytecode-interpreter\",\n\t\t  \"external-crates/move/crates/move-stdlib\",\n\n\t\n \n11 changes: 0 additions & 11 deletions\n11  \nexternal-crates/move/Cargo.lock\nLoad diff\n\nSome generated files are not rendered by default. Learn more about how customized files appear on GitHub.\n\n  \n1 change: 0 additions & 1 deletion\n1  \nexternal-crates/move/Cargo.toml\n\t@@ -160,7 +160,6 @@ move-package = { path = \"crates/move-package\" }\n\t\tmove-proc-macros = { path = \"crates/move-proc-macros\"}\n\t\tmove-prover = { path = \"crates/move-prover\" }\n\t\tmove-prover-test-utils = { path = \"crates/move-prover-test-utils\" }\n\t\tmove-read-write-set-types = { path = \"crates/move-read-write-set-types\" }\n\t\tmove-stackless-bytecode = { path = \"crates/move-stackless-bytecode\" }\n\t\tmove-stackless-bytecode-interpreter = { path = \"crates/move-stackless-bytecode-interpreter\" }\n\t\tmove-stdlib = { path = \"crates/move-stdlib\" }\n\n\t\n  \n1 change: 0 additions & 1 deletion\n1  \nexternal-crates/move/crates/move-cli/Cargo.toml\n\t@@ -37,7 +37,6 @@ move-vm-types.workspace = true\n\t\tmove-vm-runtime.workspace = true\n\t\tmove-vm-profiler.workspace = true\n\t\tmove-vm-test-utils.workspace = true\n\t\tmove-read-write-set-types.workspace = true\n\t\tmove-binary-format.workspace = true\n\t\tmove-package.workspace = true\n\t\tmove-prover.workspace = true\n\n\t\n  \n30 changes: 0 additions & 30 deletions\n30  \nexternal-crates/move/crates/move-core-types/src/language_storage.rs\n\t@@ -249,30 +249,6 @@ impl FromStr for StructTag {\n\t\t    }\n\t\t}\n\t\t\n\n\t\t/// Represents the initial key into global storage where we first index by the address, and then\n\t\t/// the struct tag\n\t\t#[derive(Serialize, Deserialize, Debug, PartialEq, Hash, Eq, Clone, PartialOrd, Ord)]\n\t\tpub struct ResourceKey {\n\t\t    pub address: AccountAddress,\n\t\t    pub type_: StructTag,\n\t\t}\n\t\t\n\n\t\timpl ResourceKey {\n\t\t    pub fn address(&self) -> AccountAddress {\n\t\t        self.address\n\t\t    }\n\t\t\n\n\t\t    pub fn type_(&self) -> &StructTag {\n\t\t        &self.type_\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl ResourceKey {\n\t\t    pub fn new(address: AccountAddress, type_: StructTag) -> Self {\n\t\t        ResourceKey { address, type_ }\n\t\t    }\n\t\t}\n\t\t\n\n\t\t/// Represents the initial key into global storage where we first index by the address, and then\n\t\t/// the struct tag\n\t\t#[derive(Serialize, Deserialize, Debug, PartialEq, Hash, Eq, Clone, PartialOrd, Ord)]\n\n\t@@ -389,12 +365,6 @@ impl Display for TypeTag {\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl Display for ResourceKey {\n\t\t    fn fmt(&self, f: &mut Formatter) -> std::fmt::Result {\n\t\t        write!(f, \"0x{}/{}\", self.address.short_str_lossless(), self.type_)\n\t\t    }\n\t\t}\n\t\t\n\n\t\timpl From<StructTag> for TypeTag {\n\t\t    fn from(t: StructTag) -> TypeTag {\n\t\t        TypeTag::Struct(Box::new(t))\n\n\t\n  \n29 changes: 0 additions & 29 deletions\n29  \nexternal-crates/move/crates/move-core-types/src/parser.rs\n\t@@ -283,13 +283,6 @@ impl<I: Iterator<Item = Token>> Parser<I> {\n\t\t        Ok(v)\n\t\t    }\n\t\t\n\n\t\t    fn parse_string(&mut self) -> Result<String> {\n\t\t        Ok(match self.next()? {\n\t\t            Token::Name(s) => s,\n\t\t            tok => bail!(\"unexpected token {:?}, expected string\", tok),\n\t\t        })\n\t\t    }\n\t\t\n\n\t\t    fn parse_type_tag(&mut self) -> Result<TypeTag> {\n\t\t        Ok(match self.next()? {\n\t\t            Token::U8Type => TypeTag::U8,\n\n\t@@ -366,32 +359,10 @@ where\n\t\t    Ok(res)\n\t\t}\n\t\t\n\n\t\tpub fn parse_string_list(s: &str) -> Result<Vec<String>> {\n\t\t    parse(s, |parser| {\n\t\t        parser.parse_comma_list(|parser| parser.parse_string(), Token::EOF, true)\n\t\t    })\n\t\t}\n\t\t\n\n\t\tpub fn parse_type_tags(s: &str) -> Result<Vec<TypeTag>> {\n\t\t    parse(s, |parser| {\n\t\t        parser.parse_comma_list(|parser| parser.parse_type_tag(), Token::EOF, true)\n\t\t    })\n\t\t}\n\t\t\n\n\t\tpub fn parse_type_tag(s: &str) -> Result<TypeTag> {\n\t\t    parse(s, |parser| parser.parse_type_tag())\n\t\t}\n\t\t\n\n\t\tpub fn parse_transaction_arguments(s: &str) -> Result<Vec<TransactionArgument>> {\n\t\t    parse(s, |parser| {\n\t\t        parser.parse_comma_list(\n\t\t            |parser| parser.parse_transaction_argument(),\n\t\t            Token::EOF,\n\t\t            true,\n\t\t        )\n\t\t    })\n\t\t}\n\t\t\n\n\t\tpub fn parse_transaction_argument(s: &str) -> Result<TransactionArgument> {\n\t\t    parse(s, |parser| parser.parse_transaction_argument())\n\t\t}\n\n\t\n \n15 changes: 0 additions & 15 deletions\n15  \nexternal-crates/move/crates/move-read-write-set-types/Cargo.toml\nLoad diff\n\nThis file was deleted.\n\n \n46 changes: 0 additions & 46 deletions\n46  \nexternal-crates/move/crates/move-read-write-set-types/src/access.rs\nLoad diff\n\nThis file was deleted.\n\n \n335 changes: 0 additions & 335 deletions\n335  \nexternal-crates/move/crates/move-read-write-set-types/src/lib.rs\nLoad diff\n\nThis file was deleted.\n\n  \n1 change: 0 additions & 1 deletion\n1  \nexternal-crates/move/crates/move-stackless-bytecode/Cargo.toml\n\t@@ -14,7 +14,6 @@ move-model.workspace = true\n\t\tmove-binary-format.workspace = true\n\t\tmove-core-types.workspace = true\n\t\tmove-command-line-common.workspace = true\n\t\tmove-read-write-set-types.workspace = true\n\t\tmove-compiler.workspace = true\n\t\t\n\n\t\tcodespan.workspace = true\n\n\t\n0 comments on commit b8dfe64\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "sui/external-crates at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/tree/main/external-crates",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nconsensus\ncrates\ndapps\ndashboards\ndoc\ndocker\ndocs\nexamples\nexternal-crates\nmove\ntests.sh\nkiosk\nnarwhal\nnre\nscripts\nsdk\nsui-execution\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui\n/external-crates/\nDirectory actions\nMore options\nLatest commit\ntzakian\n[cleanup][move] A bit of cleaning in language storage and removing re…\nb8dfe64\n · \nHistory\nHistory\nFolders and files\nName\tLast commit message\tLast commit date\n\nparent directory\n..\n\n\nmove\n\t\n[cleanup][move] A bit of cleaning in language storage and removing re…\n\t\n\n\ntests.sh\n\t\n[move] Remove read-write-set analysis (#14469)\n\t"
    },
    {
      "title": "Update Move examples of EC operations by benr-ml · Pull Request #17635 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/17635",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\nUpdate Move examples of EC operations #17635\n Merged\nbenr-ml merged 2 commits into main from ben/move_ec \n+518 −0 \n Conversation 5\n Commits 2\n Checks 47\n Files changed 8\nConversation\nContributor\nbenr-ml commented  • \nedited \nDescription\n\nUpdated the examples from sui_programmability/examples/crypto/sources/ec_ops.move.\n\nTest plan\n\nHow did you test the new or updated feature?\n\nRelease notes\n\nCheck each box that your changes affect. If none of the boxes relate to your changes, release notes aren't required.\n\nFor each box you select, include information after the relevant heading that describes the impact of your changes that a user might notice and any actions they must take to implement updates.\n\n Protocol:\n Nodes (Validators and Full nodes):\n Indexer:\n JSON-RPC:\n GraphQL:\n CLI:\n Rust SDK:\nMove examples of EC operations\n8582357\nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nsui-docs\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMay 15, 2024 5:17am\n3 Ignored Deployments\n vercel bot deployed to Preview – sui-docs \nView deployment\n benr-ml requested a review from amnn \namnn approved these changes \nView reviewed changes\nContributor\namnn left a comment\n\nThank you!\n\nexamples/move/crypto/elgamal/sources/example.move\nShow resolved\nexamples/move/crypto/ibe/sources/example.move\nOutdated\nShow resolved\nlengths\nc45e65e\n vercel bot deployed to Preview – sui-docs \nView deployment\nView details\n benr-ml merged commit 4da91c4 into main \n51 checks passed\n benr-ml deleted the ben/move_ec branch \nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\namnn\n\nAssignees\nNo one assigned\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n2 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Update Move examples of EC operations (#17635) · MystenLabs/sui@4da91c4 · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/4da91c410993b7bc86e0d389b395182e28315ded",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\nUpdate Move examples of EC operations (#17635)\nBrowse files\n## Description \n\nUpdated the examples from\n`sui_programmability/examples/crypto/sources/ec_ops.move`.\n\n## Test plan \n\nHow did you test the new or updated feature?\n\n---\n\n## Release notes\n\nCheck each box that your changes affect. If none of the boxes relate to\nyour changes, release notes aren't required.\n\nFor each box you select, include information after the relevant heading\nthat describes the impact of your changes that a user might notice and\nany actions they must take to implement updates.\n\n- [ ] Protocol: \n- [ ] Nodes (Validators and Full nodes): \n- [ ] Indexer: \n- [ ] JSON-RPC: \n- [ ] GraphQL: \n- [ ] CLI: \n- [ ] Rust SDK:\n main (#17635)\n sui_v1.26.0_1715807075_rel_notes \n…\n sui_v1.26.0_1715753097_rel_notes\nbenr-ml committed  \nVerified\n1 parent 764ab3f\ncommit 4da91c4\n \nShowing 8 changed files with 518 additions and 0 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\nexamples/move/crypto\nbls_signature\nMove.toml\nsources\nexample.move\nelgamal\nMove.toml\nsources\nexample.move\ntests\nexample_tests.move\nibe\nMove.toml\nsources\nexample.move\ntests\nexample_tests.move\n \n10 changes: 10 additions & 0 deletions\n10  \nexamples/move/crypto/bls_signature/Move.toml\n\t\t@@ -0,0 +1,10 @@\n\t\t[package]\n\t\tname = \"bls_signature\"\n\t\tversion = \"0.0.1\"\n\t\tedition = \"2024.beta\"\n\t\t\n\n\t\t[dependencies]\n\t\tSui = { local = \"../../../../crates/sui-framework/packages/sui-framework\" }\n\t\t\n\n\t\t[addresses]\n\t\tbls_signature = \"0x0\"\n \n60 changes: 60 additions & 0 deletions\n60  \nexamples/move/crypto/bls_signature/sources/example.move\n\t\t@@ -0,0 +1,60 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\t/// Examples of BLS siganture related operations.\n\t\tmodule bls_signature::example {\n\t\t    use sui::bls12381;\n\t\t    use std::hash::sha2_256;\n\t\t    use sui::bcs;\n\t\t\n\n\t\t    /// Verification of a BLS signature using EC operations (implements bls12381::bls12381_min_sig_verify in Move).\n\t\t    public fun bls_min_sig_verify(msg: &vector<u8>, pk: &vector<u8>, sig: &vector<u8>): bool {\n\t\t        let pk = bls12381::g2_from_bytes(pk);\n\t\t        let sig = bls12381::g1_from_bytes(sig);\n\t\t        let hashed_msg = bls12381::hash_to_g1(msg);\n\t\t        let lhs = bls12381::pairing(&hashed_msg, &pk);\n\t\t        let rhs = bls12381::pairing(&sig, &bls12381::g2_generator());\n\t\t        lhs.equal(&rhs)\n\t\t    }\n\t\t\n\n\t\t    #[test]\n\t\t    fun test_bls_min_sig_verify() {\n\t\t        let msg = x\"0101010101\";\n\t\t        let pk = x\"8df101606f91f3cad7f54b8aff0f0f64c41c482d9b9f9fe81d2b607bc5f611bdfa8017cf04b47b44b222c356ef555fbd11058c52c077f5a7ec6a15ccfd639fdc9bd47d005a111dd6cdb8c02fe49608df55a3c9822986ad0b86bdea3abfdfe464\";\n\t\t        let sig = x\"908e345f2e2803cd941ae88c218c96194233c9053fa1bca52124787d3cca141c36429d7652435a820c72992d5eee6317\";\n\t\t        assert!(bls_min_sig_verify(&msg, &pk, &sig), 0);\n\t\t    }\n\t\t\n\n\t\t    ////////////////////////////////\n\t\t    /// Using drand in Move\n\t\t\n\n\t\t    /// The public key of chain 52db9ba70e0cc0f6eaf7803dd07447a1f5477735fd3f661792ba94600c84e971.\n\t\t    const DRAND_PK: vector<u8> =\n\t\t        x\"83cf0f2896adee7eb8b5f01fcad3912212c437e0073e911fb90022d3e760183c8c4b450b6a0a6c3ac6a5776a2d1064510d1fec758c921cc22b0e17e63aaf4bcb5ed66304de9cf809bd274ca73bab4af5a6e9c76a4bc09e76eae8991ef5ece45a\";\n\t\t\n\n\t\t    /// Check a drand output.\n\t\t    public fun verify_drand_signature(sig: vector<u8>, round: u64): bool {\n\t\t        // Convert round to a byte array in big-endian order.\n\t\t        let mut round_bytes = bcs::to_bytes(&round);\n\t\t        round_bytes.reverse();\n\t\t        // Compute sha256(prev_sig, round_bytes).\n\t\t        let digest = sha2_256(round_bytes);\n\t\t        // Verify the signature on the hash.\n\t\t        let drand_pk = DRAND_PK;\n\t\t        bls12381::bls12381_min_sig_verify(&sig, &drand_pk, &digest)\n\t\t    }\n\t\t\n\n\t\t    /// Derive a uniform vector from a drand signature.\n\t\t    public fun derive_randomness(drand_sig: vector<u8>): vector<u8> {\n\t\t        sha2_256(drand_sig)\n\t\t    }\n\t\t\n\n\t\t    #[test]\n\t\t    fun test_drand_input() {\n\t\t        // curl https://drand.cloudflare.com/52db9ba70e0cc0f6eaf7803dd07447a1f5477735fd3f661792ba94600c84e971/public/10\n\t\t        let round = 10;\n\t\t        let sig = x\"ac415e508c484053efed1c6c330e3ae0bf20185b66ed088864dac1ff7d6f927610824986390d3239dac4dd73e6f865f5\";\n\t\t        assert!(verify_drand_signature(sig, round), 0);\n\t\t        let _ = derive_randomness(sig);\n\t\t    }\n\t\t}\n \n10 changes: 10 additions & 0 deletions\n10  \nexamples/move/crypto/elgamal/Move.toml\n\t\t@@ -0,0 +1,10 @@\n\t\t[package]\n\t\tname = \"elgamal\"\n\t\tversion = \"0.0.1\"\n\t\tedition = \"2024.beta\"\n\t\t\n\n\t\t[dependencies]\n\t\tSui = { local = \"../../../../crates/sui-framework/packages/sui-framework\" }\n\t\t\n\n\t\t[addresses]\n\t\telgamal = \"0x0\"\n \n133 changes: 133 additions & 0 deletions\n133  \nexamples/move/crypto/elgamal/sources/example.move\n\t\t@@ -0,0 +1,133 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\t/// Example of proving plaintext equivalence of two ElGamal ciphertexts.\n\t\tmodule elgamal::example {\n\t\t    use sui::bls12381::{Self, Scalar, G1};\n\t\t    use sui::hash::blake2b256;\n\t\t    use sui::group_ops::{bytes, equal, Element};\n\t\t\n\n\t\t    /// An encryption of group element m under pk is (r*G, r*pk + m) for random r.\n\t\t    public struct ElGamalEncryption has drop, store {\n\t\t        ephemeral: Element<G1>,\n\t\t        ciphertext: Element<G1>,\n\t\t    }\n\t\t\n\n\t\t    public fun elgamal_decrypt(sk: &Element<Scalar>, enc: &ElGamalEncryption): Element<G1> {\n\t\t        let pk_r = bls12381::g1_mul(sk, &enc.ephemeral);\n\t\t        bls12381::g1_sub(&enc.ciphertext, &pk_r)\n\t\t    }\n\t\t\n\n\t\t    /// Basic sigma protocol for proving equality of two ElGamal encryptions.\n\t\t    // See https://crypto.stackexchange.com/questions/30010/is-there-a-way-to-prove-equality-of-plaintext-that-was-encrypted-using-different\n\t\t    public struct EqualityProof has drop, store {\n\t\t        a1: Element<G1>,\n\t\t        a2: Element<G1>,\n\t\t        a3: Element<G1>,\n\t\t        z1: Element<Scalar>,\n\t\t        z2: Element<Scalar>,\n\t\t    }\n\t\t\n\n\t\t    fun fiat_shamir_challenge(\n\t\t        pk1: &Element<G1>,\n\t\t        pk2: &Element<G1>,\n\t\t        enc1: &ElGamalEncryption,\n\t\t        enc2: &ElGamalEncryption,\n\t\t        a1: &Element<G1>,\n\t\t        a2: &Element<G1>,\n\t\t        a3: &Element<G1>,\n\t\t    ): Element<Scalar> {\n\t\t        let mut to_hash = vector::empty<u8>();\n\t\t        to_hash.append(*bytes(pk1));\n\t\t        to_hash.append(*bytes(pk2));\n\t\t        to_hash.append(*bytes(&enc1.ephemeral));\n\t\t        to_hash.append(*bytes(&enc1.ciphertext));\n\t\t        to_hash.append(*bytes(&enc2.ephemeral));\n\t\t        to_hash.append(*bytes(&enc2.ciphertext));\n\t\t        to_hash.append(*bytes(a1));\n\t\t        to_hash.append(*bytes(a2));\n\t\t        to_hash.append(*bytes(a3));\n\t\t        let mut hash = blake2b256(&to_hash);\n\t\t        // Make sure we are in the right field. Note that for security we only need the lower 128 bits.\n\t\t        *vector::borrow_mut(&mut hash, 0) = 0;\n\t\t        bls12381::scalar_from_bytes(&hash)\n\t\t    }\n\t\t\n\n\t\t    public fun equility_verify(\n\t\t        pk1: &Element<G1>,\n\t\t        pk2: &Element<G1>,\n\t\t        enc1: &ElGamalEncryption,\n\t\t        enc2: &ElGamalEncryption,\n\t\t        proof: &EqualityProof\n\t\t    ): bool {\n\t\t        let c = fiat_shamir_challenge(pk1, pk2, enc1, enc2, &proof.a1, &proof.a2, &proof.a3);\n\t\t        // Check if z1*G = a1 + c*pk1\n\t\t        let lhs = bls12381::g1_mul(&proof.z1, &bls12381::g1_generator());\n\t\t        let pk1_c = bls12381::g1_mul(&c, pk1);\n\t\t        let rhs = bls12381::g1_add(&proof.a1, &pk1_c);\n\t\t        if (!equal(&lhs, &rhs)) {\n\t\t            return false\n\t\t        };\n\t\t        // Check if z2*G = a2 + c*eph2\n\t\t        let lhs = bls12381::g1_mul(&proof.z2, &bls12381::g1_generator());\n\t\t        let eph2_c = bls12381::g1_mul(&c, &enc2.ephemeral);\n\t\t        let rhs = bls12381::g1_add(&proof.a2, &eph2_c);\n\t\t        if (!equal(&lhs, &rhs)) {\n\t\t            return false\n\t\t        };\n\t\t        // Check if a3 = c*(ct2 - ct1) + z1*eph1 - z2*pk2\n\t\t        let scalars = vector[c, bls12381::scalar_neg(&c), proof.z1, bls12381::scalar_neg(&proof.z2)];\n\t\t        let points = vector[enc2.ciphertext, enc1.ciphertext, enc1.ephemeral, *pk2];\n\t\t        let lhs = bls12381::g1_multi_scalar_multiplication(&scalars, &points);\n\t\t        if (!equal(&lhs, &proof.a3)) {\n\t\t            return false\n\t\t        };\n\t\t        return true\n\t\t    }\n\t\t\n\n\t\t    // The following is insecure since the nonce is small, but in practice it should be a random scalar.\n\t\t    #[test_only]\n\t\t    public fun insecure_elgamal_encrypt(\n\t\t        pk: &Element<G1>,\n\t\t        r: u64,\n\t\t        m: &Element<G1>\n\t\t    ): ElGamalEncryption {\n\t\t        let r = bls12381::scalar_from_u64(r);\n\t\t        let ephemeral = bls12381::g1_mul(&r, &bls12381::g1_generator());\n\t\t        let pk_r  = bls12381::g1_mul(&r, pk);\n\t\t        let ciphertext = bls12381::g1_add(m, &pk_r);\n\t\t        ElGamalEncryption { ephemeral, ciphertext }\n\t\t    }\n\t\t\n\n\t\t    // The following is insecure since the nonces are small, but in practice they should be random scalars.\n\t\t    #[test_only]\n\t\t    public fun insecure_equility_prove(\n\t\t        pk1: &Element<G1>,\n\t\t        pk2: &Element<G1>,\n\t\t        enc1: &ElGamalEncryption,\n\t\t        enc2: &ElGamalEncryption,\n\t\t        sk1: &Element<Scalar>,\n\t\t        r1: u64,\n\t\t        r2: u64,\n\t\t    ): EqualityProof {\n\t\t        let b1 = bls12381::scalar_from_u64(r1);\n\t\t        let b2 = bls12381::scalar_from_u64(r1 + 1);\n\t\t        let r2 = bls12381::scalar_from_u64(r2);\n\t\t\n\n\t\t        // a1 = b1*G (for proving knowledge of sk1)\n\t\t        let a1 = bls12381::g1_mul(&b1, &bls12381::g1_generator());\n\t\t        // a2 = b2*g (for proving knowledge of r2)\n\t\t        let a2 = bls12381::g1_mul(&b2, &bls12381::g1_generator());\n\t\t        let scalars = vector[b1, bls12381::scalar_neg(&b2)];\n\t\t        let points = vector[enc1.ephemeral, *pk2];\n\t\t        let a3 = bls12381::g1_multi_scalar_multiplication(&scalars, &points);\n\t\t        // RO challenge\n\t\t        let c = fiat_shamir_challenge(pk1, pk2, enc1, enc2, &a1, &a2, &a3);\n\t\t        // z1 = b1 + c*sk1\n\t\t        let z1 = bls12381::scalar_add(&bls12381::scalar_mul(&c, sk1), &b1);\n\t\t        // z2 = b2 + c*r2\n\t\t        let z2 = bls12381::scalar_add(&bls12381::scalar_mul(&c, &r2), &b2);\n\t\t\n\n\t\t        EqualityProof { a1, a2, a3, z1, z2 }\n\t\t    }\n\t\t}\n \n51 changes: 51 additions & 0 deletions\n51  \nexamples/move/crypto/elgamal/tests/example_tests.move\n\t\t@@ -0,0 +1,51 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\t#[test_only]\n\t\tmodule elgamal::tests {\n\t\t    use sui::bls12381::{Self, Scalar, G1};\n\t\t    use sui::group_ops::Element;\n\t\t    use sui::random;\n\t\t\n\n\t\t    use elgamal::example;\n\t\t\n\n\t\t    use sui::test_utils::assert_eq;\n\t\t\n\n\t\t    #[test]\n\t\t    fun test_elgamal_equality() {\n\t\t        let mut gen = random::new_generator_for_testing();\n\t\t\n\n\t\t        // We have two parties.\n\t\t        let (sk1, pk1) = insecure_elgamal_key_gen(gen.generate_u64());\n\t\t        let (_, pk2) = insecure_elgamal_key_gen(gen.generate_u64());\n\t\t\n\n\t\t        // A sender wishes to send an encrypted message to pk1.\n\t\t        let m = bls12381::g1_mul(&bls12381::scalar_from_u64(gen.generate_u64()), &bls12381::g1_generator());\n\t\t        let enc1 = example::insecure_elgamal_encrypt(&pk1, gen.generate_u64(), &m);\n\t\t\n\n\t\t        // The first party decrypts the message.\n\t\t        let m1 = example::elgamal_decrypt(&sk1, &enc1);\n\t\t        assert_eq(m, m1);\n\t\t\n\n\t\t        // Now, the first party wishes to send an encrypted message to pk2.\n\t\t        let r2 = gen.generate_u64();\n\t\t        let enc2 = example::insecure_elgamal_encrypt(&pk2, r2, &m);\n\t\t        // And to prove equality of the two encrypted messages.\n\t\t        let proof = example::insecure_equility_prove(&pk1, &pk2, &enc1, &enc2, &sk1, gen.generate_u64(), r2);\n\t\t\n\n\t\t        // Anyone can verify it.\n\t\t        assert!(example::equility_verify(&pk1, &pk2, &enc1, &enc2, &proof), 0);\n\t\t\n\n\t\t        // Proving with an invalid witness should result in a failed verification.\n\t\t        let bad_r2 = r2 + 1;\n\t\t        let proof = example::insecure_equility_prove(&pk1, &pk2, &enc1, &enc2, &sk1, gen.generate_u64(), bad_r2);\n\t\t        assert!(!example::equility_verify(&pk1, &pk2, &enc1, &enc2, &proof), 0);\n\t\t    }\n\t\t\n\n\t\t    // The following is insecure since the secret key is small, but in practice it should be a random scalar.\n\t\t    fun insecure_elgamal_key_gen(sk: u64): (Element<Scalar>, Element<G1>) {\n\t\t        let sk = bls12381::scalar_from_u64(sk);\n\t\t        let pk = bls12381::g1_mul(&sk, &bls12381::g1_generator());\n\t\t        (sk, pk)\n\t\t    }\n\t\t}\n \n10 changes: 10 additions & 0 deletions\n10  \nexamples/move/crypto/ibe/Move.toml\n\t\t@@ -0,0 +1,10 @@\n\t\t[package]\n\t\tname = \"ibe\"\n\t\tversion = \"0.0.1\"\n\t\tedition = \"2024.beta\"\n\t\t\n\n\t\t[dependencies]\n\t\tSui = { local = \"../../../../crates/sui-framework/packages/sui-framework\" }\n\t\t\n\n\t\t[addresses]\n\t\tibe = \"0x0\"\n \n179 changes: 179 additions & 0 deletions\n179  \nexamples/move/crypto/ibe/sources/example.move\n\t\t@@ -0,0 +1,179 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\t/// Example of using tlock or IBE decryption in Move.\n\t\tmodule ibe::example {\n\t\t    use sui::bls12381::{Self, G1, G2};\n\t\t    use sui::hash::blake2b256;\n\t\t    use sui::group_ops::{bytes, equal, Element};\n\t\t\n\n\t\t    const EInvalidLength: u64 = 1;\n\t\t\n\n\t\t    /// An encryption of 32 bytes message following https://eprint.iacr.org/2023/189.pdf.\n\t\t    public struct IbeEncryption has store, drop, copy {\n\t\t        u: Element<G2>,\n\t\t        v: vector<u8>,\n\t\t        w: vector<u8>,\n\t\t    }\n\t\t\n\n\t\t    public fun from_bytes(bytes: vector<u8>): IbeEncryption {\n\t\t        let mut buffer = vector::empty();\n\t\t        let mut i = 0;\n\t\t        while (i < 96) {\n\t\t            buffer.push_back(bytes[i]);\n\t\t            i = i + 1;\n\t\t        };\n\t\t        let u = bls12381::g2_from_bytes(&buffer);\n\t\t\n\n\t\t        let mut v = vector::empty();\n\t\t        while (i < 96 + 32) {\n\t\t            v.push_back(bytes[i]);\n\t\t            i = i + 1;\n\t\t        };\n\t\t\n\n\t\t        let mut w = vector::empty();\n\t\t        while (i < 96 + 32 + 32) {\n\t\t            w.push_back(bytes[i]);\n\t\t            i = i + 1;\n\t\t        };\n\t\t\n\n\t\t        IbeEncryption { u, v, w }\n\t\t    }\n\t\t\n\n\t\t    #[test_only]\n\t\t    /// Encrypt a message 'm' for 'target'. Follows the algorithms of https://eprint.iacr.org/2023/189.pdf.\n\t\t    /// Note that the algorithms in that paper use G2 for signatures, where the drand chain uses G1, thus\n\t\t    /// the operations below are slightly different.\n\t\t    public fun insecure_ibe_encrypt(pk: &Element<G2>, target: &vector<u8>, m: &vector<u8>, sigma: &vector<u8>): IbeEncryption {\n\t\t        assert!(sigma.length() == 32, 0);\n\t\t        // pk_rho = e(H1(target), pk)\n\t\t        let target_hash = bls12381::hash_to_g1(target);\n\t\t        let pk_rho = bls12381::pairing(&target_hash, pk);\n\t\t\n\n\t\t        // r = H3(sigma | m) as a scalar\n\t\t        assert!(m.length() == sigma.length(), 0);\n\t\t        let mut to_hash = b\"HASH3 - \";\n\t\t        to_hash.append(*sigma);\n\t\t        to_hash.append(*m);\n\t\t        let r = modulo_order(&blake2b256(&to_hash));\n\t\t        let r = bls12381::scalar_from_bytes(&r);\n\t\t\n\n\t\t        // U = r*g2\n\t\t        let u = bls12381::g2_mul(&r, &bls12381::g2_generator());\n\t\t\n\n\t\t        // V = sigma xor H2(pk_rho^r)\n\t\t        let pk_rho_r = bls12381::gt_mul(&r, &pk_rho);\n\t\t        let mut to_hash = b\"HASH2 - \";\n\t\t        to_hash.append(*bytes(&pk_rho_r));\n\t\t        let hash_pk_rho_r = blake2b256(&to_hash);\n\t\t        let mut v = vector::empty();\n\t\t        let mut i = 0;\n\t\t        while (i < sigma.length()) {\n\t\t            v.push_back(sigma[i] ^ hash_pk_rho_r[i]);\n\t\t            i = i + 1;\n\t\t        };\n\t\t\n\n\t\t        // W = m xor H4(sigma)\n\t\t        let mut to_hash = b\"HASH4 - \";\n\t\t        to_hash.append(*sigma);\n\t\t        let hash = blake2b256(&to_hash);\n\t\t        let mut w = vector::empty();\n\t\t        let mut i = 0;\n\t\t        while (i < m.length()) {\n\t\t            w.push_back(m[i] ^ hash[i]);\n\t\t            i = i + 1;\n\t\t        };\n\t\t\n\n\t\t        IbeEncryption { u, v, w }\n\t\t    }\n\t\t\n\n\t\t    /// Decrypt an IBE encryption using a 'target_key'.\n\t\t    public fun ibe_decrypt(enc: IbeEncryption, target_key: &Element<G1>): Option<vector<u8>> {\n\t\t        // sigma_prime = V xor H2(e(target_key, u))\n\t\t        let e = bls12381::pairing(target_key, &enc.u);\n\t\t        let mut to_hash = b\"HASH2 - \";\n\t\t        to_hash.append(*bytes(&e));\n\t\t        let hash = blake2b256(&to_hash);\n\t\t        let mut sigma_prime = vector::empty();\n\t\t        let mut i = 0;\n\t\t        while (i < enc.v.length()) {\n\t\t            sigma_prime.push_back(hash[i] ^ enc.v[i]);\n\t\t            i = i + 1;\n\t\t        };\n\t\t\n\n\t\t        // m_prime = W xor H4(sigma_prime)\n\t\t        let mut to_hash = b\"HASH4 - \";\n\t\t        to_hash.append(sigma_prime);\n\t\t        let hash = blake2b256(&to_hash);\n\t\t        let mut m_prime = vector::empty();\n\t\t        let mut i = 0;\n\t\t        while (i < enc.w.length()) {\n\t\t            m_prime.push_back(hash[i] ^ enc.w[i]);\n\t\t            i = i + 1;\n\t\t        };\n\t\t\n\n\t\t        // r = H3(sigma_prime | m_prime) as a scalar (the paper has a typo)\n\t\t        let mut to_hash = b\"HASH3 - \";\n\t\t        to_hash.append(sigma_prime);\n\t\t        to_hash.append(m_prime);\n\t\t        // If the encryption is generated correctly, this should always be a valid scalar (before the modulo).\n\t\t        // However since in the tests we create it insecurely, we make sure it is in the right range.\n\t\t        let r = modulo_order(&blake2b256(&to_hash));\n\t\t        let r = bls12381::scalar_from_bytes(&r);\n\t\t\n\n\t\t        // U ?= r*g2\n\t\t        let g2r = bls12381::g2_mul(&r, &bls12381::g2_generator());\n\t\t        if (equal(&enc.u, &g2r)) {\n\t\t            option::some(m_prime)\n\t\t        } else {\n\t\t            option::none()\n\t\t        }\n\t\t    }\n\t\t\n\n\t\t    ///////////////////////////////////////////////////////////////////////////////////\n\t\t    ////// Helper functions for converting 32 byte vectors to BLS12-381's order  //////\n\t\t\n\n\t\t    /// Returns x-ORDER if x >= ORDER, otherwise none.\n\t\t    public(package) fun try_substract(x: &vector<u8>): Option<vector<u8>> {\n\t\t        assert!(x.length() == 32, EInvalidLength);\n\t\t        let order = x\"73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001\";\n\t\t        let mut c = vector::empty();\n\t\t        let mut i = 0;\n\t\t        let mut carry: u8 = 0;\n\t\t        while (i < 32) {\n\t\t            let curr = 31 - i;\n\t\t            let b1 = x[curr];\n\t\t            let b2 = order[curr];\n\t\t            let sum: u16 = (b2 as u16) + (carry as u16);\n\t\t            if (sum > (b1 as u16)) {\n\t\t                carry = 1;\n\t\t                let res = 0x100 + (b1 as u16) - sum;\n\t\t                c.push_back(res as u8);\n\t\t            } else {\n\t\t                carry = 0;\n\t\t                let res = (b1 as u16) - sum;\n\t\t                c.push_back(res as u8);\n\t\t            };\n\t\t            i = i + 1;\n\t\t        };\n\t\t        if (carry != 0) {\n\t\t            option::none()\n\t\t        } else {\n\t\t            vector::reverse(&mut c);\n\t\t            option::some(c)\n\t\t        }\n\t\t    }\n\t\t\n\n\t\t    public(package) fun modulo_order(x: &vector<u8>): vector<u8> {\n\t\t        let mut res = *x;\n\t\t        // Since 2^256 < 3*ORDER, this loop won't run many times.\n\t\t        while (true) {\n\t\t            let minus_order = try_substract(&res);\n\t\t            if (option::is_none(&minus_order)) {\n\t\t                return res\n\t\t            };\n\t\t            res = *option::borrow(&minus_order);\n\t\t        };\n\t\t        res\n\t\t    }\n\t\t}\n \n65 changes: 65 additions & 0 deletions\n65  \nexamples/move/crypto/ibe/tests/example_tests.move\n\t\t@@ -0,0 +1,65 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\t#[test_only]\n\t\tmodule ibe::tests {\n\t\t    use sui::bcs;\n\t\t    use sui::bls12381;\n\t\t    use ibe::example;\n\t\t\n\n\t\t    #[test_only]\n\t\t    use std::hash::sha2_256;\n\t\t    #[test_only]\n\t\t    use sui::test_utils::assert_eq;\n\t\t\n\n\t\t\n\n\t\t    // This test emulates drand based timelock encryption (using quicknet).\n\t\t    #[test]\n\t\t    fun test_ibe_decrypt_drand() {\n\t\t        // Retrieved using 'curl https://api.drand.sh/52db9ba70e0cc0f6eaf7803dd07447a1f5477735fd3f661792ba94600c84e971/info'\n\t\t        let round = 1234;\n\t\t        let pk_bytes = x\"83cf0f2896adee7eb8b5f01fcad3912212c437e0073e911fb90022d3e760183c8c4b450b6a0a6c3ac6a5776a2d1064510d1fec758c921cc22b0e17e63aaf4bcb5ed66304de9cf809bd274ca73bab4af5a6e9c76a4bc09e76eae8991ef5ece45a\";\n\t\t        let pk = bls12381::g2_from_bytes(&pk_bytes);\n\t\t        let msg = x\"0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF\";\n\t\t\n\n\t\t        // Derive the 'target' for the specific round (see drand_lib.move).\n\t\t        let mut round_bytes = bcs::to_bytes(&round);\n\t\t        round_bytes.reverse();\n\t\t        let target = sha2_256(round_bytes);\n\t\t\n\n\t\t        // Retrieved with 'curl https://api.drand.sh/52db9ba70e0cc0f6eaf7803dd07447a1f5477735fd3f661792ba94600c84e971/public/1234'.\n\t\t        let sig_bytes = x\"a81d4aad15461a0a02b43da857be1d782a2232a3c7bb370a2763e95ce1f2628460b24de2cee7453cd12e43c197ea2f23\";\n\t\t        let target_key = bls12381::g1_from_bytes(&sig_bytes);\n\t\t        assert!(bls12381::bls12381_min_sig_verify(&sig_bytes, &pk_bytes, &target), 0);\n\t\t\n\n\t\t        // Encrypt and decrypt using the insecure encryption.\n\t\t        let enc = example::insecure_ibe_encrypt(&pk, &target, &msg, &x\"A123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF\");\n\t\t        let mut decrypted_msg = example::ibe_decrypt(enc, &target_key);\n\t\t        assert!(option::extract(&mut decrypted_msg) == msg, 0);\n\t\t\n\n\t\t        // Test an fixed output that was generated using the FastCrypto CLI.\n\t\t        let enc = x\"b598e92e55ac1a2e78b61ce4a223c3c6b17db2dc4e5c807965649d882c71f05e1a7eac110e40c7b7faae4d556d6b418c03521e351504b371e91c1e7637292e4fb9f7ad4a8b6a1fecebd2b3208e18cab594b081d11cbfb1f15b7b18b4af6876fd796026a67def0b05222aadabcf86eaace0e708f469f491483f681e184f9178236f4e749635de4478f3bf44fb9264d35d6e83d58b3e5e686414b0953e99142a62\";\n\t\t        let enc = example::from_bytes(enc);\n\t\t        let mut decrypted_msg = example::ibe_decrypt(enc, &target_key);\n\t\t        assert!(option::extract(&mut decrypted_msg) == msg, 0);\n\t\t    }\n\t\t\n\n\t\t    #[test]\n\t\t    fun test_try_substract_and_modulo() {\n\t\t        let smaller: vector<u8> = x\"73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000000\";\n\t\t        let res = example::try_substract(&smaller);\n\t\t        assert!(option::is_none(&res), 0);\n\t\t\n\n\t\t        let bigger: vector<u8> = x\"8c1258acd66282b7ccc627f7f65e27faac425bfd0001a40100000000fffffff5\";\n\t\t        let res = example::try_substract(&bigger);\n\t\t        assert!(option::is_some(&res), 0);\n\t\t        let bigger_minus_order = *option::borrow(&res);\n\t\t        let expected: vector<u8> = x\"1824b159acc5056f998c4fefecbc4ff55884b7fa0003480200000001fffffff4\";\n\t\t        assert_eq(bigger_minus_order, expected);\n\t\t\n\n\t\t        let larger: vector<u8> = x\"fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff6\";\n\t\t        let expected: vector<u8> = x\"1824b159acc5056f998c4fefecbc4ff55884b7fa0003480200000001fffffff4\";\n\t\t        let modulo = example::modulo_order(&larger);\n\t\t        assert!(modulo == expected, 0);\n\t\t    }\n\t\t}\n0 comments on commit 4da91c4\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "sui/examples at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/tree/main/examples",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nconsensus\ncrates\ndapps\ndashboards\ndoc\ndocker\ndocs\nexamples\nmev_bot\nmove\ntrading\nexternal-crates\nkiosk\nnarwhal\nnre\nscripts\nsdk\nsui-execution\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui\n/examples/\nDirectory actions\nMore options\nLatest commit\nbenr-ml\nUpdate Move examples of EC operations (#17635)\n4da91c4\n · \nHistory\nHistory\nFolders and files\nName\tLast commit message\tLast commit date\n\nparent directory\n..\n\n\nmev_bot\n\t\nMigrate to new RPC endpoints (#16521)\n\t\n\n\nmove\n\t\nUpdate Move examples of EC operations (#17635)\n\t\n\n\ntrading\n\t\n[Move 2024] Convert trading demo to move 2024 (#17206)\n\t"
    },
    {
      "title": "[docs] Tip about flag (#17736) · MystenLabs/sui@a5491e5 · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/a5491e5058c6ff48d40080009fca35edb50cdb2e",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\n[docs] Tip about flag (#17736)\nBrowse files\n## Description \n\nSimilar to your earlier suggestion but just adding the notice with code\nupdate to follow after a few release cycles.\n\n## Test plan \n\nHow did you test the new or updated feature?\n\n---\n\n## Release notes\n\nCheck each box that your changes affect. If none of the boxes relate to\nyour changes, release notes aren't required.\n\nFor each box you select, include information after the relevant heading\nthat describes the impact of your changes that a user might notice and\nany actions they must take to implement updates.\n\n- [ ] Protocol: \n- [ ] Nodes (Validators and Full nodes): \n- [ ] Indexer: \n- [ ] JSON-RPC: \n- [ ] GraphQL: \n- [ ] CLI: \n- [ ] Rust SDK:\n\n---------\n\nCo-authored-by: stefan-mysten <135084671+stefan-mysten@users.noreply.github.com>\n Loading branch information\nronny-mysten and stefan-mysten committed  \nVerified\n1 parent 23dac89\ncommit a5491e5\n \nShowing 18 changed files with 41 additions and 2 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\ndocs/content\nconcepts\ncryptography/transaction-auth\noffline-signing.mdx\nobject-ownership\nimmutable.mdx\nsui-move-concepts/packages\ncustom-policies.mdx\nupgrade.mdx\nguides\ndeveloper\nadvanced\nasset-tokenization.mdx\napp-examples\ne2e-counter.mdx\ncryptography\nmultisig.mdx\nfirst-app\npublish.mdx\nsui-101\naccess-time.mdx\ncreate-coin.mdx\ncreate-coin\nregulated.mdx\nsign-and-send-txn.mdx\noperator\nvalidator-config.mdx\nvalidator-tasks.mdx\nreferences/cli\nclient.mdx\nvalidator.mdx\nsnippets\ninfo-gas-budget.mdx\nstandards\nkiosk.mdx\n  \n2 changes: 2 additions & 0 deletions\n2  \ndocs/content/concepts/cryptography/transaction-auth/offline-signing.mdx\n\t@@ -14,6 +14,8 @@ You must serialize transaction data following [Binary Canonical Serialization](h\n\t\t\n\n\t\tThe following example demonstrates how to serialize data for a transfer using the [Sui CLI](/references/cli.mdx). This returns serialized transaction data in Base64. Submit the raw transaction to execute as `tx_bytes`.\n\t\t\n\n\t\t{@include: ../../../snippets/info-gas-budget.mdx}\n\t\t\n\n\t\t```shell\n\t\tsui client transfer-sui --to <SUI-ADDRESS> --sui-coin-object-id <COIN-OBJECT-ID> --gas-budget <GAS-AMOUNT> --serialize-unsigned-transaction\n\t\t```\n\n\t\n  \n2 changes: 2 additions & 0 deletions\n2  \ndocs/content/concepts/object-ownership/immutable.mdx\n\t@@ -125,6 +125,8 @@ sui client objects $ADDR\n\t\t\n\n\t\tPublish the `ColorObject` code on-chain using the Sui Client CLI:\n\t\t\n\n\t\t{@include: ../../snippets/info-gas-budget.mdx}\n\t\t\n\n\t\t```shell\n\t\tsui client publish $ROOT/examples/move/color_object --gas-budget <GAS-AMOUNT>\n\t\t```\n\n\t\n  \n2 changes: 2 additions & 0 deletions\n2  \ndocs/content/concepts/sui-move-concepts/packages/custom-policies.mdx\n\t@@ -330,6 +330,8 @@ module policy::day_of_week {\n\t\t\n\n\t\tUse the `sui client publish` command to publish the policy.\n\t\t\n\n\t\t{@include: ../../../snippets/info-gas-budget.mdx}\n\t\t\n\n\t\t```bash\n\t\tsui client publish --gas-budget 100000000\n\t\t```\n\n\t\n  \n2 changes: 2 additions & 0 deletions\n2  \ndocs/content/concepts/sui-move-concepts/packages/upgrade.mdx\n\t@@ -253,6 +253,8 @@ If you have a package with a dependency, and that dependency is upgraded, your p\n\t\t\n\n\t\tUse the `sui client upgrade` command to upgrade packages that meet the previous requirements, providing values for the following flags:\n\t\t\n\n\t\t{@include: ../../../snippets/info-gas-budget.mdx}\n\t\t\n\n\t\t- `--gas-budget`: The maximum number of gas units that can be expended before the network cancels the transaction.\n\t\t- `--cap`: The ID of the `UpgradeCap`. You receive this ID as a return from the publish command.\n\t\t\n\n\n\t\n  \n2 changes: 2 additions & 0 deletions\n2  \ndocs/content/guides/developer/advanced/asset-tokenization.mdx\n\t@@ -685,6 +685,8 @@ For more details on publishing, please check the setup folder's [README](https:/\n\t\t\n\n\t\tSelect a package for specific instructions.\n\t\t\n\n\t\t{@include: ../../../snippets/info-gas-budget.mdx}\n\t\t\n\n\t\t<Tabs>\n\t\t\n\n\t\t<TabItem label=\"asset_tokenization\" value=\"asset_tokenization\">\n\n\t\n  \n2 changes: 2 additions & 0 deletions\n2  \ndocs/content/guides/developer/app-examples/e2e-counter.mdx\n\t@@ -107,6 +107,8 @@ sui client switch --env devnet\n\t\t\n\n\t\tNow, publish your Move code with the following command:\n\t\t\n\n\t\t{@include: ../../../snippets/info-gas-budget.mdx}\n\t\t\n\n\t\t```bash\n\t\tsui client publish --gas-budget 10000000 counter\n\t\t```\n\n\t\n  \n2 changes: 2 additions & 0 deletions\n2  \ndocs/content/guides/developer/cryptography/multisig.mdx\n\t@@ -106,6 +106,8 @@ The response resembles the following:\n\t\t\n\n\t\tThis section demonstrates how to use an object that belongs to a multisig address and serialize a transfer to be signed. The `tx_bytes` value can be any serialized transaction data where the sender is the multisig address. Use the `--serialize-unsigned-transaction` flag for supported commands in `sui client -h` (`publish`, `upgrade`, `call`, `transfer`, `transfer-sui`, `pay`, `pay-all-sui`, `pay-sui`, `split`, `merge-coin`) to output the Base64 encoded transaction bytes.\n\t\t\n\n\t\t{@include: ../../../snippets/info-gas-budget.mdx}\n\t\t\n\n\t\t```shell\n\t\tsui client transfer --to <SUI-ADDRESS> --object-id <OBJECT-ID> --gas-budget <GAS-AMOUNT> --serialize-unsigned-transaction\n\t\t\n\n\n\t\n  \n6 changes: 4 additions & 2 deletions\n6  \ndocs/content/guides/developer/first-app/publish.mdx\n\t@@ -4,7 +4,9 @@ title: Publish a Package\n\t\t\n\n\t\tBefore you can call functions in a Move package (beyond an emulated Sui execution scenario), that package must be available on the Sui network. When you publish a package, you are actually creating an immutable Sui object on the network that anyone can access.\n\t\t\n\n\t\tTo publish your package to the Sui network, use the `publish` CLI command in the root of your package. Use the `--gas-budget` flag to set a value for the maximum amount of gas the transaction can cost. If the cost of the transaction is more than the budget you set, the transaction fails and your package doesn't publish.  \n\t\tTo publish your package to the Sui network, use the `publish` CLI command in the root of your package. Use the `--gas-budget` flag to set a value for the maximum amount of gas the transaction can cost. If the cost of the transaction is more than the budget you set, the transaction fails and your package doesn't publish. \n\t\t\n\n\t\t{@include: ../../../snippets/info-gas-budget.mdx}\n\t\t\n\n\t\t```shell\n\t\t$ sui client publish --gas-budget 5000000\n\n\t@@ -80,7 +82,7 @@ flowchart TB\n\t\t\n\n\t\t### Interact with the package\n\t\t\n\n\t\tNow that the package is on chain, you can call its functions to interact with the package. You can use the `sui move call` command to make individual calls to package functions, or you can construct more advanced blocks of transactions using the `sui client ptb` command. The `ptb` part of the command stands for [programmable transaction blocks](../../../concepts/transactions/prog-txn-blocks.mdx). In basic terms, PTBs allow you to group commands together in a single transaction for more efficient and cost-effective network activity.\n\t\tNow that the package is on chain, you can call its functions to interact with the package. You can use the `sui client call` command to make individual calls to package functions, or you can construct more advanced blocks of transactions using the `sui client ptb` command. The `ptb` part of the command stands for [programmable transaction blocks](../../../concepts/transactions/prog-txn-blocks.mdx). In basic terms, PTBs allow you to group commands together in a single transaction for more efficient and cost-effective network activity.\n\t\t\n\n\t\t```mermaid\n\t\tflowchart TB\n\n\t\n  \n2 changes: 2 additions & 0 deletions\n2  \ndocs/content/guides/developer/sui-101/access-time.mdx\n\t@@ -35,6 +35,8 @@ module basics::clock {\n\t\t\n\n\t\tA call to the previous entry function takes the following form, passing `0x6` as the address for the `Clock` parameter:\n\t\t\n\n\t\t{@include: ../../../snippets/info-gas-budget.mdx}\n\t\t\n\n\t\t```shell\n\t\tsui client call --package <EXAMPLE> --module 'clock' --function 'access' --args '0x6' --gas-budget <GAS-AMOUNT>\n\t\t```\n\n\t\n  \n2 changes: 2 additions & 0 deletions\n2  \ndocs/content/guides/developer/sui-101/create-coin.mdx\n\t@@ -48,6 +48,8 @@ public fun mint(\n\t\t\n\n\t\tIf you published the previous example to a Sui network, you can use the `sui client call` command to mint coins and deliver them to the address you provide. See [Sui CLI](../../../references/cli.mdx) for more information on the command line interface.\n\t\t\n\n\t\t{@include: ../../../snippets/info-gas-budget.mdx}\n\t\t\n\n\t\t```shell\n\t\tsui client call --function mint --module mycoin --package <PACKAGE-ID> --args <TREASURY-CAP-ID> <COIN-AMOUNT> <RECIPIENT-ADDRESS> --gas-budget <GAS-AMOUNT>\n\t\t```\n\n\t\n  \n2 changes: 2 additions & 0 deletions\n2  \ndocs/content/guides/developer/sui-101/create-coin/regulated.mdx\n\t@@ -101,6 +101,8 @@ public fun remove_addr_from_deny_list(denylist: &mut DenyList, denycap: &mut Den\n\t\t\n\t\tTo use these functions, you pass the `DenyList` object (`0x403`), your `DenyCap` object ID, and the address you want to either add or remove. Using the Sui CLI, you could use `sui client call` with the required information:\n\t\t\n\t\t{@include: ../../../../snippets/info-gas-budget.mdx}\n\t\t\n\t\t```shell\n\t\tsui client call --function add_addr_from_deny_list --module regcoin --package <PACKAGE-ID> --args <DENY-LIST> <DENY-CAP> <ADDRESS-TO-DENY> --gas-budget <GAS-AMOUNT>\n\t\tTransaction Digest: <DIGEST-HASH>\n\n\t\n  \n2 changes: 2 additions & 0 deletions\n2  \ndocs/content/guides/developer/sui-101/sign-and-send-txn.mdx\n\t@@ -233,6 +233,8 @@ sui keytool import \"$MNEMONICS\" secp256r1\n\t\t\n\n\t\tCreate a transfer transaction in CLI. Set the $SUI_ADDRESS to the one corresponding to the keypair used to sign. $GAS_COIN_ID refers to the object ID that is owned by the sender to be used as gas. $GAS_BUDGET refers to the budget used to execute transaction. Then sign with the private key corresponding to the sender address. $MNEMONICS refers to 12/15/18/21/24 words from the wordlist, e.g. \"retire skin goose will hurry this field stadium drastic label husband venture cruel toe wire\". Refer to [Keys and Addresses](/concepts/cryptography/transaction-auth/keys-addresses.mdx) for more.\n\t\t\n\n\t\t{@include: ../../../snippets/info-gas-budget.mdx}\n\t\t\n\n\t\t```shell\n\t\tsui client gas\n\t\tsui client transfer-sui --to $SUI_ADDRESS --sui-coin-object-id $GAS_COIN_ID --gas-budget $GAS_BUDGET --serialize-unsigned-transaction\n\n\t\n  \n2 changes: 2 additions & 0 deletions\n2  \ndocs/content/guides/operator/validator-config.mdx\n\t@@ -90,6 +90,8 @@ In practice, the process for submitting a gas price quote for the Gas Price Surv\n\t\t\n\n\t\tFor example, to set the price quote for the next epoch to 42, run:\n\t\t\n\n\t\t{@include: ../../snippets/info-gas-budget.mdx}\n\t\t\n\n\t\t```shell\n\t\tsui client call --package <PACKAGE-ID> --module sui_system --function request_set_gas_price --args 0x5 \\\"42\\\" --gas-budget <GAS-AMOUNT>\n\t\t```\n\n\t\n  \n2 changes: 2 additions & 0 deletions\n2  \ndocs/content/guides/operator/validator-tasks.mdx\n\t@@ -270,6 +270,8 @@ To update metadata, a validator makes a MoveCall transaction that interacts with\n\t\t\n\n\t\t1. to update name to `new_validator_name`, use the Sui Client CLI to call `sui_system::update_validator_name`:\n\t\t\n\n\t\t{@include: ../../snippets/info-gas-budget.mdx}\n\t\t\n\n\t\t```bash\n\t\tsui client call --package 0x3 --module sui_system --function update_validator_name --args 0x5 \\\"new_validator_name\\\" --gas-budget 10000\n\t\t```\n\n\t\n  \n2 changes: 2 additions & 0 deletions\n2  \ndocs/content/references/cli/client.mdx\n\t@@ -228,6 +228,8 @@ sui client gas hungry-spodumene\n\t\t\n\n\t\tYou want to send 0.5 SUI to `eloquent-amber`. Given that you have a few gas coins, you can use `pay`. If only one gas coin exists, then you need to use `transfer-sui` or `pay-sui`, or you would need to split the coin first to have another coin to use for paying gas. In this case, let's use the `pay-sui` command as you do not need to provide a separate gas coin to be used for the gas fees. In the command below, you set the recipient to be `eloquent-amber`, which coin to use to transfer SUI from, and the amount of SUI to transfer.\n\t\t\n\n\t\t{@include: ../../snippets/info-gas-budget.mdx}\n\t\t\n\n\t\t```\n\t\tsui client pay-sui --recipients eloquent-amber --input-coins 0xc9b447fff18f13fa035e028534b8344d5fc8a8760248fad10155e78f44dc3a52 --amounts 500000000 --gas-budget 5000000\n\t\t```\n\n\t\n  \n2 changes: 2 additions & 0 deletions\n2  \ndocs/content/references/cli/validator.mdx\n\t@@ -144,6 +144,8 @@ A8z83EqjmgwRNFV6sme6A5tTTTQPjiLgiW76neyvhLud\n\t\t\n\t\t### Set gas price for the next epoch\n\t\t\n\t\t{@include: ../../snippets/info-gas-budget.mdx}\n\t\t\n\t\t```shell\n\t\t$ sui validator request_set_gas_price --args 0x5 \\\"42\\\" --gas-budget GAS-BUDGET-AMOUNT>\n\t\t```\n\n\t\n \n5 changes: 5 additions & 0 deletions\n5  \ndocs/content/snippets/info-gas-budget.mdx\n\t\t@@ -0,0 +1,5 @@\n\t\t:::tip\n\t\t\n\n\t\tBeginning with the Sui `v1.24.1` [release](https://github.com/MystenLabs/sui/releases/tag/mainnet-v1.24.1), the `--gas-budget` flag is no longer required for CLI commands.\n\t\t\n\n\t\t:::\n  \n2 changes: 2 additions & 0 deletions\n2  \ndocs/content/standards/kiosk.mdx\n\t@@ -111,6 +111,8 @@ tx.moveCall({\n\t\t\n\n\t\t### Create a Sui Kiosk using the Sui CLI\n\t\t\n\n\t\t{@include: ../snippets/info-gas-budget.mdx}\n\t\t\n\n\t\t```shell\n\t\tsui client call \\\n\t\t    --package 0x2 \\\n\n\t\n0 comments on commit a5491e5\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "[docs] Tip about flag by ronny-mysten · Pull Request #17736 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/17736",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\n[docs] Tip about flag #17736\n Merged\nronny-mysten merged 5 commits into MystenLabs:main from ronny-mysten:DOCS-377 \n Conversation 4\n Commits 5\n Checks 44\n Files changed\nConversation\nContributor\nronny-mysten commented \nDescription\n\nSimilar to your earlier suggestion but just adding the notice with code update to follow after a few release cycles.\n\nTest plan\n\nHow did you test the new or updated feature?\n\nRelease notes\n\nCheck each box that your changes affect. If none of the boxes relate to your changes, release notes aren't required.\n\nFor each box you select, include information after the relevant heading that describes the impact of your changes that a user might notice and any actions they must take to implement updates.\n\n Protocol:\n Nodes (Validators and Full nodes):\n Indexer:\n JSON-RPC:\n GraphQL:\n CLI:\n Rust SDK:\nronny-mysten and others added 4 commits \nUpdated another reference\n4ce277d\nMerge branch 'MystenLabs:main' into main\nfe11857\nMerge branch 'MystenLabs:main' into main\n084fde5\nAdded note to first occurrence\n4dac04b\n ronny-mysten requested a review from stefan-mysten \nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nsui-docs\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMay 14, 2024 9:33pm\n ronny-mysten marked this pull request as ready for review \nvercel bot commented \n\n@ronny-mysten is attempting to deploy a commit to the Mysten Labs Team on Vercel.\n\nA member of the Team first needs to authorize it.\n\n github-actions bot added the Type: Documentation label \n vercel bot deployed to Preview – sui-docs \nView deployment\nstefan-mysten reviewed \nView reviewed changes\ndocs/content/snippets/info-gas-budget.mdx\nOutdated\nShow resolved\nstefan-mysten approved these changes \nView reviewed changes\nContributor\nstefan-mysten commented \n\nThanks @ronny-mysten!\n\nUpdate docs/content/snippets/info-gas-budget.mdx …\nc589d52\n vercel bot deployed to Preview – sui-docs \nView deployment\nView details\n ronny-mysten merged commit a5491e5 into MystenLabs:main \n45 of 48 checks passed\n ronny-mysten deleted the DOCS-377 branch \nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\nstefan-mysten\n\nAssignees\nNo one assigned\nLabels\nType: Documentation\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n2 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "review revisions · MystenLabs/sui@bf7eb57 · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/bf7eb5780fb3787a4bba28713b94ee7eca21d85f",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\nreview revisions\nBrowse files\n main (#14592)\n testnet-v1.25.0 \n…\n devnet-v1.18.0\nlavindir committed  \n1 parent 28d790b\ncommit bf7eb57\n \nShowing 25 changed files with 150 additions and 730 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\nCargo.lock\ncrates\nsui-replay/src\nlib.rs\nreplay.rs\nsui-tool\nCargo.toml\nsrc\nlib.rs\nsui/src\nclient_commands.rs\ndoc/src/build\ncli-client.md\ndocs/content/references/cli\nclient.mdx\nexternal-crates/move\ncrates\nmove-vm-config/src\nruntime.rs\nmove-vm-profiler\nCargo.toml\nsrc\nlib.rs\nmove-execution\nnext-vm/crates/move-vm-runtime/src\ninterpreter.rs\nruntime.rs\nsession.rs\nv1/crates/move-vm-runtime/src\ninterpreter.rs\nruntime.rs\nsession.rs\nsui-execution\nlatest/sui-adapter/src\nadapter.rs\nnext-vm/sui-adapter/src\nadapter.rs\nsrc\nlib.rs\nlib.template.rs\nnext_vm.rs\nv0/sui-adapter/src\nadapter.rs\nv1/sui-adapter/src\nadapter.rs\nprogrammable_transactions\ncontext.rs\n \n1 change: 1 addition & 0 deletions\n1  \nCargo.lock\nLoad diff\n\nSome generated files are not rendered by default. Learn more about how customized files appear on GitHub.\n\n  \n32 changes: 18 additions & 14 deletions\n32  \ncrates/sui-replay/src/lib.rs\n\t@@ -73,12 +73,15 @@ pub enum ReplayToolCommand {\n\t\t        show_effects: bool,\n\t\t        #[arg(long, short)]\n\t\t        diag: bool,\n\t\t        /// Optional version of the executor to use, if not specified defaults to the one originally used for the transaction.\n\t\t        #[arg(long, short, allow_hyphen_values = true)]\n\t\t        executor_version_override: Option<i64>,\n\t\t        executor_version: Option<i64>,\n\t\t        /// Optional protocol version to use, if not specified defaults to the one originally used for the transaction.\n\t\t        #[arg(long, short, allow_hyphen_values = true)]\n\t\t        protocol_version_override: Option<i64>,\n\t\t        protocol_version: Option<i64>,\n\t\t        /// Optional output filepath for the profile generated by this run, if not specified defaults to `gas_profile_{tx_digest}_{unix_timestamp}.json in the working directory.\n\t\t        #[arg(long, short, allow_hyphen_values = true)]\n\t\t        profile_output_filepath_override: Option<PathBuf>,\n\t\t        profile_output: Option<PathBuf>,\n\t\t    },\n\t\t\n\n\t\t    /// Replay transaction\n\n\t@@ -90,10 +93,12 @@ pub enum ReplayToolCommand {\n\t\t        show_effects: bool,\n\t\t        #[arg(long, short)]\n\t\t        diag: bool,\n\t\t        /// Optional version of the executor to use, if not specified defaults to the one originally used for the transaction.\n\t\t        #[arg(long, short, allow_hyphen_values = true)]\n\t\t        executor_version_override: Option<i64>,\n\t\t        executor_version: Option<i64>,\n\t\t        /// Optional protocol version to use, if not specified defaults to the one originally used for the transaction.\n\t\t        #[arg(long, short, allow_hyphen_values = true)]\n\t\t        protocol_version_override: Option<i64>,\n\t\t        protocol_version: Option<i64>,\n\t\t    },\n\t\t\n\n\t\t    /// Replay transactions listed in a file\n\n\t@@ -368,9 +373,9 @@ pub async fn execute_replay_command(\n\t\t            tx_digest,\n\t\t            show_effects,\n\t\t            diag,\n\t\t            executor_version_override,\n\t\t            protocol_version_override,\n\t\t            profile_output_filepath_override,\n\t\t            executor_version,\n\t\t            protocol_version,\n\t\t            profile_output,\n\t\t        } => {\n\t\t            let tx_digest = TransactionDigest::from_str(&tx_digest)?;\n\t\t            info!(\"Executing tx: {}\", tx_digest);\n\n\t@@ -380,10 +385,9 @@ pub async fn execute_replay_command(\n\t\t                tx_digest,\n\t\t                safety,\n\t\t                use_authority,\n\t\t                executor_version_override,\n\t\t                protocol_version_override,\n\t\t                profile_output_filepath_override\n\t\t                    .or(Some((*DEFAULT_PROFILE_OUTPUT_PATH.clone()).to_path_buf())),\n\t\t                executor_version,\n\t\t                protocol_version,\n\t\t                profile_output.or(Some((*DEFAULT_PROFILE_OUTPUT_PATH.clone()).to_path_buf())),\n\t\t            )\n\t\t            .await?;\n\t\t\n\n\n\t@@ -404,8 +408,8 @@ pub async fn execute_replay_command(\n\t\t            tx_digest,\n\t\t            show_effects,\n\t\t            diag,\n\t\t            executor_version_override,\n\t\t            protocol_version_override,\n\t\t            executor_version: executor_version_override,\n\t\t            protocol_version: protocol_version_override,\n\t\t        } => {\n\t\t            let tx_digest = TransactionDigest::from_str(&tx_digest)?;\n\t\t            info!(\"Executing tx: {}\", tx_digest);\n\n\t\n  \n3 changes: 2 additions & 1 deletion\n3  \ncrates/sui-replay/src/replay.rs\n\t@@ -237,7 +237,8 @@ pub struct LocalExec {\n\t\t    // -1 implies use latest version\n\t\t    // None implies use the protocol version at the time of execution\n\t\t    pub protocol_version_override: Option<i64>,\n\t\t    // Whether or not to enable the gas profiler\n\t\t    // Whether or not to enable the gas profiler, the PathBuf contains either a user specified\n\t\t    // filepath or DEFAULT_PROFILE_OUTPUT_PATH for the profile output\n\t\t    pub enable_profiler: Option<PathBuf>,\n\t\t    // Retry policies due to RPC errors\n\t\t    pub num_retries_for_timeout: u32,\n\n\t\n  \n3 changes: 2 additions & 1 deletion\n3  \ncrates/sui-tool/Cargo.toml\n\t@@ -55,10 +55,11 @@ workspace-hack.workspace = true\n\t\tgit-version.workspace = true\n\t\tconst-str = \"0.5.6\"\n\t\tmove-vm-profiler = { workspace = true, features = [\"gas-profiler\"] }\n\t\tmove-vm-profiler.workspace = true\n\t\t\n\n\t\t[[bin]]\n\t\tname = \"sui-tool\"\n\t\tpath = \"src/main.rs\"\n\t\t\n\n\t\t[features]\n\t\tdefault = [\"gas-profiler\"]\n\t\t#default = [\"gas-profiler\"]\n  \n4 changes: 0 additions & 4 deletions\n4  \ncrates/sui-tool/src/lib.rs\n\t@@ -67,10 +67,6 @@ pub mod commands;\n\t\tpub mod db_tool;\n\t\tpub mod pkg_dump;\n\t\t\n\n\t\t#[cfg(feature = \"enable-gas-profiler\")]\n\t\textern crate move-vm-profiler;\n\t\t\n\n\t\t\n\n\t\t// This functions requires at least one of genesis or fullnode_rpc to be `Some`.\n\t\tasync fn make_clients(\n\t\t    genesis: Option<PathBuf>,\n\n\t\n  \n18 changes: 9 additions & 9 deletions\n18  \ncrates/sui/src/client_commands.rs\n\t@@ -647,16 +647,16 @@ pub enum SuiClientCommands {\n\t\t        address_override: Option<ObjectID>,\n\t\t    },\n\t\t\n\n\t\t    /// Profile the gas usage of a transaction. Outputs a file `gas_profile_{tx_digest}_{unix_timestamp}.json` which can be opened in a flamegraph tool such as speedscope.\n\t\t    /// Profile the gas usage of a transaction. If an output filepath is not specified, it will output a file `gas_profile_{tx_digest}_{unix_timestamp}.json` which can be opened in a flamegraph tool such as speedscope.\n\t\t    #[clap(name = \"profile-transaction\")]\n\t\t    ProfileTransaction {\n\t\t        /// The digest of the transaction to replay\n\t\t        #[arg(long, short)]\n\t\t        tx_digest: String,\n\t\t\n\n\t\t        /// If specified, overrides the filepath of the output profile, for example -- /temp/my_profile.json\n\t\t        #[clap(name = \"profile_output_filepath\")]\n\t\t        profile_output_filepath: Option<PathBuf>,\n\t\t        #[clap(name = \"profile_output\")]\n\t\t        profile_output: Option<PathBuf>,\n\t\t    },\n\t\t\n\n\t\t    /// Replay a given transaction to view transaction effects. Set environment variable MOVE_VM_STEP=1 to debug.\n\n\t@@ -712,15 +712,15 @@ impl SuiClientCommands {\n\t\t        let ret = Ok(match self {\n\t\t            SuiClientCommands::ProfileTransaction {\n\t\t                tx_digest,\n\t\t                profile_output_filepath,\n\t\t                profile_output,\n\t\t            } => {\n\t\t                let cmd = ReplayToolCommand::ProfileTransaction {\n\t\t                    tx_digest,\n\t\t                    show_effects: false,\n\t\t                    diag: false,\n\t\t                    executor_version_override: None,\n\t\t                    protocol_version_override: None,\n\t\t                    profile_output_filepath_override: profile_output_filepath,\n\t\t                    executor_version: None,\n\t\t                    protocol_version: None,\n\t\t                    profile_output,\n\t\t                };\n\t\t                let rpc = context.config.get_active_env()?.rpc.clone();\n\t\t                let _command_result =\n\n\t@@ -737,8 +737,8 @@ impl SuiClientCommands {\n\t\t                    tx_digest,\n\t\t                    show_effects: true,\n\t\t                    diag: false,\n\t\t                    executor_version_override: None,\n\t\t                    protocol_version_override: None,\n\t\t                    executor_version: None,\n\t\t                    protocol_version: None,\n\t\t                };\n\t\t\n\n\t\t                let rpc = context.config.get_active_env()?.rpc.clone();\n\n\t\n0 comments on commit bf7eb57\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "sui/docs at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/tree/main/docs",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nconsensus\ncrates\ndapps\ndashboards\ndoc\ndocker\ndocs\ncontent\nsite\nREADME.md\nexamples\nexternal-crates\nkiosk\nnarwhal\nnre\nscripts\nsdk\nsui-execution\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui\n/docs/\nDirectory actions\nMore options\nLatest commit\nronny-mysten\nand\nstefan-mysten\n[docs] Tip about flag (#17736)\na5491e5\n · \nHistory\nHistory\nFolders and files\nName\tLast commit message\tLast commit date\n\nparent directory\n..\n\n\ncontent\n\t\n[docs] Tip about flag (#17736)\n\t\n\n\nsite\n\t\n[Docs] Remove concepts/graphql redirect (#17356)\n\t\n\n\nREADME.md\n\t\n[docs] Adds the token doc (#14857)\n\t\nREADME.md\nOverview\n\nThis directory contains the assets required to build and update the Sui documentation. The directory is split between content and site. To run the docs.sui.io site locally, open the site directory in a terminal or console. Use a package manager to install the required modules:\n\npnpm install\n\nIn the same directory, the site should be built locally:\n\npnpm build\n\nThis is necessary in the first instance with a freshly cloned repo as it will download the OpenRPC specifications which are required to deploy the site.\n\nNext, use the following command to deploy a development preview of the site to localhost:3000:\n\npnpm start\n\nIf you're running the site locally and getting an error saying that you don't have open-rpc specs, run pnpm build first. It will prepare the files and fix the issue.\n\nThe deployment watches for updates to files in the content directory (and site source files), updating the UI to match any saves you make.\n\nOnce you've finished making changes, you should again run pnpm build. This builds the static site and places the files in site\\build. This is important to run before submitting your changes for review, because a build will fail on errors like bad internal links, displaying the cause of the error to the console. The development preview ignores such errors to provide a more agile environment.\n\nSui Foundation is not able to provide support for building the documentation site locally. If you run into trouble, consult the Docusaurus documentation.\n\nPull requests\n\nSui uses Vercel to host its documentation site. Vercel builds a preview of the documentation for every pull request submitted to the Sui repo. You can find a link to this preview in the PR comment section from the Vercel bot. Click the Visit Preview link for the sui-core project to verify your changes behave as you expect.\n\nIf you'd like to view the Vercel preview before your changes are ready for review, then mark your PR as a draft.\n\nContributing\n\nSui is for the community. Contribute for the benefit of all.\n\nDocs contributing guidelines\nRepo contributing guidelines\nStyle guide\nLocalization\nCode of conduct\nLicense\n\nThe Sui Documentation is distributed under the [LICENSE](CC BY 4.0 license)."
    },
    {
      "title": "sui/docker at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/tree/main/docker",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nconsensus\ncrates\ndapps\ndashboards\ndoc\ndocker\ndeterministic-canary\nfullnode-x\nfullnode\ngrafana-local\nstress\nsui-graphql-rpc\nsui-indexer\nsui-network\nsui-node-deterministic\nsui-node\nsui-services\nsui-source-service\nsui-tools\ndocs\nexamples\nexternal-crates\nkiosk\nnarwhal\nnre\nscripts\nsdk\nsui-execution\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui\n/docker/\nDirectory actions\nMore options\nLatest commit\nsuiwombat\nRevert \"[indexer/dockerfile] adjust arg\" (#17163)\n4e59839\n · \nHistory\nHistory\nFolders and files\nName\tLast commit message\tLast commit date\n\nparent directory\n..\n\n\ndeterministic-canary\n\t\ndocker: deterministic canary\n\t\n\n\nfullnode-x\n\t\nFix sui-node binary placement in Docker (#13139)\n\t\n\n\nfullnode\n\t\n[Config] update example fullnode template and docker compose config (#…\n\t\n\n\ngrafana-local\n\t\nchore: remove repetitive words (#16702)\n\t\n\n\nstress\n\t\npoll fullnode for availability before starting stress (#17161)\n\t\n\n\nsui-graphql-rpc\n\t\n[Rust] upgrade to 1.75 toolchain (#15659)\n\t\n\n\nsui-indexer\n\t\nRevert \"[indexer/dockerfile] adjust arg\" (#17163)\n\t\n\n\nsui-network\n\t\nSui Network docker compose (#16577)\n\t\n\n\nsui-node-deterministic\n\t\ndocker: add the sui-node deterministic build as a separate Dockerfile\n\t\n\n\nsui-node\n\t\nadd curl to sui-node docker image (#16986)\n\t\n\n\nsui-services\n\t\nsunset workspace-hack\n\t\n\n\nsui-source-service\n\t\nsunset workspace-hack\n\t\n\n\nsui-tools\n\t\n[Rust] upgrade to 1.75 toolchain (#15659)\n\t"
    },
    {
      "title": "Revert \"[indexer/dockerfile] adjust arg\" by suiwombat · Pull Request #17163 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/17163",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\nRevert \"[indexer/dockerfile] adjust arg\" #17163\n Merged\nsuiwombat merged 1 commit into main from revert-17160-jh/move_profile \n+1 −2 \n Conversation 1\n Commits 1\n Checks 43\n Files changed 1\nConversation\nContributor\nsuiwombat commented \n\nReverts #17160\n\nRevert \"[indexer/dockerfile] adjust arg (#17160)\" …\nVerified\n6a879a7\n suiwombat requested a review from ebmifa \nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nsui-core\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tApr 15, 2024 10:01pm\n3 Ignored Deployments\n vercel bot deployed to Preview – sui-core \nView deployment\nebmifa approved these changes \nView reviewed changes\nView details\n suiwombat merged commit 4e59839 into main \n47 checks passed\n suiwombat deleted the revert-17160-jh/move_profile branch \nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\nebmifa\n\nAssignees\nNo one assigned\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n2 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Revert \"[indexer/dockerfile] adjust arg\" (#17163) · MystenLabs/sui@4e59839 · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/4e59839b28d6c98f4ecf547df4e5730590d42da9",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\nRevert \"[indexer/dockerfile] adjust arg\" (#17163)\nBrowse files\nReverts #17160\n main (#17163)\n testnet-v1.25.0 \n…\n devnet-v1.24.0\nsuiwombat committed  \nVerified\n1 parent c92c34d\ncommit 4e59839\nShowing 1 changed file with 1 addition and 2 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\n  \n3 changes: 1 addition & 2 deletions\n3  \ndocker/sui-indexer/Dockerfile\n\t@@ -3,8 +3,7 @@\n\t\t# Copy in all crates, Cargo.toml and Cargo.lock unmodified,\n\t\t# and build the application.\n\t\tFROM rust:1.75-bullseye AS builder\n\t\tARG PROFILE\n\t\tENV PROFILE=$PROFILE\n\t\tARG PROFILE=release\n\t\tARG GIT_REVISION\n\t\tENV GIT_REVISION=$GIT_REVISION\n\t\tWORKDIR \"$WORKDIR/sui\"\n\n\t\n0 comments on commit 4e59839\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "add node operator documentation (#9190) · MystenLabs/sui@19ba67d · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/19ba67d416230e84e9057dd864541ff22d2c2b18",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\nadd node operator documentation (#9190)\nBrowse files\n Loading branch information\ntharbert committed  \n1 parent 5ce1659\ncommit 19ba67d\n \nShowing 20 changed files with 979 additions and 3 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\ndashboards\nREADME.md\ndocker\nfullnode\ndocker-compose.yaml\nsui-node\nDockerfile\nnre\nREADME.md\nansible\nREADME.md\ninventory.yaml\nroles/sui-node\nfiles\njournald.conf\nsui-node.service\ntasks\niptables.yaml\nmain.yaml\nmonitoring.yaml\nsui.yaml\nubuntu.yaml\nsui-node.yaml\nconfig\nvalidator.yaml\ndocker\nREADME.md\ndocker-compose.yaml\nsui_for_node_operators.md\nsystemd\nREADME.md\nsui-node.service\n \nEmpty file added\n0  \ndashboards/README.md\nEmpty file.\n  \n4 changes: 1 addition & 3 deletions\n4  \ndocker/fullnode/docker-compose.yaml\n\t@@ -4,11 +4,9 @@ services:\n\t\t  fullnode:\n\t\t    image: mysten/sui-node:stable\n\t\t    ports:\n\t\t    - \"8084:8084/udp\"\n\t\t    - \"9000:9000\"\n\t\t    - \"9184:9184\"\n\t\t    expose:\n\t\t    - \"9000\"\n\t\t    - \"9184\"\n\t\t    volumes:\n\t\t    - ./fullnode-template.yaml:/sui/fullnode.yaml:ro\n\t\t    - ./genesis.blob:/sui/genesis.blob:ro\n\n\t\n  \n2 changes: 2 additions & 0 deletions\n2  \ndocker/sui-node/Dockerfile\n\t@@ -51,6 +51,8 @@ ARG PROFILE=release\n\t\tWORKDIR sui\n\t\t# Both bench and release profiles copy from release dir\n\t\tCOPY --from=builder /sui/target/release/sui-node /usr/local/bin\n\t\t# Staged migration from /usr/local/bin to /opt/sui/bin\n\t\tCOPY --from=builder /sui/target/release/sui-node /opt/sui/bin\n\t\t\n\n\t\tARG BUILD_DATE\n\t\tARG GIT_REVISION\n\n\t\n \n15 changes: 15 additions & 0 deletions\n15  \nnre/README.md\n\t\t@@ -0,0 +1,15 @@\n\t\t# Node and Network Reliability Engineering\n\t\t\n\n\t\t-----\n\t\t\n\n\t\tThis repo contains:\n\t\t\n\n\t\t- [Sui for Node Operators](./sui_for_node_operators.md) - This documentation aggregates all the information about deploying and operating the Sui Node software for Node Operators.\n\t\t\n\n\t\t- `ansible/` - An ansible playbook for standing up your node. Successful execution of the playbook will result in a systemd managed process running sui-node. You can use this or just consult the steps when provisioning your node.\n\t\t\n\n\t\t- `config/` - Sui Node configuration templates.\n\t\t\n\n\t\t- `docker/` - A docker compose configuration for standing up your node. You can use this or just consult the steps when provisioning your node. \n\t\t\n\n\t\t- `systemd/` - Steps to setup your node as a systemd service. You can use this or reference the steps when provisioning your node. \n \n32 changes: 32 additions & 0 deletions\n32  \nnre/ansible/README.md\n\t\t@@ -0,0 +1,32 @@\n\t\t# Configure a Linux system as a Sui Node using Ansible\n\t\t\n\n\t\tThis is a self contained Ansible role for configuring a Linux system as a Sui Node.\n\t\t\n\n\t\tTested with `ansible [core 2.13.4]` and:\n\t\t\n\n\t\t- ubuntu 20.04 (linux/amd64) on bare metal\n\t\t- ubuntu 22.04 (linux/amd64) on bare metal\n\t\t\n\n\t\t## Prerequisites and Setup\n\t\t\n\n\t\t1. Install [Ansible](https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html)\n\t\t\n\n\t\t2. Add the target host to the [Ansible Inventory](./inventory.yaml)\n\t\t\n\n\t\t3. Update the `sui_release` var in the [Ansible Inventory](./inventory.yaml)\n\t\t\n\n\t\t4. Update [validator.yaml](../config/validator.yaml) and copy it to this directory.\n\t\t\n\n\t\t5. Copy the genesis.blob to this directory (should be available after the Genesis ceremony).\n\t\t\n\n\t\t6. Udate the `keypair_path` var in the [Ansible Inventory](./inventory.yaml)\n\t\t\n\n\t\t## Example use:\n\t\t\n\n\t\t- Configure everything:\n\t\t\n\n\t\t`ansible-playbook -i inventory.yaml sui-node.yaml -e host=$inventory_name`\n\t\t\n\n\t\t- Software update:\n\t\t\n\n\t\t`TODO`\n \n10 changes: 10 additions & 0 deletions\n10  \nnre/ansible/inventory.yaml\n\t\t@@ -0,0 +1,10 @@\n\t\t---\n\t\tvalidator:\n\t\t  hosts:\n\t\t    validator:\n\t\t      ansible_host: validator.example.com\n\t\t      ansible_user: ubuntu\n\t\t      sui_release: \"$SUI_SHA\" # UPDATE THIS\n\t\t      node_config: \"./validator.yaml\"\n\t\t      genesis_blob: \"./genesis.blob\"\n\t\t      keypair_path: \"./key-pairs/\"\n \n3 changes: 3 additions & 0 deletions\n3  \nnre/ansible/roles/sui-node/files/journald.conf\n\t\t@@ -0,0 +1,3 @@\n\t\t[Journal]\n\t\tRateLimitBurst=500000\n\t\tForwardToSyslog=no\n \n13 changes: 13 additions & 0 deletions\n13  \nnre/ansible/roles/sui-node/files/sui-node.service\n\t\t@@ -0,0 +1,13 @@\n\t\t[Unit]\n\t\tDescription=Sui Node\n\t\t\n\n\t\t[Service]\n\t\tUser=sui\n\t\tWorkingDirectory=/opt/sui/\n\t\tEnvironment=RUST_BACKTRACE=1\n\t\tEnvironment=RUST_LOG=info,sui_core=debug,narwhal=debug,narwhal-primary::helper=info\n\t\tExecStart=/opt/sui/bin/sui-node --config-path /opt/sui/config/validator.yaml\n\t\tRestart=always\n\t\t\n\n\t\t[Install]\n\t\tWantedBy=multi-user.target\n \n87 changes: 87 additions & 0 deletions\n87  \nnre/ansible/roles/sui-node/tasks/iptables.yaml\n\t\t@@ -0,0 +1,87 @@\n\t\t---\n\t\t- name: Set the policy for the INPUT chain to ACCEPT (IPv4)\n\t\t  iptables:\n\t\t    chain: INPUT\n\t\t    ip_version: ipv4\n\t\t    policy: ACCEPT\n\t\t\n\n\t\t- name: Flush filter chains (IPv4)\n\t\t  ansible.builtin.iptables:\n\t\t    chain: \"{{ item }}\"\n\t\t    ip_version: ipv4\n\t\t    flush: yes\n\t\t  with_items: [\"INPUT\", \"FORWARD\", \"OUTPUT\"]\n\t\t\n\n\t\t- name: Flush filter chains (IPv6)\n\t\t  ansible.builtin.iptables:\n\t\t    chain: \"{{ item }}\"\n\t\t    ip_version: ipv6\n\t\t    flush: yes\n\t\t  with_items: [\"INPUT\", \"FORWARD\", \"OUTPUT\"]\n\t\t\n\n\t\t- name: Allow all loopback connectivity\n\t\t  ansible.builtin.iptables:\n\t\t    chain: INPUT\n\t\t    in_interface: lo\n\t\t    jump: ACCEPT\n\t\t\n\n\t\t- name: Allow TCP port 22 / SSH connectivity\n\t\t  ansible.builtin.iptables:\n\t\t    chain: INPUT\n\t\t    destination_port: 22\n\t\t    jump: ACCEPT\n\t\t    protocol: tcp\n\t\t\n\n\t\t- name: Allow established and related connectivity\n\t\t  iptables:\n\t\t    chain: INPUT\n\t\t    ctstate: ESTABLISHED,RELATED\n\t\t    jump: ACCEPT\n\t\t\n\n\t\t- name: Allow TCP destination port 8080 / sui-node protocol connectivity\n\t\t  iptables:\n\t\t    chain: INPUT\n\t\t    destination_port: 8080\n\t\t    jump: ACCEPT\n\t\t    protocol: tcp\n\t\t    comment: sui-node protocol\n\t\t\n\n\t\t- name: Allow UDP destination port 8081 / sui-node narwhal-primary-address connectivity\n\t\t  iptables:\n\t\t    chain: INPUT\n\t\t    destination_port: 8081\n\t\t    jump: ACCEPT\n\t\t    protocol: udp\n\t\t    comment: sui-node narwhal-primary-address\n\t\t\n\n\t\t- name: Allow UDP destination port 8082 / sui-node narwhal-worker-address connectivity\n\t\t  iptables:\n\t\t    chain: INPUT\n\t\t    destination_port: 8082\n\t\t    jump: ACCEPT\n\t\t    protocol: udp\n\t\t    comment: sui-node narwhal-worker-address\n\t\t\n\n\t\t- name: Allow UDP destination port 8084 / sui-node peer-to-peer connectivity\n\t\t  iptables:\n\t\t    chain: INPUT\n\t\t    destination_port: 8084\n\t\t    jump: ACCEPT\n\t\t    protocol: udp\n\t\t    comment: sui-node peer-to-peer\n\t\t\n\n\t\t- name: Set the policy for the INPUT chain to DROP (IPv4)\n\t\t  iptables:\n\t\t    chain: INPUT\n\t\t    ip_version: ipv4\n\t\t    policy: DROP\n\t\t\n\n\t\t- name: Set the policy for the INPUT chain to DROP (IPv6)\n\t\t  iptables:\n\t\t    chain: INPUT\n\t\t    ip_version: ipv6\n\t\t    policy: DROP\n\t\t\n\n\t\t- name: Save iptables configuration (/etc/iptables/)\n\t\t  ansible.builtin.command: netfilter-persistent save\n\t\t  become: yes\n \n21 changes: 21 additions & 0 deletions\n21  \nnre/ansible/roles/sui-node/tasks/main.yaml\n\t\t@@ -0,0 +1,21 @@\n\t\t---\n\t\t- name: Install required system packages\n\t\t  apt: name={{ item }} state=latest update_cache=yes\n\t\t  loop: [\n\t\t    'iptables-persistent'\n\t\t  ]\n\t\t\n\n\t\t- name: Include Ubuntu tasks\n\t\t  ansible.builtin.include_tasks: \"{{ role_path }}/tasks/ubuntu.yaml\"\n\t\t  when: ansible_distribution == 'Ubuntu'\n\t\t\n\n\t\t- name: Include iptables tasks\n\t\t  ansible.builtin.include_tasks: \"{{ role_path }}/tasks/iptables.yaml\"\n\t\t  when: skip_iptables == false\n\t\t\n\n\t\t- name: Include monitoring tasks\n\t\t  ansible.builtin.include_tasks: \"{{ role_path }}/tasks/monitoring.yaml\"\n\t\t  when: skip_monitoring == false\n\t\t\n\n\t\t- name: Include Sui tasks\n\t\t  ansible.builtin.include_tasks: \"{{ role_path }}/tasks/sui.yaml\"\n \n12 changes: 12 additions & 0 deletions\n12  \nnre/ansible/roles/sui-node/tasks/monitoring.yaml\n\t\t@@ -0,0 +1,12 @@\n\t\t---\n\t\t- name: Copy journald.conf\n\t\t  copy:\n\t\t    src: \"../files/journald.conf\"\n\t\t    dest: /etc/systemd/journald.conf\n\t\t    mode: 0644\n\t\t\n\n\t\t- name: Reload systemd-journald\n\t\t  systemd:\n\t\t    name: systemd-journald\n\t\t    state: restarted\n\t\t\n\n \n107 changes: 107 additions & 0 deletions\n107  \nnre/ansible/roles/sui-node/tasks/sui.yaml\n\t\t@@ -0,0 +1,107 @@\n\t\t---\n\t\t- name: Add a sui user\n\t\t  ansible.builtin.user:\n\t\t    name: sui\n\t\t    shell: /bin/bash\n\t\t\n\n\t\t- name: Create sui directories\n\t\t  file:\n\t\t    path: \"{{ item }}\"\n\t\t    state: directory\n\t\t    owner: \"sui\"\n\t\t    group: \"sui\"\n\t\t    mode: 0755\n\t\t  loop:\n\t\t    - /opt/sui/bin\n\t\t    - /opt/sui/config\n\t\t    - /opt/sui/db\n\t\t    - /opt/sui/key-pairs\n\t\t\n\n\t\t- name: Copy validator configuration file\n\t\t  copy:\n\t\t    src: \"{{ node_config }}\"\n\t\t    dest: /opt/sui/config/validator.yaml\n\t\t    owner: \"sui\"\n\t\t    group: \"sui\"\n\t\t    mode: 0644\n\t\t\n\n\t\t- name: Copy genesis.blob\n\t\t  copy:\n\t\t    src: \"{{ genesis_blob }}\"\n\t\t    dest: /opt/sui/config/genesis.blob\n\t\t    owner: \"sui\"\n\t\t    group: \"sui\"\n\t\t    mode: 0644\n\t\t\n\n\t\t- name: Copy protocol.key\n\t\t  copy:\n\t\t    src: \"{{ keypair_path }}protocol.key\"\n\t\t    dest: /opt/sui/key-pairs/protocol.key\n\t\t    owner: \"sui\"\n\t\t    group: \"sui\"\n\t\t    mode: 0600\n\t\t\n\n\t\t- name: Copy account.key\n\t\t  copy:\n\t\t    src: \"{{ keypair_path }}account.key\"\n\t\t    dest: /opt/sui/key-pairs/account.key\n\t\t    owner: \"sui\"\n\t\t    group: \"sui\"\n\t\t    mode: 0600\n\t\t\n\n\t\t- name: Copy network.key\n\t\t  copy:\n\t\t    src: \"{{ keypair_path }}network.key\"\n\t\t    dest: /opt/sui/key-pairs/network.key\n\t\t    owner: \"sui\"\n\t\t    group: \"sui\"\n\t\t    mode: 0600\n\t\t\n\n\t\t- name: Copy worker.key\n\t\t  copy:\n\t\t    src: \"{{ keypair_path }}worker.key\"\n\t\t    dest: /opt/sui/key-pairs/worker.key\n\t\t    owner: \"sui\"\n\t\t    group: \"sui\"\n\t\t    mode: 0600\n\t\t\n\n\t\t- name: Stop sui-node\n\t\t  systemd:\n\t\t    name: sui-node\n\t\t    state: stopped\n\t\t  ignore_errors: yes\n\t\t\n\n\t\t- name: Remove authorities directory\n\t\t  file:\n\t\t    state: absent\n\t\t    path: \"/opt/sui/db/authorities_db\"\n\t\t  when: reset_db == true\n\t\t\n\n\t\t- name: Remove consensus directory\n\t\t  file:\n\t\t    state: absent\n\t\t    path: \"/opt/sui/db/consensus_db\"\n\t\t  when: reset_db == true\n\t\t\n\n\t\t- name: Place binary\n\t\t  ansible.builtin.get_url:\n\t\t    url: \"https://releases.sui.io/{{ sui_release }}/sui-node\"\n\t\t    dest: /opt/sui/bin/sui-node\n\t\t    force: true\n\t\t    mode: \"0755\"\n\t\t\n\n\t\t- name: Copy sui-node systemd service file\n\t\t  copy:\n\t\t    src: \"../files/sui-node.service\"\n\t\t    dest: /etc/systemd/system/sui-node.service\n\t\t\n\n\t\t- name: Reload sui-node systemd service file\n\t\t  ansible.builtin.systemd:\n\t\t    name: sui-node\n\t\t    state: reloaded\n\t\t\n\n\t\t- name: Start sui-node service\n\t\t  systemd:\n\t\t    name: sui-node\n\t\t    state: started\n\t\t  when: start_sui == true\n \n6 changes: 6 additions & 0 deletions\n6  \nnre/ansible/roles/sui-node/tasks/ubuntu.yaml\n\t\t@@ -0,0 +1,6 @@\n\t\t---\n\t\t# disable ufw as iptables is being manipulated directly\n\t\t- name: Disable UFW\n\t\t  community.general.ufw:\n\t\t    state: disabled\n\t\t  when: skip_iptables == false and (ansible_distribution_version == \"20.04\" or ansible_distribution_version == \"22.04\")\n \n10 changes: 10 additions & 0 deletions\n10  \nnre/ansible/sui-node.yaml\n\t\t@@ -0,0 +1,10 @@\n\t\t---\n\t\t- hosts: \"{{ host }}\"\n\t\t  become: yes\n\t\t  roles:\n\t\t    - sui-node\n\t\t  vars:\n\t\t    skip_iptables: false\n\t\t    skip_monitoring: false\n\t\t    reset_db: false\n\t\t    start_sui: true\n0 comments on commit 19ba67d\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "sui/doc/paper at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/tree/main/doc/paper",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nconsensus\ncrates\ndapps\ndashboards\ndoc/paper\nsui-lutris.pdf\nsui.pdf\ntokenomics.pdf\ndocker\ndocs\nexamples\nexternal-crates\nkiosk\nnarwhal\nnre\nscripts\nsdk\nsui-execution\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui/doc\n/paper/\nDirectory actions\nMore options\nLatest commit\nronny-mysten\n[docs] PDFs to correct broken links (#15253)\ndd4514d\n · \nHistory\nHistory\nFolders and files\nName\tLast commit message\tLast commit date\n\nparent directory\n..\n\n\nsui-lutris.pdf\n\t\n[docs] PDFs to correct broken links (#15253)\n\t\n\n\nsui.pdf\n\t\n[docs] PDFs to correct broken links (#15253)\n\t\n\n\ntokenomics.pdf\n\t\n[docs] PDFs to correct broken links (#15253)\n\t"
    },
    {
      "title": "add node operator documentation by tharbert · Pull Request #9190 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/9190",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\nadd node operator documentation #9190\n Merged\ntharbert merged 2 commits into main from tharbert/nre_infra_docs \n Conversation 3\n Commits 2\n Checks 0\n Files changed\nConversation\nContributor\ntharbert commented \n\nas titled\n\nadd node operator documentation\ncf9c5f6\n tharbert requested review from bmwill, longbowlu, johnjmartin and emmazzz \n tharbert requested review from randall-Mysten and ronny-mysten as code owners \nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\n3 Ignored Deployments\njohnjmartin approved these changes \nView reviewed changes\nemmazzz reviewed \nView reviewed changes\nnre/sui_for_node_operators.md\nOutdated\nShow resolved\nadd documentation on joining and leaving validator set\n5a1c6bd\n tharbert merged commit 19ba67d into main \n tharbert deleted the tharbert/nre_infra_docs branch \nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\nemmazzz\n\njohnjmartin\n\nbmwill\n\nlongbowlu\n\nrandall-Mysten\n\nronny-mysten\n\nAssignees\nNo one assigned\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n3 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "sui/dashboards at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/tree/main/dashboards",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nconsensus\ncrates\ndapps\ndashboards\nREADME.md\ndoc\ndocker\ndocs\nexamples\nexternal-crates\nkiosk\nnarwhal\nnre\nscripts\nsdk\nsui-execution\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui\n/dashboards/\nDirectory actions\nMore options\nLatest commit\ntharbert\nadd node operator documentation (#9190)\n19ba67d\n · \nHistory\nHistory\nFolders and files\nName\tLast commit message\tLast commit date\n\nparent directory\n..\n\n\nREADME.md\n\t\nadd node operator documentation (#9190)\n\t"
    },
    {
      "title": "[Kiosk demo] Add support for network selector (#17434) · MystenLabs/sui@7f9b676 · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/7f9b6761f27e33cd0ae85470b7b1d44ce1ad5993",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\n[Kiosk demo] Add support for network selector (#17434)\nBrowse files\n## Description \n\nAdds support for kiosk demo for all networks.\n\n## Test plan \n\nHow did you test the new or updated feature?\n\n---\n\n## Release notes\n\nCheck each box that your changes affect. If none of the boxes relate to\nyour changes, release notes aren't required.\n\nFor each box you select, include information after the relevant heading\nthat describes the impact of your changes that a user might notice and\nany actions they must take to implement updates.\n\n- [ ] Protocol: \n- [ ] Nodes (Validators and Full nodes): \n- [ ] Indexer: \n- [ ] JSON-RPC: \n- [ ] GraphQL: \n- [ ] CLI: \n- [ ] Rust SDK:\n Loading branch information\nmanolisliolios committed  \n1 parent 0f5cef3\ncommit 7f9b676\n \nShowing 5 changed files with 40 additions and 18 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\ndapps/kiosk/src\nRoot.tsx\ncomponents/Base\nHeader.tsx\nSuiConnectButton.tsx\ncontext\nKioskClientContext.tsx\nhooks\nkiosk.ts\n  \n20 changes: 12 additions & 8 deletions\n20  \ndapps/kiosk/src/Root.tsx\n\t\t@@ -1,26 +1,30 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\timport { SuiClientProvider, WalletProvider } from '@mysten/dapp-kit';\n\t\timport { createNetworkConfig, SuiClientProvider, WalletProvider } from '@mysten/dapp-kit';\n\t\timport { getFullnodeUrl } from '@mysten/sui.js/client';\n\t\timport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\n\t\timport { Toaster } from 'react-hot-toast';\n\t\timport { Outlet } from 'react-router-dom';\n\t\t\n\n\t\timport { Header } from './components/Base/Header';\n\t\timport { KisokClientProvider } from './context/KioskClientContext';\n\t\timport { KioskClientProvider } from './context/KioskClientContext';\n\t\t\n\n\t\tconst queryClient = new QueryClient();\n\t\t\n\n\t\tconst { networkConfig } = createNetworkConfig({\n\t\t\tlocalnet: { url: getFullnodeUrl('localnet') },\n\t\t\tdevnet: { url: getFullnodeUrl('devnet') },\n\t\t\ttestnet: { url: getFullnodeUrl('testnet') },\n\t\t\tmainnet: { url: getFullnodeUrl('mainnet') },\n\t\t});\n\t\t\n\n\t\texport default function Root() {\n\t\t\treturn (\n\t\t\t\t<QueryClientProvider client={queryClient}>\n\t\t\t\t\t<SuiClientProvider\n\t\t\t\t\t\tdefaultNetwork=\"testnet\"\n\t\t\t\t\t\tnetworks={{ testnet: { url: getFullnodeUrl('testnet') } }}\n\t\t\t\t\t>\n\t\t\t\t\t<SuiClientProvider defaultNetwork=\"testnet\" networks={networkConfig}>\n\t\t\t\t\t\t<WalletProvider>\n\t\t\t\t\t\t\t<KisokClientProvider>\n\t\t\t\t\t\t\t<KioskClientProvider>\n\t\t\t\t\t\t\t\t<Header />\n\t\t\t\t\t\t\t\t<div className=\"min-h-[80vh]\">\n\t\t\t\t\t\t\t\t\t<Outlet />\n\n\t@@ -29,7 +33,7 @@ export default function Root() {\n\t\t\t\t\t\t\t\t\tCopyright © Mysten Labs, Inc.\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Toaster position=\"bottom-center\" />\n\t\t\t\t\t\t\t</KisokClientProvider>\n\t\t\t\t\t\t\t</KioskClientProvider>\n\t\t\t\t\t\t</WalletProvider>\n\t\t\t\t\t</SuiClientProvider>\n\t\t\t\t</QueryClientProvider>\n\n\t\n  \n16 changes: 15 additions & 1 deletion\n16  \ndapps/kiosk/src/components/Base/Header.tsx\n\t\t@@ -1,6 +1,7 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\timport { useSuiClientContext } from '@mysten/dapp-kit';\n\t\timport classNames from 'clsx';\n\t\timport { useLocation, useNavigate } from 'react-router-dom';\n\t\t\n\n\n\t@@ -11,6 +12,8 @@ import { SuiConnectButton } from './SuiConnectButton';\n\t\texport function Header() {\n\t\t\tconst navigate = useNavigate();\n\t\t\n\n\t\t\tconst { network, networks, selectNetwork } = useSuiClientContext();\n\t\t\n\n\t\t\tconst location = useLocation();\n\t\t\tconst isHome = location.pathname === '/';\n\t\t\n\n\n\t@@ -47,7 +50,18 @@ export function Header() {\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<FindKiosk />\n\t\t\t\t\t\t<div className=\"ml-auto my-3 md:my-1\">\n\t\t\t\t\t\t<div className=\"ml-auto my-3 md:my-1 flex gap-5 items-center\">\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tvalue={network}\n\t\t\t\t\t\t\t\tonChange={(e) => selectNetwork(e.target.value)}\n\t\t\t\t\t\t\t\tclassName=\"bg-gray-50 border border-gray-300 text-gray-900 h-[45px] text-sm rounded-lg focus:ring-primary focus:border-primary block w-full p-2.5\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{Object.keys(networks).map((n) => (\n\t\t\t\t\t\t\t\t\t<option key={n} value={n}>\n\t\t\t\t\t\t\t\t\t\t{n}\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t<SuiConnectButton></SuiConnectButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \ndapps/kiosk/src/components/Base/SuiConnectButton.tsx\n\t@@ -4,5 +4,5 @@\n\t\timport { ConnectButton } from '@mysten/dapp-kit';\n\t\t\n\n\t\texport function SuiConnectButton() {\n\t\t\treturn <ConnectButton />;\n\t\t\treturn <ConnectButton className=\"flex-shrink-0\" />;\n\t\t}\n \n9 changes: 5 additions & 4 deletions\n9  \ndapps/kiosk/src/context/KioskClientContext.tsx\n\t\t@@ -1,21 +1,22 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\timport { useSuiClient } from '@mysten/dapp-kit';\n\t\timport { useSuiClient, useSuiClientContext } from '@mysten/dapp-kit';\n\t\timport { KioskClient, Network } from '@mysten/kiosk';\n\t\timport { createContext, ReactNode, useContext, useMemo } from 'react';\n\t\t\n\n\t\texport const KioskClientContext = createContext<KioskClient | undefined>(undefined);\n\t\t\n\n\t\texport function KisokClientProvider({ children }: { children: ReactNode }) {\n\t\texport function KioskClientProvider({ children }: { children: ReactNode }) {\n\t\t\tconst suiClient = useSuiClient();\n\t\t\tconst { network } = useSuiClientContext();\n\t\t\tconst kioskClient = useMemo(\n\t\t\t\t() =>\n\t\t\t\t\tnew KioskClient({\n\t\t\t\t\t\tclient: suiClient,\n\t\t\t\t\t\tnetwork: Network.TESTNET,\n\t\t\t\t\t\tnetwork: network as Network,\n\t\t\t\t\t}),\n\t\t\t\t[suiClient],\n\t\t\t\t[suiClient, network],\n\t\t\t);\n\t\t\n\n\t\t\treturn <KioskClientContext.Provider value={kioskClient}>{children}</KioskClientContext.Provider>;\n\n\t\n  \n11 changes: 7 additions & 4 deletions\n11  \ndapps/kiosk/src/hooks/kiosk.ts\n\t@@ -2,7 +2,7 @@\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t/* eslint-disable @tanstack/query/exhaustive-deps */\n\t\t\n\n\t\timport { useSuiClient } from '@mysten/dapp-kit';\n\t\timport { useSuiClient, useSuiClientContext } from '@mysten/dapp-kit';\n\t\timport {\n\t\t\tgetKioskObject,\n\t\t\tKiosk,\n\n\t@@ -31,9 +31,10 @@ export type KioskFnType = (item: OwnedObjectType, price?: string) => Promise<voi\n\t\t */\n\t\texport function useOwnedKiosk(address: string | undefined) {\n\t\t\tconst kioskClient = useKioskClient();\n\t\t\tconst { network } = useSuiClientContext();\n\t\t\n\n\t\t\treturn useQuery({\n\t\t\t\tqueryKey: [TANSTACK_OWNED_KIOSK_KEY, address],\n\t\t\t\tqueryKey: [TANSTACK_OWNED_KIOSK_KEY, address, network],\n\t\t\t\trefetchOnMount: false,\n\t\t\t\tretry: false,\n\t\t\t\tqueryFn: async (): Promise<{\n\n\t@@ -59,9 +60,10 @@ export function useOwnedKiosk(address: string | undefined) {\n\t\t */\n\t\texport function useKiosk(kioskId: string | undefined | null) {\n\t\t\tconst kioskClient = useKioskClient();\n\t\t\tconst { network } = useSuiClientContext();\n\t\t\n\n\t\t\treturn useQuery({\n\t\t\t\tqueryKey: [TANSTACK_KIOSK_KEY, kioskId],\n\t\t\t\tqueryKey: [TANSTACK_KIOSK_KEY, kioskId, network],\n\t\t\t\tqueryFn: async (): Promise<{\n\t\t\t\t\tkioskData: KioskData | null;\n\t\t\t\t\titems: SuiObjectResponse[];\n\n\t@@ -115,9 +117,10 @@ export function useKiosk(kioskId: string | undefined | null) {\n\t\t */\n\t\texport function useKioskDetails(kioskId: string | undefined | null) {\n\t\t\tconst client = useSuiClient();\n\t\t\tconst { network } = useSuiClientContext();\n\t\t\n\n\t\t\treturn useQuery({\n\t\t\t\tqueryKey: [TANSTACK_KIOSK_DATA_KEY, kioskId],\n\t\t\t\tqueryKey: [TANSTACK_KIOSK_DATA_KEY, kioskId, network],\n\t\t\t\tqueryFn: async (): Promise<Kiosk | null> => {\n\t\t\t\t\tif (!kioskId) return null;\n\t\t\t\t\treturn await getKioskObject(client, kioskId);\n\n\t\n0 comments on commit 7f9b676\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "[Kiosk demo] Add support for network selector by manolisliolios · Pull Request #17434 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/17434",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\n[Kiosk demo] Add support for network selector #17434\n Merged\nmanolisliolios merged 1 commit into main from ml/kiosk-app-networks \n Conversation 1\n Commits 1\n Checks 46\n Files changed\nConversation\nContributor\nmanolisliolios commented \nDescription\n\nAdds support for kiosk demo for all networks.\n\nTest plan\n\nHow did you test the new or updated feature?\n\nRelease notes\n\nCheck each box that your changes affect. If none of the boxes relate to your changes, release notes aren't required.\n\nFor each box you select, include information after the relevant heading that describes the impact of your changes that a user might notice and any actions they must take to implement updates.\n\n Protocol:\n Nodes (Validators and Full nodes):\n Indexer:\n JSON-RPC:\n GraphQL:\n CLI:\n Rust SDK:\nKiosk app working on all networks\na7c6561\nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nsui-docs\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMay 1, 2024 7:05am\nsui-kiosk\t✅ Ready (Inspect)\tVisit Preview\t\tMay 1, 2024 7:05am\n2 Ignored Deployments\n vercel bot deployed to Preview – sui-docs \nView deployment\nplam-ml approved these changes \nView reviewed changes\nView details\n manolisliolios merged commit 7f9b676 into main \n50 checks passed\n manolisliolios deleted the ml/kiosk-app-networks branch \nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\nplam-ml\n\nAssignees\nNo one assigned\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n2 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "sui/crates at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/tree/main/crates",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nconsensus\ncrates\nanemo-benchmark\nbin-version\nmysten-common\nmysten-metrics\nmysten-network\nmysten-service-boilerplate\nmysten-service\nmysten-util-mem-derive\nmysten-util-mem\nprometheus-closure-metric\nshared-crypto\nsimulacrum\nsui-adapter-transactional-tests\nsui-analytics-indexer-derive\nsui-analytics-indexer\nsui-archival\nsui-authority-aggregation\nsui-aws-orchestrator\nsui-axelar-cgp\nsui-benchmark\nsui-bridge\nsui-cluster-test\nsui-common\nsui-config\nsui-core\nsui-cost\nsui-data-ingestion-core\nsui-data-ingestion\nsui-e2e-tests\nsui-enum-compat-util\nsui-faucet\nsui-framework-snapshot\nsui-framework-tests\nsui-framework\nsui-genesis-builder\nsui-graphql-e2e-tests\nsui-graphql-rpc-client\nsui-graphql-rpc-headers\nsui-graphql-rpc\nsui-indexer\nsui-json-rpc-api\nsui-json-rpc-tests\nsui-json-rpc-types\nsui-json-rpc\nsui-json\nsui-keys\nsui-light-client\nsui-macros\nsui-metric-checker\nsui-move-build\nsui-move\nsui-network\nsui-node\nsui-open-rpc-macros\nsui-open-rpc\nsui-oracle\nsui-package-management\nsui-package-resolver\nsui-proc-macros\nsui-protocol-config-macros\nsui-protocol-config\nsui-proxy\nsui-replay\nsui-rest-api\nsui-rosetta\nBreadcrumbs\nsui\n/crates/\nDirectory actions\nMore options\nLatest commit\njohnjmartin\n[fix][homebrew] don't panic if git commit unavailable (#17760)\nf1aba95\n · \nHistory\nHistory\nFolders and files\nName\tLast commit message\tLast commit date\n\nparent directory\n..\n\n\nanemo-benchmark\n\t\nworkspace-hack: stop having all workspace crates depend on workspace …\n\t\n\n\nbin-version\n\t\n[fix][homebrew] don't panic if git commit unavailable (#17760)\n\t\n\n\nmysten-common\n\t\nworkspace-hack: stop having all workspace crates depend on workspace …\n\t\n\n\nmysten-metrics\n\t\nworkspace-hack: stop having all workspace crates depend on workspace …\n\t\n\n\nmysten-network\n\t\nUpgrade tonic and prost (#16833)\n\t\n\n\nmysten-service-boilerplate\n\t\n[suiop][service-boilerplate] move the crate out of the workspace (#17088\n\t\n\n\nmysten-service\n\t\nworkspace-hack: stop having all workspace crates depend on workspace …\n\t\n\n\nmysten-util-mem-derive\n\t\nworkspace-hack: stop having all workspace crates depend on workspace …\n\t\n\n\nmysten-util-mem\n\t\nworkspace-hack: stop having all workspace crates depend on workspace …\n\t\n\n\nprometheus-closure-metric\n\t\nworkspace-hack: stop having all workspace crates depend on workspace …\n\t\n\n\nshared-crypto\n\t\nworkspace-hack: stop having all workspace crates depend on workspace …\n\t\n\n\nsimulacrum\n\t\nadd caching for zklogin verify (#17440)\n\t\n\n\nsui-adapter-transactional-tests\n\t\n[move] Update object output format for view-object in transactional…\n\t\n\n\nsui-analytics-indexer-derive\n\t\nworkspace-hack: stop having all workspace crates depend on workspace …\n\t\n\n\nsui-analytics-indexer\n\t\n[GraphQL/DataLoader] Data Loader for Package Resolver (#17298)\n\t\n\n\nsui-archival\n\t\nAdd tools to print and update archive manifest (#16864)\n\t\n\n\nsui-authority-aggregation\n\t\nworkspace-hack: stop having all workspace crates depend on workspace …\n\t\n\n\nsui-aws-orchestrator\n\t\n[Consensus] support dns addresses (#16689)\n\t\n\n\nsui-axelar-cgp\n\t\n[chore] Remove friend migration artifacts (#17100)\n\t\n\n\nsui-benchmark\n\t\n[consensus] Add failpoint for leader schedule change (#17732)\n\t\n\n\nsui-bridge\n\t\nuse env var to set consensus min delay in tests (#17750)\n\t\n\n\nsui-cluster-test\n\t\n[sui-client] Add basic auth option to client rpc config (#17652)\n\t\n\n\nsui-common\n\t\nworkspace-hack: stop having all workspace crates depend on workspace …\n\t\n\n\nsui-config\n\t\nSui Native bridge (#17579)\n\t\n\n\nsui-core\n\t\nFilter out ignored tx from checkpoint roots (not just deferred) (#17664)\n\t\n\n\nsui-cost\n\t\nRevert \"[std] Better ASCII methods + minor cleanup in std (#17380)\" (#…\n\t\n\n\nsui-data-ingestion-core\n\t\n[data ingestion] allow http in remote store address (#17546)\n\t\n\n\nsui-data-ingestion\n\t\n[data ingestion] archival timestamp fix (#17481)\n\t\n\n\nsui-e2e-tests\n\t\nRemove unused import (#17704)\n\t\n\n\nsui-enum-compat-util\n\t\nworkspace-hack: stop having all workspace crates depend on workspace …\n\t\n\n\nsui-faucet\n\t\n[cli][refactor] Move all the commands logic into a function to reduce…\n\t\n\n\nsui-framework-snapshot\n\t\ncherry-pick from release branch to main (#17729)\n\t\n\n\nsui-framework-tests\n\t\nSui Native bridge (#17579)\n\t\n\n\nsui-framework\n\t\ncherry-pick from release branch to main (#17729)\n\t\n\n\nsui-genesis-builder\n\t\nSui Native bridge (#17579)\n\t\n\n\nsui-graphql-e2e-tests\n\t\n[GraphQL] Add available versions query to service config (#17503)\n\t\n\n\nsui-graphql-rpc-client\n\t\nworkspace-hack: stop having all workspace crates depend on workspace …\n\t\n\n\nsui-graphql-rpc-headers\n\t\nworkspace-hack: stop having all workspace crates depend on workspace …\n\t\n\n\nsui-graphql-rpc\n\t\n[GraphQL/Consistency][chore] Update checkpoint_viewed_at comment (#17695\n\t\n\n\nsui-indexer\n\t\nindexer logging: DB connection & reset info (#17728)\n\t\n\n\nsui-json-rpc-api\n\t\nSui Native bridge (#17579)\n\t\n\n\nsui-json-rpc-tests\n\t\nSuppress simtest warnings (#17537)\n\t\n\n\nsui-json-rpc-types\n\t\nSui Native bridge (#17579)\n\t\n\n\nsui-json-rpc\n\t\nfix: Remove redundant dot in error message (#17362)\n\t\n\n\nsui-json\n\t\n[cleanup] Remove ModuleAccess and views (#17141)\n\t\n\n\nsui-keys\n\t\nworkspace-hack: stop having all workspace crates depend on workspace …\n\t\n\n\nsui-light-client\n\t\nRefactor signature verification without traits (#17280)\n\t\n\n\nsui-macros\n\t\nSplit object lock table into two tables (#16352)\n\t\n\n\nsui-metric-checker\n\t\nworkspace-hack: stop having all workspace crates depend on workspace …\n\t\n\n\nsui-move-build\n\t\nSui Native bridge (#17579)\n\t\n\n\nsui-move\n\t\nsui-move: use bin-version\n\t\n\n\nsui-network\n\t\nRandomness: remove partial sigs when full sig is received via checkpo…\n\t\n\n\nsui-node\n\t\nSui Native bridge (#17579)\n\t\n\n\nsui-open-rpc-macros\n\t\n[core/networking][1/n] Introduce protocol level IP monitoring and blo…\n\t\n\n\nsui-open-rpc\n\t\nSui v1.26.0 Version bump (#17624)\n\t\n\n\nsui-oracle\n\t\n[chore] Migrated many legacy Move packages (#17092)\n\t\n\n\nsui-package-management\n\t\nmove: write managed package data to lock (automated addys) (#17024)\n\t\n\n\nsui-package-resolver\n\t\n[graphql] Add support for clever error resolution in graphql (#17338)\n\t\n\n\nsui-proc-macros\n\t\nworkspace-hack: stop having all workspace crates depend on workspace …\n\t\n\n\nsui-protocol-config-macros\n\t\nworkspace-hack: stop having all workspace crates depend on workspace …\n\t\n\n\nsui-protocol-config\n\t\nRevert random beacon in testnet (#17665)\n\t\n\n\nsui-proxy\n\t\n[tls] add ServerCertVerifier (#17625)\n\t\n\n\nsui-replay\n\t\n[replay] Remove bcs serde support for sandbox data (#17581)\n\t\n\n\nsui-rest-api\n\t\nworkspace-hack: stop having all workspace crates depend on workspace …\n\t\n\n\nsui-rosetta\n\t\nadd caching for zklogin verify (#17440)\n\t\n\n\nsui-rpc-loadgen\n\t\nworkspace-hack: stop having all workspace crates depend on workspace …\n\t\n\n\nsui-sdk\n\t\n[sui-client] Add basic auth option to client rpc config (#17652)\n\t\n\n\nsui-security-watchdog\n\t\nread secrets from env instead of cli args (#17184)\n\t\n\n\nsui-simulator\n\t\nTxManager::enqueue does not need to return Result (#16450)\n\t\n\n\nsui-single-node-benchmark\n\t\nCreate consensus commit prologue transaction after finishing processi…\n\t\n\n\nsui-snapshot\n\t\nDrop marker in db checkpoint which has state snapshot (#17057)\n\t\n\n\nsui-source-validation-service\n\t\n[cli][refactor] Move all the commands logic into a function to reduce…\n\t\n\n\nsui-source-validation\n\t\n[cleanup] Remove ModuleAccess and views (#17141)\n\t\n\n\nsui-storage\n\t\nAdd TestEffectsBuilder (#16889)\n\t\n\n\nsui-surfer\n\t\nAdd option for min interval between tx for sui surfer (#17575)\n\t\n\n\nsui-swarm-config\n\t\ncherry-pick from release branch to main (#17729)\n\t\n\n\nsui-swarm\n\t\nRun sui-surfer in simtest.rs (#14409)\n\t\n\n\nsui-telemetry\n\t\nworkspace-hack: stop having all workspace crates depend on workspace …\n\t\n\n\nsui-test-transaction-builder\n\t\n[core/networking][3/n] Introduce traffic control on fullnodes (#16165)\n\t\n\n\nsui-test-validator\n\t\nworkspace-hack: stop having all workspace crates depend on workspace …\n\t\n\n\nsui-tls\n\t\n[tls] add ServerCertVerifier (#17625)\n\t\n\n\nsui-tool\n\t\n[sui-tool] check locked objects and rescue flow (#17514)\n\t\n\n\nsui-transaction-builder\n\t\njson rpc: de-dup intermediate digests in query_transaction_blocks (#1…\n\t\n\n\nsui-transaction-checks\n\t\nCongestion control triggered transaction cancellation (#17200)\n\t\n\n\nsui-transactional-test-runner\n\t\nSui Native bridge (#17579)\n\t\n\n\nsui-types\n\t\ncherry-pick from release branch to main (#17729)\n\t\n\n\nsui-upgrade-compatibility-transactional-tests\n\t\n[chore] Remove friend migration artifacts (#17100)\n\t\n\n\nsui-verifier-transactional-tests\n\t\nReject entry functions with mutable Random (#16254)\n\t\n\n\nsui\n\t\n[cli] Fix cli client publish path (#17749)\n\t\n\n\nsuins-indexer\n\t\n[SuiNS Indexer] Mainnet values & stricter check (#17754)\n\t\n\n\nsuiop-cli\n\t\n[suiop][docker-gen] e2e ts dockerfile template generation (#17547)\n\t\n\n\ntelemetry-subscribers\n\t\n[Consensus] start service with unspecified IP (#16658)\n\t\n\n\ntest-cluster\n\t\n[sui-client] Add basic auth option to client rpc config (#17652)\n\t\n\n\ntransaction-fuzzer\n\t\n[chore] Migrated many legacy Move packages (#17092)\n\t\n\n\ntyped-store-derive\n\t\nSplit object lock table into two tables (#16352)\n\t\n\n\ntyped-store-error\n\t\nworkspace-hack: stop having all workspace crates depend on workspace …\n\t\n\n\ntyped-store\n\t\nAdd #[rename = name] attribute. (#16366)\n\t\n\n\nx\n\t\nAdd graphql package (#16067)\n\t\n "
    },
    {
      "title": "sui/dapps at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/tree/main/dapps",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nconsensus\ncrates\ndapps\nkiosk-cli\nkiosk\nmultisig-toolkit\nregulated-token\nsponsored-transactions\nREADME.md\ndashboards\ndoc\ndocker\ndocs\nexamples\nexternal-crates\nkiosk\nnarwhal\nnre\nscripts\nsdk\nsui-execution\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui\n/dapps/\nDirectory actions\nMore options\nLatest commit\nmanolisliolios\n[Kiosk demo] Add support for network selector (#17434)\n7f9b676\n · \nHistory\nHistory\nFolders and files\nName\tLast commit message\tLast commit date\n\nparent directory\n..\n\n\nkiosk-cli\n\t\nRemove unneeded changelogs (#15051)\n\t\n\n\nkiosk\n\t\n[Kiosk demo] Add support for network selector (#17434)\n\t\n\n\nmultisig-toolkit\n\t\n[Multisig Toolkit] Add mobile menu, improve create address UX. (#17175)\n\t\n\n\nregulated-token\n\t\n[chore] Migrated many legacy Move packages (#17092)\n\t\n\n\nsponsored-transactions\n\t\nAdd graphql package (#16067)\n\t\n\n\nREADME.md\n\t\nAdd linting for all dapps and sdk packages (#12507)\n\t\nREADME.md\nDecentralized apps built on Sui\n\nThis folder enlists full implementations of example Sui dapps, including smart contracts, UIs and any related services (i.e. game server, ticketing engine etc).\n\n2-player Optimistic Satoshi Coin-Flip\nAdd more...\n "
    },
    {
      "title": "[fix][homebrew] don't panic if git commit unavailable by johnjmartin · Pull Request #17760 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/17760",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\n[fix][homebrew] don't panic if git commit unavailable #17760\n Merged\njohnjmartin merged 1 commit into MystenLabs:main from johnjmartin:jjm/fix-git-version \n+7 −5 \n Conversation 2\n Commits 1\n Checks 43\n Files changed 1\nConversation\nContributor\njohnjmartin commented \nDescription\n\n#17478 breaks our homebrew releases (Homebrew/homebrew-core#171726 (comment)), as it reversed the changes made in #15727.\n\nTest plan\n$ mv .git .notgit\n$ cargo install --path crates/sui\n$ /Users/johnmartin/.cargo/bin/sui -V                                                                                                                                                           sui 1.26.0\n\ndon't panic if git commit hash unavailable\nbfbf9cb\n johnjmartin requested review from bmwill, ebmifa, stefan-mysten and chris-gorham \nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nsui-docs\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMay 15, 2024 8:26pm\nvercel bot commented \n\n@johnjmartin is attempting to deploy a commit to the Mysten Labs Team on Vercel.\n\nA member of the Team first needs to authorize it.\n\nebmifa approved these changes \nView reviewed changes\n vercel bot deployed to Preview – sui-docs \nView deployment\nstefan-mysten approved these changes \nView reviewed changes\nView details\n johnjmartin merged commit f1aba95 into MystenLabs:main \n44 of 47 checks passed\nebmifa pushed a commit that referenced this pull request \n[fix][homebrew] don't panic if git commit unavailable (#17760) …\na794c2c\nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\nebmifa\n\nstefan-mysten\n\nbmwill\n\nchris-gorham\n\nAssignees\nNo one assigned\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n3 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "[fix][homebrew] don't panic if git commit unavailable (#17760) · MystenLabs/sui@f1aba95 · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/f1aba95ad6c3b1fa636b3a53f9328ef027d188ff",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\n[fix][homebrew] don't panic if git commit unavailable (#17760)\nBrowse files\n## Description \n\n#17478 breaks our homebrew\nreleases\n(Homebrew/homebrew-core#171726 (comment)),\nas it reversed the changes made in\n#15727.\n\n## Test plan \n\n```\n$ mv .git .notgit\n$ cargo install --path crates/sui\n$ /Users/johnmartin/.cargo/bin/sui -V                                                                                                                                                           sui 1.26.0\n```\n main (#17760)\njohnjmartin committed  \nVerified\n1 parent b8dfe64\ncommit f1aba95\nShowing 1 changed file with 7 additions and 5 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\n  \n12 changes: 7 additions & 5 deletions\n12  \ncrates/bin-version/src/lib.rs\n\t@@ -23,8 +23,13 @@ macro_rules! bin_version {\n\t\t    () => {\n\t\t        $crate::git_revision!();\n\t\t\n\n\t\t        const VERSION: &str =\n\t\t            $crate::_hidden::concat!(env!(\"CARGO_PKG_VERSION\"), \"-\", GIT_REVISION);\n\t\t        const VERSION: &str = {\n\t\t            if GIT_REVISION.is_empty() {\n\t\t                env!(\"CARGO_PKG_VERSION\")\n\t\t            } else {\n\t\t                $crate::_hidden::concat!(env!(\"CARGO_PKG_VERSION\"), \"-\", GIT_REVISION)\n\t\t            }\n\t\t        };\n\t\t    };\n\t\t}\n\t\t\n\n\n\t@@ -54,9 +59,6 @@ macro_rules! git_revision {\n\t\t                    fallback = \"\"\n\t\t                );\n\t\t\n\n\t\t                if version.is_empty() {\n\t\t                    panic!(\"unable to query git revision\");\n\t\t                }\n\t\t                version\n\t\t            }\n\t\t        };\n\n\t\n0 comments on commit f1aba95\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "use env var to set consensus min delay in tests by longbowlu · Pull Request #17750 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/17750",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\nuse env var to set consensus min delay in tests #17750\n Merged\nlongbowlu merged 2 commits into main from use-env-to-tweak-consensus-min-delay-in-test \n+3 −1 \n Conversation 4\n Commits 2\n Checks 44\n Files changed 2\nConversation\nContributor\nlongbowlu commented \nDescription\n\nbridge e2e tests can't use sim tests today because of several reasons. With tokio::test we stumble into a case where high commit rate (50ms) can cause reconfiguration to take long and eventually build up the checkpoint queue (interesting it is the checkpoint content downloading queue). This PR introduces an env var to keep the commit rate normal.\n\nTest plan\n\nHow did you test the new or updated feature?\n\nRelease notes\n\nCheck each box that your changes affect. If none of the boxes relate to your changes, release notes aren't required.\n\nFor each box you select, include information after the relevant heading that describes the impact of your changes that a user might notice and any actions they must take to implement updates.\n\n Protocol:\n Nodes (Validators and Full nodes):\n Indexer:\n JSON-RPC:\n GraphQL:\n CLI:\n Rust SDK:\n longbowlu requested review from akichidis, mwtian and arun-koshy \nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nsui-docs\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMay 15, 2024 4:30pm\n3 Ignored Deployments\nuse env var to set min delay in tests\nb650e66\n longbowlu force-pushed the use-env-to-tweak-consensus-min-delay-in-test branch from 753bdbc to b650e66 \nCompare\n vercel bot deployed to Preview – sui-docs \nView deployment\nmwtian reviewed \nView reviewed changes\nMember\nmwtian left a comment\n\nI personally think it is ok to use 400ms min round delay in cfg(test) as well. But no sure if there are tests implicitly depending on the existing value. The env var approach looks good as well.\n\nmwtian approved these changes \nView reviewed changes\narun-koshy approved these changes \nView reviewed changes\nContributor\nakichidis commented  • \nedited \n\nI personally think it is ok to use 400ms min round delay in cfg(test) as well. But no sure if there are tests implicitly depending on the existing value. The env var approach looks good as well.\n\nSimilarly, I believe it would probably be ok to use for testing 400ms for consistency if no other tests complain about it.\n\nakichidis approved these changes \nView reviewed changes\nconsensus/config/src/parameters.rs\nOutdated\n\t\t@@ -76,7 +76,7 @@ impl Parameters {\n\t\t    }\n\t\t\n\n\t\t    pub(crate) fn default_min_round_delay() -> Duration {\n\t\t        if cfg!(msim) {\n\t\t        if cfg!(msim) || std::env::var(\"__TEST_ONLY_CONSENSUS_UES_LONG_MIN_ROUND_DELAY\").is_ok() {\nContributor\n akichidis \n\nnit: UES should that be USE ?\n\n1\nfix typo\n6dfd9be\n longbowlu enabled auto-merge (squash) \n vercel bot deployed to Preview – sui-docs \nView deployment\nView details\n longbowlu merged commit 0616027 into main \n48 checks passed\n longbowlu deleted the use-env-to-tweak-consensus-min-delay-in-test branch \nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\nakichidis\n\nmwtian\n\narun-koshy\n\nAssignees\nNo one assigned\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n4 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "sui/consensus at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/tree/main/consensus",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nconsensus\nconfig\ncore\n.clippy.toml\nREADME.md\ncrates\ndapps\ndashboards\ndoc\ndocker\ndocs\nexamples\nexternal-crates\nkiosk\nnarwhal\nnre\nscripts\nsdk\nsui-execution\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui\n/consensus/\nDirectory actions\nMore options\nLatest commit\nlongbowlu\nuse env var to set consensus min delay in tests (#17750)\n0616027\n · \nHistory\nHistory\nFolders and files\nName\tLast commit message\tLast commit date\n\nparent directory\n..\n\n\nconfig\n\t\nuse env var to set consensus min delay in tests (#17750)\n\t\n\n\ncore\n\t\nFix Windows build (#17752)\n\t\n\n\n.clippy.toml\n\t\n[consensus] Update Sui Interface for Mysticeti (#16241)\n\t\n\n\nREADME.md\n\t\n[Consensus] add initial directory structure (#15440)\n\t\nREADME.md\nWIP: Sui Consensus 2.0\n\nThis directory contains a WIP implementation of Sui Consensus 2.0. It is based on Mysticeti, and Sui Consensus 1.0 which is Narwhal."
    },
    {
      "title": "chocolatey: fix verification file path by ebmifa · Pull Request #15901 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/15901",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\nchocolatey: fix verification file path #15901\n Merged\nebmifa merged 1 commit into main from ebmifa/fix_path_for_verification_file \n+1 −1 \n Conversation 1\n Commits 1\n Checks 38\n Files changed 1\nConversation\nContributor\nebmifa commented \nDescription\n\nfix verification file path\n\nTest Plan\n\n👀\n\nchocolatey: fix verificaiton file path\nfd4ae97\n ebmifa requested a review from a team \n ebmifa enabled auto-merge (squash) \nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nmysten-ui\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tJan 24, 2024 6:38pm\nsui-core\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tJan 24, 2024 6:38pm\nsui-typescript-docs\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tJan 24, 2024 6:38pm\n3 Ignored Deployments\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\n vercel bot deployed to Preview – mysten-ui \nView deployment\npei-mysten approved these changes \nView reviewed changes\n vercel bot deployed to Preview – sui-core \nView deployment\nView details\n ebmifa merged commit 425f097 into main \n44 checks passed\n ebmifa deleted the ebmifa/fix_path_for_verification_file branch \nebmifa added a commit that referenced this pull request \nchocolatey: fix verification file path (#15901) …\n164a67b\nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\npei-mysten\n\nAssignees\nNo one assigned\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n2 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "use env var to set consensus min delay in tests (#17750) · MystenLabs/sui@0616027 · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/0616027aa30e4d08042eecd44b1d62ab5262915d",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\nuse env var to set consensus min delay in tests (#17750)\nBrowse files\n## Description \n\nbridge e2e tests can't use sim tests today because of several reasons.\nWith `tokio::test` we stumble into a case where high commit rate (50ms)\ncan cause reconfiguration to take long and eventually build up the\ncheckpoint queue (interesting it is the checkpoint content downloading\nqueue). This PR introduces an env var to keep the commit rate normal.\n\n## Test plan \n\nHow did you test the new or updated feature?\n\n---\n\n## Release notes\n\nCheck each box that your changes affect. If none of the boxes relate to\nyour changes, release notes aren't required.\n\nFor each box you select, include information after the relevant heading\nthat describes the impact of your changes that a user might notice and\nany actions they must take to implement updates.\n\n- [ ] Protocol: \n- [ ] Nodes (Validators and Full nodes): \n- [ ] Indexer: \n- [ ] JSON-RPC: \n- [ ] GraphQL: \n- [ ] CLI: \n- [ ] Rust SDK:\n Loading branch information\nlongbowlu committed  \n1 parent 4f90ab7\ncommit 0616027\n \nShowing 2 changed files with 3 additions and 1 deletion.\nWhitespace\nIgnore whitespace\nSplit\nUnified\nconsensus/config/src\nparameters.rs\ncrates/sui-bridge/src/e2e_tests\ntest_utils.rs\n  \n2 changes: 1 addition & 1 deletion\n2  \nconsensus/config/src/parameters.rs\n\t@@ -76,7 +76,7 @@ impl Parameters {\n\t\t    }\n\t\t\n\n\t\t    pub(crate) fn default_min_round_delay() -> Duration {\n\t\t        if cfg!(msim) {\n\t\t        if cfg!(msim) || std::env::var(\"__TEST_ONLY_CONSENSUS_USE_LONG_MIN_ROUND_DELAY\").is_ok() {\n\t\t            // Checkpoint building and execution cannot keep up with high commit rate in simtests,\n\t\t            // leading to long reconfiguration delays. This is because simtest is single threaded,\n\t\t            // and spending too much time in consensus can lead to starvation elsewhere.\n\n\t\n  \n2 changes: 2 additions & 0 deletions\n2  \ncrates/sui-bridge/src/e2e_tests/test_utils.rs\n\t@@ -124,6 +124,8 @@ impl BridgeTestClusterBuilder {\n\t\t\n\n\t\t    pub async fn build(self) -> BridgeTestCluster {\n\t\t        init_all_struct_tags();\n\t\t        std::env::set_var(\"__TEST_ONLY_CONSENSUS_USE_LONG_MIN_ROUND_DELAY\", \"1\");\n\t\t\n\n\t\t        let mut bridge_keys = vec![];\n\t\t        let mut bridge_keys_copy = vec![];\n\t\t        for _ in 0..=3 {\n\n\t\n0 comments on commit 0616027\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "chocolatey: fix verification file path (#15901) · MystenLabs/sui@425f097 · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/425f097f7aa7b58c88b29d67dfcac7387a7972d5",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\nchocolatey: fix verification file path (#15901)\nBrowse files\n## Description \nfix verification file path\n\n## Test Plan \n👀\n Loading branch information\nebmifa committed  \n1 parent df8a50f\ncommit 425f097\nShowing 1 changed file with 1 addition and 1 deletion.\nWhitespace\nIgnore whitespace\nSplit\nUnified\n  \n2 changes: 1 addition & 1 deletion\n2  \nchocolatey/sui.nuspec\n\t@@ -22,6 +22,6 @@ enclosed in quotation marks, you should use an editor that supports UTF-8, not t\n\t\t\t<files>\n\t\t\t\t<file src=\"../target/release/sui.exe\" target=\"bin/sui.exe\" />\n\t\t\t\t<file src=\"../LICENSE\" target=\"bin/LICENSE.txt\" />\n\t\t\t\t<file src=\"./chocolatey/VERIFICATION.txt\" target=\"bin/VERIFICATION.txt\" />\n\t\t\t\t<file src=\"./VERIFICATION.txt\" target=\"bin/VERIFICATION.txt\" />\n\t\t\t</files>\n\t\t</package>\n0 comments on commit 425f097\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "sui/chocolatey at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/tree/main/chocolatey",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nsui.nuspec\nconsensus\ncrates\ndapps\ndashboards\ndoc\ndocker\ndocs\nexamples\nexternal-crates\nkiosk\nnarwhal\nnre\nscripts\nsdk\nsui-execution\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui\n/chocolatey/\nDirectory actions\nMore options\nLatest commit\nebmifa\nchocolatey: fix verification file path (#15901)\n425f097\n · \nHistory\nHistory\nFolders and files\nName\tLast commit message\tLast commit date\n\nparent directory\n..\n\n\nsui.nuspec\n\t\nchocolatey: fix verification file path (#15901)\n\t"
    },
    {
      "title": "sui/bridge at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/tree/main/bridge",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nevm\nmove/tokens\nchocolatey\nconsensus\ncrates\ndapps\ndashboards\ndoc\ndocker\ndocs\nexamples\nexternal-crates\nkiosk\nnarwhal\nnre\nscripts\nsdk\nsui-execution\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui\n/bridge/\nDirectory actions\nMore options\nLatest commit\nBridgerz\nEnsure Non Zero Bridge Amount (#17745)\ne2dc6ad\n · \nHistory\nHistory\nFolders and files\nName\tLast commit message\tLast commit date\n\nparent directory\n..\n\n\nevm\n\t\nEnsure Non Zero Bridge Amount (#17745)\n\t\n\n\nmove/tokens\n\t\nSui Native bridge (#17579)\n\t"
    },
    {
      "title": "update extension to use new SUINS format by plam-ml · Pull Request #17738 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/17738",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\nupdate extension to use new SUINS format #17738\n Merged\nplam-ml merged 3 commits into main from APPS-update-new-suins-name \n+27 −12 \n Conversation 3\n Commits 3\n Checks 47\n Files changed 7\nConversation\nContributor\nplam-ml commented \n\nGrowthbook flag: https://app.growthbook.io/features/wallet-enable-new-suins-name-format\n\nupdate extension\n5e797d6\n plam-ml requested review from mamos-mysten and Jibz-Mysten \n plam-ml requested a review from a team as a code owner \nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nsui-docs\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMay 15, 2024 6:54pm\n3 Ignored Deployments\n vercel bot deployed to Preview – sui-docs \nView deployment\nfix lint\n16a0429\n vercel bot deployed to Preview – sui-docs \nView deployment\n plam-ml requested a review from Jordan-Mysten \nmamos-mysten requested changes \nView reviewed changes\napps/wallet/src/ui/app/hooks/useAppResolveSuinsName.ts\nOutdated\n\t\t\n\n\t\timport { useResolveSuiNSName } from '../../../../../core';\n\t\t\n\n\t\texport function useAppResolveSuinsName(address?: string) {\nContributor\n mamos-mysten \n\nuseAppResolveSuinsName doesn't make a whole lot of sense to me - can we rename the import here and leave the hook name useResolveSuinsName ?\n\n1\nContributor\nAuthor\n plam-ml \n\nUpdated @mamos-mysten\n\nrename\nc875e1d\n plam-ml requested a review from mamos-mysten \n vercel bot deployed to Preview – sui-docs \nView deployment\nmamos-mysten approved these changes \nView reviewed changes\nView details\n plam-ml merged commit 1c4dbbe into main \n51 checks passed\n plam-ml deleted the APPS-update-new-suins-name branch \nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\nmamos-mysten\n\nJibz-Mysten\n\nJordan-Mysten\n\nAssignees\nNo one assigned\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n2 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "update extension to use new SUINS format (#17738) · MystenLabs/sui@1c4dbbe · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/1c4dbbe2b8fcdc0ed682dfdcf527440480c68ce1",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\nupdate extension to use new SUINS format (#17738)\nBrowse files\nGrowthbook flag:\nhttps://app.growthbook.io/features/wallet-enable-new-suins-name-format\n\n![Screenshot 2024-05-14 at 3 31\n50 PM](https://github.com/MystenLabs/sui/assets/127577476/f765f499-28aa-4c17-a296-9e794ceb2299)\n Loading branch information\nplam-ml committed  \nVerified\n1 parent 0616027\ncommit 1c4dbbe\n \nShowing 7 changed files with 27 additions and 12 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\napps/wallet/src/ui/app\ncomponents\nAccountListItem.tsx\naccounts\nAccountItem.tsx\nAccountItemApproveConnection.tsx\nledger\nLedgerAccountRow.tsx\nreceipt-card\nTxnAddress.tsx\nhooks\nuseAppResolveSuinsName.ts\npages/home/tokens\nTokensDetails.tsx\n  \n4 changes: 2 additions & 2 deletions\n4  \napps/wallet/src/ui/app/components/AccountListItem.tsx\n\t\t@@ -1,8 +1,8 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\timport { useResolveSuiNSName } from '_app/hooks/useAppResolveSuinsName';\n\t\timport { type SerializedUIAccount } from '_src/background/accounts/Account';\n\t\timport { useResolveSuiNSName } from '@mysten/core';\n\t\timport { Check12, Copy12 } from '@mysten/icons';\n\t\timport { formatAddress } from '@mysten/sui.js/utils';\n\t\t\n\n\n\t@@ -21,7 +21,7 @@ export function AccountListItem({ account, onAccountSelected }: AccountItemProps\n\t\t\tconst copy = useCopyToClipboard(address, {\n\t\t\t\tcopySuccessMessage: 'Address Copied',\n\t\t\t});\n\t\t\tconst { data: domainName } = useResolveSuiNSName(address);\n\t\t\tconst domainName = useResolveSuiNSName(address);\n\t\t\n\n\t\t\treturn (\n\t\t\t\t<li>\n\n\t\n  \n4 changes: 2 additions & 2 deletions\n4  \napps/wallet/src/ui/app/components/accounts/AccountItem.tsx\n\t\t@@ -1,8 +1,8 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\timport { useResolveSuiNSName } from '_app/hooks/useAppResolveSuinsName';\n\t\timport { Text } from '_src/ui/app/shared/text';\n\t\timport { useResolveSuiNSName } from '@mysten/core';\n\t\timport { ArrowUpRight12, Copy12 } from '@mysten/icons';\n\t\timport { formatAddress } from '@mysten/sui.js/utils';\n\t\timport cn from 'clsx';\n\n\t@@ -51,7 +51,7 @@ export const AccountItem = forwardRef<HTMLDivElement, AccountItemProps>(\n\t\t\t) => {\n\t\t\t\tconst { data: accounts } = useAccounts();\n\t\t\t\tconst account = accounts?.find((account) => account.id === accountID);\n\t\t\t\tconst { data: domainName } = useResolveSuiNSName(account?.address);\n\t\t\t\tconst domainName = useResolveSuiNSName(account?.address);\n\t\t\t\tconst accountName = account?.nickname ?? domainName ?? formatAddress(account?.address || '');\n\t\t\t\tconst copyAddress = useCopyToClipboard(account?.address || '', {\n\t\t\t\t\tcopySuccessMessage: 'Address copied',\n\n\t\n  \n4 changes: 2 additions & 2 deletions\n4  \napps/wallet/src/ui/app/components/accounts/AccountItemApproveConnection.tsx\n\t\t@@ -1,11 +1,11 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\timport { useResolveSuiNSName } from '_app/hooks/useAppResolveSuinsName';\n\t\timport { AccountIcon } from '_components/accounts/AccountIcon';\n\t\timport { LockUnlockButton } from '_components/accounts/LockUnlockButton';\n\t\timport { useUnlockAccount } from '_components/accounts/UnlockAccountContext';\n\t\timport { type SerializedUIAccount } from '_src/background/accounts/Account';\n\t\timport { useResolveSuiNSName } from '@mysten/core';\n\t\timport { CheckFill16 } from '@mysten/icons';\n\t\timport { formatAddress } from '@mysten/sui.js/utils';\n\t\timport clsx from 'clsx';\n\n\t@@ -18,7 +18,7 @@ interface Props {\n\t\t}\n\t\t\n\n\t\texport function AccountItemApproveConnection({ account, selected, disabled, showLock }: Props) {\n\t\t\tconst { data: domainName } = useResolveSuiNSName(account?.address);\n\t\t\tconst domainName = useResolveSuiNSName(account?.address);\n\t\t\tconst accountName = account?.nickname ?? domainName ?? formatAddress(account?.address || '');\n\t\t\tconst { unlockAccount, lockAccount, isPending, accountToUnlock } = useUnlockAccount();\n\t\t\n\n\n\t\n  \n6 changes: 4 additions & 2 deletions\n6  \napps/wallet/src/ui/app/components/ledger/LedgerAccountRow.tsx\n\t\t@@ -1,8 +1,9 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\timport { useResolveSuiNSName } from '_app/hooks/useAppResolveSuinsName';\n\t\timport { Text } from '_src/ui/app/shared/text';\n\t\timport { useFormatCoin, useResolveSuiNSName } from '@mysten/core';\n\t\timport { useFormatCoin } from '@mysten/core';\n\t\timport { useSuiClientQuery } from '@mysten/dapp-kit';\n\t\timport { CheckFill16 } from '@mysten/icons';\n\t\timport { formatAddress, SUI_TYPE_ARG } from '@mysten/sui.js/utils';\n\n\t@@ -29,7 +30,8 @@ export function LedgerAccountRow({ isSelected, address }: LedgerAccountRowProps)\n\t\t\t\t\tstaleTime,\n\t\t\t\t},\n\t\t\t);\n\t\t\tconst { data: domainName } = useResolveSuiNSName(address);\n\t\t\tconst domainName = useResolveSuiNSName(address);\n\t\t\n\n\t\t\tconst [totalAmount, totalAmountSymbol] = useFormatCoin(\n\t\t\t\tcoinBalance?.totalBalance ?? 0,\n\t\t\t\tSUI_TYPE_ARG,\n\n\t\n  \n4 changes: 2 additions & 2 deletions\n4  \napps/wallet/src/ui/app/components/receipt-card/TxnAddress.tsx\n\t\t@@ -1,8 +1,8 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\timport { useResolveSuiNSName } from '_app/hooks/useAppResolveSuinsName';\n\t\timport { Text } from '_src/ui/app/shared/text';\n\t\timport { useResolveSuiNSName } from '@mysten/core';\n\t\t\n\n\t\timport { TxnAddressLink } from './TxnAddressLink';\n\t\t\n\n\n\t@@ -12,7 +12,7 @@ type TxnAddressProps = {\n\t\t};\n\t\t\n\n\t\texport function TxnAddress({ address, label }: TxnAddressProps) {\n\t\t\tconst { data: domainName } = useResolveSuiNSName(address);\n\t\t\tconst domainName = useResolveSuiNSName(address);\n\t\t\n\n\t\t\treturn (\n\t\t\t\t<div className=\"flex justify-between w-full items-center py-3.5 first:pt-0\">\n\n\t\n \n12 changes: 12 additions & 0 deletions\n12  \napps/wallet/src/ui/app/hooks/useAppResolveSuinsName.ts\n\t\t@@ -0,0 +1,12 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\timport { useFeatureIsOn } from '@growthbook/growthbook-react';\n\t\timport { normalizeSuiNSName } from '@mysten/sui.js/utils';\n\t\t\n\n\t\timport { useResolveSuiNSName as useResolveSuiNSNameCore } from '../../../../../core';\n\t\t\n\n\t\texport function useResolveSuiNSName(address?: string) {\n\t\t\tconst enableNewSuinsFormat = useFeatureIsOn('wallet-enable-new-suins-name-format');\n\t\t\tconst { data } = useResolveSuiNSNameCore(address);\n\t\t\treturn data ? normalizeSuiNSName(data, enableNewSuinsFormat ? 'at' : 'dot') : undefined;\n\t\t}\n  \n5 changes: 3 additions & 2 deletions\n5  \napps/wallet/src/ui/app/pages/home/tokens/TokensDetails.tsx\n\t\t@@ -1,6 +1,7 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\timport { useResolveSuiNSName } from '_app/hooks/useAppResolveSuinsName';\n\t\timport { useIsWalletDefiEnabled } from '_app/hooks/useIsWalletDefiEnabled';\n\t\timport { LargeButton } from '_app/shared/LargeButton';\n\t\timport { Text } from '_app/shared/text';\n\n\t@@ -36,7 +37,6 @@ import {\n\t\t\tuseCoinMetadata,\n\t\t\tuseFormatCoin,\n\t\t\tuseGetDelegatedStake,\n\t\t\tuseResolveSuiNSName,\n\t\t} from '@mysten/core';\n\t\timport { useSuiClientQuery } from '@mysten/dapp-kit';\n\t\timport { Info12, Pin16, Unpin16 } from '@mysten/icons';\n\n\t@@ -312,7 +312,8 @@ function TokenDetails({ coinType }: TokenDetailsProps) {\n\t\t\tconst activeCoinType = coinType || SUI_TYPE_ARG;\n\t\t\tconst activeAccount = useActiveAccount();\n\t\t\tconst activeAccountAddress = activeAccount?.address;\n\t\t\tconst { data: domainName } = useResolveSuiNSName(activeAccountAddress);\n\t\t\tconst domainName = useResolveSuiNSName(activeAccountAddress);\n\t\t\n\n\t\t\tconst { staleTime, refetchInterval } = useCoinsReFetchingConfig();\n\t\t\tconst {\n\t\t\t\tdata: coinBalance,\n\n\t\n0 comments on commit 1c4dbbe\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "move prettier and eslint config to root of repo by hayes-mysten · Pull Request #12497 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/12497",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\nmove prettier and eslint config to root of repo #12497\n Merged\nhayes-mysten merged 2 commits into main from hayes--move-prettier-config \n Conversation 10\n Commits 2\n Checks 31\n Files changed\nConversation\nContributor\nhayes-mysten commented  • \nedited \nDescription\n\nWe currently have separate prettier and eslint configs in many different directories. This combines all these configs into a single shared config, while preserving the current differences via overrides. Enabling prettier and eslint for additional directories, and standardizing the places where the config is different will be left for a future PR\n\nTest Plan\n\nHow did you test the new or updated feature?\n\nIf your changes are not user-facing and not a breaking change, you can skip the following section. Otherwise, please indicate what changed, and then add to the Release Notes section as highlighted during the release process.\n\nType of Change (Check all that apply)\n protocol change\n user-visible impact\n breaking change for a client SDKs\n breaking change for FNs (FN binary must upgrade)\n breaking change for validators or node operators (must upgrade binaries)\n breaking change for on-chain data layout\n necessitate either a data wipe or data migration\nRelease notes\nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nexplorer\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tJun 14, 2023 10:11pm\nexplorer-storybook\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tJun 14, 2023 10:11pm\noffline-signer-helper\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tJun 14, 2023 10:11pm\nsui-kiosk\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tJun 14, 2023 10:11pm\nsui-wallet-kit\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tJun 14, 2023 10:11pm\nwallet-adapter\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tJun 14, 2023 10:11pm\nhayes-mysten commented \nView reviewed changes\n.vscode/extensions.json\n\t\t        \"rust-lang.rust-analyzer\",\n\t\t        \"esbenp.prettier-vscode\",\n\t\t        \"ms-playwright.playwright\",\n\t\t        \"dbaeumer.vscode-eslint\"\nContributor\nAuthor\n hayes-mysten \n\nadded the eslint plugin here\n\n hayes-mysten force-pushed the hayes--move-prettier-config branch from 4fc6841 to d8768e2 \nCompare\n vercel bot deployed to Preview – explorer-storybook \nView deployment\n vercel bot deployed to Preview – sui-kiosk \nView deployment\n vercel bot deployed to Preview – explorer \nView deployment\n vercel bot deployed to Preview – sui-wallet-kit \nView deployment\n vercel bot deployed to Preview – wallet-adapter \nView deployment\n vercel bot deployed to Preview – offline-signer-helper \nView deployment\nmove prettier config to root of repo\n44f1fa9\n hayes-mysten force-pushed the hayes--move-prettier-config branch from d8768e2 to 44f1fa9 \nCompare\n vercel bot deployed to Preview – offline-signer-helper \nView deployment\n vercel bot deployed to Preview – explorer \nView deployment\n vercel bot deployed to Preview – explorer-storybook \nView deployment\n vercel bot deployed to Preview – wallet-adapter \nView deployment\n vercel bot deployed to Preview – sui-wallet-kit \nView deployment\n vercel bot deployed to Preview – sui-kiosk \nView deployment\nContributor\ngithub-actions bot commented  • \nedited \n\n⚠️ 🦋 Changesets Warning: This PR has changes to public npm packages, but does not contain a changeset. You can create a changeset easily by running pnpm changeset in the root of the Sui repo, and following the prompts. If your change does not need a changeset (e.g. a documentation-only change), you can ignore this message. This warning will be removed when a changeset is added to this pull request.\n\nLearn more about Changesets.\n\nJordan-Mysten approved these changes \nView reviewed changes\nContributor\nJordan-Mysten left a comment\n\nI'd make a follow up PR that removes the overrides but otherwise looks good\n\npackage.json\nOutdated\n\t\t        \"deepbook\": \"pnpm --filter ./sdk/deepbook\",\n\t\t        \"changeset-version\": \"pnpm changeset version && pnpm sdk codegen:version\"\n\t\t    },\n\t\t    \"prettier\": \"./.config/prettier.config.js\",\nContributor\n Jordan-Mysten \n\nDoes this directory already exist or was it just created for this? Curious why this vs a file in the root\n\nContributor\nAuthor\n hayes-mysten \n\nthis exists, my rough understanding is that .config directories are party intended to avoid the issue of cluttering the root with configs for a million different tools. I went back and forth on this a bit, but I think maybe just moving it out to the root is fine here, since the .prettierignore needs to be in the root anyway\n\nContributor\n Jordan-Mysten \n\nI don't have a strong preference here, so don't stress on changing this.\n\nContributor\nAuthor\nhayes-mysten commented \n\nI'd make a follow up PR that removes the overrides but otherwise looks good\n\nThat's the plan, I wanted to avoid having a lot of formatting changes in the PR that moves everything around, but I do want to get everything consistent and using prettier soon\n\n1\n hayes-mysten marked this pull request as ready for review \n hayes-mysten requested review from a team, randall-Mysten and ronny-mysten as code owners \n hayes-mysten requested review from williamrobertson13 and pchrysochoidis and removed request for a team \n vercel bot deployed to Preview – explorer \nView deployment\n vercel bot deployed to Preview – sui-kiosk \nView deployment\n vercel bot deployed to Preview – offline-signer-helper \nView deployment\nhayes-mysten commented \nView reviewed changes\napps/wallet/.prettierignore\nOutdated\n\t\t@@ -0,0 +1,9 @@\n\t\tdist/\nContributor\nAuthor\n hayes-mysten \n\nhad to restore the directory level .prettierignore files because prettier doesn't scan parent directories for ignore files\n\n vercel bot deployed to Preview – sui-wallet-kit \nView deployment\n vercel bot deployed to Preview – wallet-adapter \nView deployment\n vercel bot deployed to Preview – explorer-storybook \nView deployment\nmove eslint to shared config\n396f717\n hayes-mysten force-pushed the hayes--move-prettier-config branch from 6af7341 to 396f717 \nCompare\n vercel bot deployed to Preview – sui-kiosk \nView deployment\n vercel bot deployed to Preview – explorer \nView deployment\n vercel bot deployed to Preview – sui-wallet-kit \nView deployment\n vercel bot deployed to Preview – explorer-storybook \nView deployment\n vercel bot deployed to Preview – wallet-adapter \nView deployment\n vercel bot deployed to Preview – offline-signer-helper \nView deployment\nhayes-mysten commented \nView reviewed changes\n.eslintrc.js\n\t\t    },\n\t\t    overrides: [\n\t\t        {\n\t\t            files: ['apps/explorer/**/*'],\nContributor\nAuthor\n hayes-mysten  • \nedited \n\nexplorer and wallet had a lot of customization in their rules, so they have fairly large override blocks, I didn't want to figure out what each rules does and if it made sense to enable it everywhere in the PR, so leaving those mostly as if (I moved a couple up to apply everywhere, like the license header rule)\n\n hayes-mysten changed the title move prettier config to root of repo move prettier and eslint config to root of repo \nJordan-Mysten approved these changes \nView reviewed changes\nView details\n hayes-mysten merged commit 98a37d4 into main \n37 checks passed\n hayes-mysten deleted the hayes--move-prettier-config branch \nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\nJordan-Mysten\n\nrandall-Mysten\n\nronny-mysten\n\nwilliamrobertson13\n\npchrysochoidis\n\nAssignees\nNo one assigned\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n2 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "sui/apps at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/tree/main/apps",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\ncore\nicons\nwallet\nbridge\nchocolatey\nconsensus\ncrates\ndapps\ndashboards\ndoc\ndocker\ndocs\nexamples\nexternal-crates\nkiosk\nnarwhal\nnre\nscripts\nsdk\nsui-execution\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui\n/apps/\nDirectory actions\nMore options\nLatest commit\nplam-ml\nupdate extension to use new SUINS format (#17738)\n1c4dbbe\n · \nHistory\nHistory\nFolders and files\nName\tLast commit message\tLast commit date\n\nparent directory\n..\n\n\ncore\n\t\nAdd graphql package (#16067)\n\t\n\n\nicons\n\t\nAdd graphql package (#16067)\n\t\n\n\nwallet\n\t\nupdate extension to use new SUINS format (#17738)\n\t"
    },
    {
      "title": "move prettier and eslint config to root of repo (#12497) · MystenLabs/sui@98a37d4 · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/98a37d46f030dbe8c98318e282fb5ea4f334bbc8",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\nmove prettier and eslint config to root of repo (#12497)\nBrowse files\n## Description \n\nWe currently have separate prettier and eslint configs in many different\ndirectories. This combines all these configs into a single shared\nconfig, while preserving the current differences via overrides. Enabling\nprettier and eslint for additional directories, and standardizing the\nplaces where the config is different will be left for a future PR\n\n## Test Plan \n\nHow did you test the new or updated feature?\n\n---\nIf your changes are not user-facing and not a breaking change, you can\nskip the following section. Otherwise, please indicate what changed, and\nthen add to the Release Notes section as highlighted during the release\nprocess.\n\n### Type of Change (Check all that apply)\n\n- [ ] protocol change\n- [ ] user-visible impact\n- [ ] breaking change for a client SDKs\n- [ ] breaking change for FNs (FN binary must upgrade)\n- [ ] breaking change for validators or node operators (must upgrade\nbinaries)\n- [ ] breaking change for on-chain data layout\n- [ ] necessitate either a data wipe or data migration\n\n### Release notes\n Loading branch information\nhayes-mysten committed  \nVerified\n1 parent 03df554\ncommit 98a37d4\n \nShowing 47 changed files with 1,146 additions and 1,170 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\n.eslintrc.js\n.npmrc\n.prettierignore\n.vscode\nextensions.json\napps\ncore\n.eslintrc.js\n.prettierrc.json\npackage.json\nexplorer\n.eslintrc.js\n.prettierrc.json\npackage.json\nsrc\npages/transaction-result/transaction-summary\nObjectChanges.tsx\nutils\nsentry.ts\nicons\npackage.json\nscripts\npreprocess.mjs\nsvgrrc.config.js\ntsconfig.json\nwallet\n.eslintrc.js\n.prettierrc.json\npackage.json\ndapps\nREADME.md\nkiosk\n.eslintrc.cjs\npackage.json\nsrc/hooks\nkiosk.ts\nuseOwnedObjects.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nsdk\ndeepbook\n.eslintrc.js\n.prettierignore\n.prettierrc.json\nCHANGELOG.md\npackage.json\nkiosk\n.eslintrc.cjs\npackage.json\nledgerjs-hw-app-sui\n.eslintrc.js\n.prettierrc.json\nCHANGELOG.md\npackage.json\nsuins-toolkit\n.eslintrc.js\nCHANGELOG.md\npackage.json\ntypescript\n.eslintrc.cjs\npackage.json\ntest/e2e\nsubscribe.test.ts\nwallet-adapter/site\n.prettierrc.json\npackage.json\n \n304 changes: 304 additions & 0 deletions\n304  \n.eslintrc.js\n\t\t@@ -0,0 +1,304 @@\n\t\t// Copyright (c) Mysten Labs, Inc.\n\t\t// SPDX-License-Identifier: Apache-2.0\n\t\t\n\n\t\tmodule.exports = {\n\t\t    plugins: ['@tanstack/query', 'unused-imports', 'prettier', 'header'],\n\t\t    extends: [\n\t\t        'eslint:recommended',\n\t\t        'react-app',\n\t\t        'plugin:@tanstack/eslint-plugin-query/recommended',\n\t\t        'prettier',\n\t\t        'plugin:prettier/recommended',\n\t\t    ],\n\t\t    settings: {\n\t\t        react: {\n\t\t            version: '18',\n\t\t        },\n\t\t    },\n\t\t    root: true,\n\t\t    ignorePatterns: ['node_modules', 'build', 'dist', 'coverage'],\n\t\t    rules: {\n\t\t        'no-case-declarations': 'off',\n\t\t        'no-implicit-coercion': [\n\t\t            2,\n\t\t            { number: true, string: true, boolean: false },\n\t\t        ],\n\t\t        '@typescript-eslint/no-redeclare': 'off',\n\t\t        '@typescript-eslint/ban-types': [\n\t\t            'error',\n\t\t            {\n\t\t                types: {\n\t\t                    Buffer: 'Buffer usage increases bundle size and is not consistently implemented on web.',\n\t\t                },\n\t\t                extendDefaults: true,\n\t\t            },\n\t\t        ],\n\t\t        'no-restricted-globals': [\n\t\t            'error',\n\t\t            {\n\t\t                name: 'Buffer',\n\t\t                message:\n\t\t                    'Buffer usage increases bundle size and is not consistently implemented on web.',\n\t\t            },\n\t\t        ],\n\t\t        'header/header': [\n\t\t            2,\n\t\t            'line',\n\t\t            [\n\t\t                ' Copyright (c) Mysten Labs, Inc.',\n\t\t                ' SPDX-License-Identifier: Apache-2.0',\n\t\t            ],\n\t\t        ],\n\t\t    },\n\t\t    overrides: [\n\t\t        {\n\t\t            files: ['apps/explorer/**/*'],\n\t\t            rules: {\n\t\t                'import/order': [\n\t\t                    'warn',\n\t\t                    {\n\t\t                        groups: [\n\t\t                            ['builtin', 'external'],\n\t\t                            ['internal', 'parent', 'sibling', 'index'],\n\t\t                            'type',\n\t\t                        ],\n\t\t                        pathGroups: [\n\t\t                            {\n\t\t                                pattern: '{.,..}/**/*.css',\n\t\t                                group: 'type',\n\t\t                                position: 'after',\n\t\t                            },\n\t\t                        ],\n\t\t                        'newlines-between': 'always',\n\t\t                        alphabetize: { order: 'asc' },\n\t\t                        warnOnUnassignedImports: true,\n\t\t                    },\n\t\t                ],\n\t\t                'import/no-duplicates': ['error'],\n\t\t                'import/no-anonymous-default-export': 'off',\n\t\t                '@typescript-eslint/consistent-type-imports': [\n\t\t                    'error',\n\t\t                    {\n\t\t                        prefer: 'type-imports',\n\t\t                        disallowTypeAnnotations: true,\n\t\t                        fixStyle: 'inline-type-imports',\n\t\t                    },\n\t\t                ],\n\t\t                '@typescript-eslint/unified-signatures': 'error',\n\t\t                '@typescript-eslint/parameter-properties': 'error',\n\t\t                'react/jsx-key': ['error', {}],\n\t\t\n\n\t\t                'react/boolean-prop-naming': 'off',\n\t\t                'react/jsx-boolean-value': ['error', 'never'],\n\t\t\n\n\t\t                // Always use function declarations for components\n\t\t                'react/function-component-definition': [\n\t\t                    'error',\n\t\t                    {\n\t\t                        namedComponents: 'function-declaration',\n\t\t                        unnamedComponents: 'arrow-function',\n\t\t                    },\n\t\t                ],\n\t\t                'react/prefer-stateless-function': 'error',\n\t\t                'react/jsx-pascal-case': [\n\t\t                    'error',\n\t\t                    { allowAllCaps: true, allowNamespace: true },\n\t\t                ],\n\t\t\n\n\t\t                // Always self-close when applicable\n\t\t                'react/self-closing-comp': [\n\t\t                    'error',\n\t\t                    {\n\t\t                        component: true,\n\t\t                        html: true,\n\t\t                    },\n\t\t                ],\n\t\t                'react/void-dom-elements-no-children': 'error',\n\t\t\n\n\t\t                // Use alternatives instead of danger\n\t\t                'react/no-danger': 'error',\n\t\t                'react/no-danger-with-children': 'error',\n\t\t\n\n\t\t                // Accessibility requirements\n\t\t                'react/button-has-type': 'error',\n\t\t                'react/no-invalid-html-attribute': 'error',\n\t\t\n\n\t\t                // Security requirements\n\t\t                'react/jsx-no-script-url': 'error',\n\t\t                'react/jsx-no-target-blank': 'error',\n\t\t\n\n\t\t                // Enforce consistent JSX spacing and syntax\n\t\t                'react/jsx-no-comment-textnodes': 'error',\n\t\t                'react/jsx-no-duplicate-props': 'error',\n\t\t                'react/jsx-no-undef': 'error',\n\t\t                'react/jsx-space-before-closing': 'off',\n\t\t\n\n\t\t                // Avoid interpolation as much as possible\n\t\t                'react/jsx-curly-brace-presence': [\n\t\t                    'error',\n\t\t                    { props: 'never', children: 'never' },\n\t\t                ],\n\t\t\n\n\t\t                // Always use shorthand fragments when applicable\n\t\t                'react/jsx-fragments': ['error', 'syntax'],\n\t\t                'react/jsx-no-useless-fragment': [\n\t\t                    'error',\n\t\t                    { allowExpressions: true },\n\t\t                ],\n\t\t                'react/jsx-handler-names': [\n\t\t                    'error',\n\t\t                    {\n\t\t                        eventHandlerPropPrefix: 'on',\n\t\t                    },\n\t\t                ],\n\t\t\n\n\t\t                // Avoid bad or problematic patterns\n\t\t                'react/jsx-uses-vars': 'error',\n\t\t                'react/no-access-state-in-setstate': 'error',\n\t\t                'react/no-arrow-function-lifecycle': 'error',\n\t\t                'react/no-children-prop': 'error',\n\t\t                'react/no-did-mount-set-state': 'error',\n\t\t                'react/no-did-update-set-state': 'error',\n\t\t                'react/no-direct-mutation-state': 'error',\n\t\t                'react/no-namespace': 'error',\n\t\t                'react/no-redundant-should-component-update': 'error',\n\t\t                'react/no-render-return-value': 'error',\n\t\t                'react/no-string-refs': 'error',\n\t\t                'react/no-this-in-sfc': 'error',\n\t\t                'react/no-typos': 'error',\n\t\t                'react/no-unescaped-entities': 'error',\n\t\t                'react/no-unknown-property': 'error',\n\t\t                'react/no-unused-class-component-methods': 'error',\n\t\t                'react/no-will-update-set-state': 'error',\n\t\t                'react/require-optimization': 'off',\n\t\t                'react/style-prop-object': 'error',\n\t\t                'react/no-unstable-nested-components': 'error',\n\t\t\n\n\t\t                // We may eventually want to turn this on but it requires migration:\n\t\t                'react/no-array-index-key': 'off',\n\t\t\n\n\t\t                // Require usage of the custom Link component:\n\t\t                'no-restricted-imports': [\n\t\t                    'error',\n\t\t                    {\n\t\t                        paths: [\n\t\t                            {\n\t\t                                name: 'react-router-dom',\n\t\t                                importNames: [\n\t\t                                    'Link',\n\t\t                                    'useNavigate',\n\t\t                                    'useSearchParams',\n\t\t                                ],\n\t\t                                message:\n\t\t                                    'Please use `LinkWithQuery`, `useSearchParamsMerged`, and `useNavigateWithQuery` from \"~/ui/utils/LinkWithQuery\" instead.',\n\t\t                            },\n\t\t                        ],\n\t\t                    },\n\t\t                ],\n\t\t                'arrow-body-style': ['error', 'as-needed'],\n\t\t            },\n\t\t        },\n\t\t        {\n\t\t            files: ['apps/wallet/**/*'],\n\t\t            rules: {\n\t\t                'react/display-name': 'off',\n\t\t                'import/order': [\n\t\t                    'warn',\n\t\t                    {\n\t\t                        groups: [\n\t\t                            ['builtin', 'external'],\n\t\t                            ['internal', 'parent', 'sibling', 'index'],\n\t\t                            'type',\n\t\t                        ],\n\t\t                        pathGroups: [\n\t\t                            {\n\t\t                                pattern: '{.,..,_*,*}/**/*.?(s)css',\n\t\t                                group: 'type',\n\t\t                                position: 'after',\n\t\t                            },\n\t\t                            {\n\t\t                                pattern: '_*',\n\t\t                                group: 'internal',\n\t\t                            },\n\t\t                            {\n\t\t                                pattern: '_*/**',\n\t\t                                group: 'internal',\n\t\t                            },\n\t\t                        ],\n\t\t                        pathGroupsExcludedImportTypes: [\n\t\t                            'builtin',\n\t\t                            'object',\n\t\t                            'type',\n\t\t                        ],\n\t\t                        'newlines-between': 'always',\n\t\t                        alphabetize: { order: 'asc' },\n\t\t                        warnOnUnassignedImports: true,\n\t\t                    },\n\t\t                ],\n\t\t                'import/no-duplicates': ['error'],\n\t\t                '@typescript-eslint/consistent-type-imports': [\n\t\t                    'error',\n\t\t                    {\n\t\t                        prefer: 'type-imports',\n\t\t                        disallowTypeAnnotations: true,\n\t\t                        fixStyle: 'inline-type-imports',\n\t\t                    },\n\t\t                ],\n\t\t                '@typescript-eslint/unified-signatures': 'error',\n\t\t                '@typescript-eslint/parameter-properties': 'error',\n\t\t                'no-console': ['warn'],\n\t\t                '@typescript-eslint/no-non-null-assertion': 'off',\n\t\t            },\n\t\t        },\n\t\t        {\n\t\t            files: [\n\t\t                'apps/wallet/src/**/*.test.*',\n\t\t                'apps/wallet/src/**/*.spec.*',\n\t\t            ],\n\t\t\n\n\t\t            rules: {\n\t\t                // Allow any casting in tests:\n\t\t                '@typescript-eslint/no-explicit-any': 'off',\n\t\t            },\n\t\t        },\n\t\t        {\n\t\t            files: ['dapps/kiosk/**/*'],\n\t\t            rules: {\n\t\t                'no-unused-vars': 'off', // or \"@typescript-eslint/no-unused-vars\": \"off\",\n\t\t                'unused-imports/no-unused-imports': 'error',\n\t\t                'unused-imports/no-unused-vars': [\n\t\t                    'warn',\n\t\t                    {\n\t\t                        vars: 'all',\n\t\t                        varsIgnorePattern: '^_',\n\t\t                        args: 'after-used',\n\t\t                        argsIgnorePattern: '^_',\n\t\t                    },\n\t\t                ],\n\t\t            },\n\t\t        },\n\t\t        {\n\t\t            files: ['sdk/ledgerjs-hw-app-sui/**/*', 'apps/wallet/**/*'],\n\t\t            rules: {\n\t\t                // ledgerjs-hw-app-sui and wallet use Buffer\n\t\t                'no-restricted-globals': ['off'],\n\t\t                '@typescript-eslint/ban-types': ['off'],\n\t\t            },\n\t\t        },\n\t\t        {\n\t\t            files: ['*.test.*', '*.spec.*'],\n\t\t            rules: {\n\t\t                // Reset to defaults to allow `Buffer` usage in tests (given they run in Node and do not impact bundle):\n\t\t                'no-restricted-globals': ['off'],\n\t\t                '@typescript-eslint/ban-types': ['error'],\n\t\t            },\n\t\t        },\n\t\t        {\n\t\t            files: ['*.stories.*'],\n\t\t            rules: {\n\t\t                // Story files have render functions that this rule incorrectly warns on:\n\t\t                'react-hooks/rules-of-hooks': 'off',\n\t\t            },\n\t\t        },\n\t\t    ],\n\t\t};\n \n1 change: 1 addition & 0 deletions\n1  \n.npmrc\n\t\t@@ -1,2 +1,3 @@\n\t\tstrict-peer-dependencies=false\n\t\tauto-install-peers=false\n\t\tpublic-hoist-pattern[]=*storybook*\n \n33 changes: 33 additions & 0 deletions\n33  \n.prettierignore\n\t\t@@ -0,0 +1,33 @@\n\t\t# ignore everything by default\n\t\t/*\n\t\t# Enable prettier for apps, dapps and sdk\n\t\t!/apps\n\t\t!/sdk\n\t\t!/dapps\n\t\t!/.config\n\t\t!/*.js\n\t\t\n\n\t\t# Ignroe generated icons\n\t\t/apps/icons/src\n\t\t\n\n\t\t# Ignore packages that didn't use prettier yet (will be enabled in a future PR)\n\t\t/sdk/bcs\n\t\t/sdk/wallet-adapter\n\t\t/dapps/offline-signer-helper\n\t\t/dapps/sponsored-transactions\n\t\t\n\n\t\t# ignore generated files\n\t\tnpm-debug.log*\n\t\tpackage-lock.json\n\t\tyarn-debug.log*\n\t\t.next/\n\t\t.swc/\n\t\tbuild/\n\t\tcoverage/\n\t\tdist/\n\t\tout/\n\t\tplaywright-report/\n\t\tstorybook-static/\n\t\tsdk/wallet-adapter/site/pages/\n\t\tCHANGELOG.md\n\t\t\n\n \n13 changes: 7 additions & 6 deletions\n13  \n.vscode/extensions.json\n\t\t@@ -1,8 +1,9 @@\n\t\t{\n\t\t  \"recommendations\": [\n\t\t    \"move.move-analyzer\",\n\t\t    \"rust-lang.rust-analyzer\",\n\t\t    \"esbenp.prettier-vscode\",\n\t\t    \"ms-playwright.playwright\"\n\t\t  ]\n\t\t    \"recommendations\": [\n\t\t        \"move.move-analyzer\",\n\t\t        \"rust-lang.rust-analyzer\",\n\t\t        \"esbenp.prettier-vscode\",\n\t\t        \"ms-playwright.playwright\",\n\t\t        \"dbaeumer.vscode-eslint\"\n\t\t    ]\n\t\t}\n \n24 changes: 0 additions & 24 deletions\n24  \napps/core/.eslintrc.js\nLoad diff\n\nThis file was deleted.\n\n \n4 changes: 0 additions & 4 deletions\n4  \napps/core/.prettierrc.json\nLoad diff\n\nThis file was deleted.\n\n6 comments on commit 98a37d4\nvercel bot commented on 98a37d4 \n\nSuccessfully deployed to the following URLs:\n\noffline-signer-helper – ./dapps/offline-signer-helper\n\noffline-signer-helper.vercel.app\noffline-signer-helper-git-main-mysten-labs.vercel.app\noffline-signer-helper-mysten-labs.vercel.app\n\nvercel bot commented on 98a37d4 \n\nSuccessfully deployed to the following URLs:\n\nsui-kiosk – ./dapps/kiosk\n\nsui-kiosk.vercel.app\nsui-kiosk-mysten-labs.vercel.app\nsui-kiosk-git-main-mysten-labs.vercel.app\n\nvercel bot commented on 98a37d4 \n\nSuccessfully deployed to the following URLs:\n\nsui-wallet-kit – ./sdk/wallet-adapter/site\n\nsui-wallet-kit-git-main-mysten-labs.vercel.app\nsui-wallet-kit-mysten-labs.vercel.app\nsui-wallet-kit.vercel.app\n\nvercel bot commented on 98a37d4 \n\nSuccessfully deployed to the following URLs:\n\nexplorer – ./apps/explorer\n\nexplorer-git-main-mysten-labs.vercel.app\nexplorer-topaz.vercel.app\nexplorer-mysten-labs.vercel.app\nsuiexplorer.com\nwww.explorer.sui.io\nwww.suiexplorer.com\nexplorer.sui.io\n\nvercel bot commented on 98a37d4 \n\nSuccessfully deployed to the following URLs:\n\nwallet-adapter – ./sdk/wallet-adapter/example\n\nsui-wallet-adapter.vercel.app\nwallet-adapter-git-main-mysten-labs.vercel.app\nwallet-adapter-mysten-labs.vercel.app\n\nvercel bot commented on 98a37d4 \n\nSuccessfully deployed to the following URLs:\n\nexplorer-storybook – ./apps/explorer\n\nexplorer-storybook-mysten-labs.vercel.app\nexplorer-storybook.vercel.app\nexplorer-storybook-git-main-mysten-labs.vercel.app\n\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "[CI] Fix workflow by stefan-mysten · Pull Request #17717 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/17717",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\n[CI] Fix workflow #17717\n Merged\nstefan-mysten merged 1 commit into MystenLabs:main from stefan-mysten:fix_workflow \n Conversation 2\n Commits 1\n Checks 78\n Files changed\nConversation\nContributor\nstefan-mysten commented \nDescription\n\nDescribe the changes or additions included in this PR.\n\nTest plan\n\nHow did you test the new or updated feature?\n\nRelease notes\n\nCheck each box that your changes affect. If none of the boxes relate to your changes, release notes aren't required.\n\nFor each box you select, include information after the relevant heading that describes the impact of your changes that a user might notice and any actions they must take to implement updates.\n\n Protocol:\n Nodes (Validators and Full nodes):\n Indexer:\n JSON-RPC:\n GraphQL:\n CLI:\n Rust SDK:\nFix workflow\n6c085ac\n stefan-mysten requested a review from ebmifa \n stefan-mysten marked this pull request as ready for review \nvercel bot commented \n\n@stefan-mysten is attempting to deploy a commit to the Mysten Labs Team on Vercel.\n\nA member of the Team first needs to authorize it.\n\nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nsui-docs\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMay 13, 2024 11:04pm\n vercel bot deployed to Preview – sui-docs \nView deployment\nebmifa approved these changes \nView reviewed changes\nView details\n stefan-mysten merged commit 7da47ba into MystenLabs:main \n52 of 82 checks passed\n stefan-mysten deleted the fix_workflow branch \nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\nebmifa\n\nAssignees\nNo one assigned\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n2 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "sunset workspace-hack · MystenLabs/sui@97528c6 · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/97528c682832e863a5ef55c882dae43050bcff34",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\nsunset workspace-hack\nBrowse files\n Loading branch information\nbmwill committed  \n1 parent 5be0e98\ncommit 97528c6\n \nShowing 24 changed files with 7 additions and 3,428 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\n.config\nhakari.toml\n.github/workflows\nfastcrypto_pull.yml\nnarwhal_pull.yml\nnightly.yml\nrust.yml\nCargo.lock\nCargo.toml\ncrates\nsui-e2e-tests\nCargo.toml\nsui-rosetta/docker/sui-rosetta-local\nDockerfile\nsui/src/unit_tests\nprofiler_tests.rs\nworkspace-hack\n.gitattributes\nCargo.toml\nREADME.md\nbuild.rs\nsrc\nlib.rs\ndocker\nsui-services\nDockerfile\nsui-source-service\nDockerfile\nnarwhal/scripts\nupdate_dependencies.sh\nscripts\nexecution_layer.py\nsimtest\nconfig-patch\nupdate_fastcrypto.sh\nupdate_move.sh\nupdate_narwhal.sh\nsui-execution/src\ntests.rs\n \n54 changes: 0 additions & 54 deletions\n54  \n.config/hakari.toml\nLoad diff\n\nThis file was deleted.\n\n  \n5 changes: 0 additions & 5 deletions\n5  \n.github/workflows/fastcrypto_pull.yml\n\t@@ -16,11 +16,6 @@ jobs:\n\t\t    steps:\n\t\t      - uses: actions/checkout@v3\n\t\t      - uses: bmwill/rust-cache@v1 # Fork of 'Swatinem/rust-cache' which allows caching additional paths\n\t\t      - name: Install cargo-hakari, and cache the binary\n\t\t        uses: baptiste0928/cargo-install@30f432979e99f3ea66a8fa2eede53c07063995d8\n\t\t        with:\n\t\t          crate: cargo-hakari\n\t\t          locked: true\n\t\t      - name: Update the Narwhal pointer\n\t\t        run: |\n\t\t          scripts/update_fastcrypto.sh\n\n\t\n  \n5 changes: 0 additions & 5 deletions\n5  \n.github/workflows/narwhal_pull.yml\n\t@@ -19,11 +19,6 @@ jobs:\n\t\t    steps:\n\t\t      - uses: actions/checkout@v3\n\t\t      - uses: bmwill/rust-cache@v1 # Fork of 'Swatinem/rust-cache' which allows caching additional paths\n\t\t      - name: Install cargo-hakari, and cache the binary\n\t\t        uses: baptiste0928/cargo-install@30f432979e99f3ea66a8fa2eede53c07063995d8\n\t\t        with:\n\t\t          crate: cargo-hakari\n\t\t          locked: true\n\t\t      - name: Update the Narwhal pointer\n\t\t        run: |\n\t\t          scripts/update_narwhal.sh\n\n\t\n  \n31 changes: 0 additions & 31 deletions\n31  \n.github/workflows/nightly.yml\n\t@@ -39,37 +39,6 @@ jobs:\n\t\t          command: build\n\t\t          args: --all-targets --all-features --release --profile=release\n\t\t\n\n\t\t  # This job seems to be consistently producing false-positives, lets disable for now\n\t\t  # cargo-udeps:\n\t\t  #   runs-on: [ubuntu-ghcloud]\n\t\t  #   steps:\n\t\t  #     - uses: actions/checkout@v3\n\t\t  #     # Enable caching of the 'librocksdb-sys' crate by additionally caching the\n\t\t  #     # 'librocksdb-sys' src directory which is managed by cargo\n\t\t  #     - uses: bmwill/rust-cache@v1 # Fork of 'Swatinem/rust-cache' which allows caching additional paths\n\t\t  #       with:\n\t\t  #         path: ~/.cargo/registry/src/**/librocksdb-sys-*\n\t\t  #     - name: Install cargo-udeps, and cache the binary\n\t\t  #       uses: baptiste0928/cargo-install@v1\n\t\t  #       with:\n\t\t  #         crate: cargo-udeps\n\t\t  #         locked: true\n\t\t  #     - name: Install cargo-hakari, and cache the binary\n\t\t  #       uses: baptiste0928/cargo-install@v1\n\t\t  #       with:\n\t\t  #         crate: cargo-hakari\n\t\t  #         locked: true\n\t\t  #     # Normally running cargo-udeps requires use of a nightly compiler\n\t\t  #     # In order to have a more stable and less noisy experience, lets instead\n\t\t  #     # opt to use the stable toolchain specified via the 'rust-toolchain' file\n\t\t  #     # and instead enable nightly features via 'RUSTC_BOOTSTRAP'\n\t\t  #     - name: run cargo-udeps\n\t\t  #       run: |\n\t\t  #         # First we need to disable the workspace-hack package\n\t\t  #         cargo hakari disable\n\t\t  #         cargo hakari remove-deps -y\n\t\t  #         RUSTC_BOOTSTRAP=1 cargo udeps\n\t\t\n\n\t\t  report-status:\n\t\t    name: Report Status\n\t\t    runs-on: ubuntu-latest\n\n\t\n  \n17 changes: 0 additions & 17 deletions\n17  \n.github/workflows/rust.yml\n\t@@ -53,14 +53,7 @@ jobs:\n\t\t    steps:\n\t\t      - uses: actions/checkout@v3\n\t\t      - uses: bmwill/rust-cache@v1 # Fork of 'Swatinem/rust-cache' which allows caching additional paths\n\t\t      - name: Install cargo-hakari, and cache the binary\n\t\t        uses: baptiste0928/cargo-install@30f432979e99f3ea66a8fa2eede53c07063995d8\n\t\t        with:\n\t\t          crate: cargo-hakari\n\t\t          locked: true\n\t\t      - run: cargo xlint\n\t\t      - run: |\n\t\t          cargo hakari generate --diff  # workspace-hack Cargo.toml is up-to-date\n\t\t\n\n\t\t  release-notes-description-check:\n\t\t    name: release-notes-check\n\n\t@@ -155,11 +148,6 @@ jobs:\n\t\t      - name: rustdoc\n\t\t        run: |\n\t\t          cargo doc --workspace --no-deps\n\t\t      - name: Install cargo-hakari, and cache the binary\n\t\t        uses: baptiste0928/cargo-install@30f432979e99f3ea66a8fa2eede53c07063995d8\n\t\t        with:\n\t\t          crate: cargo-hakari\n\t\t          locked: true\n\t\t      - name: Install rustfmt\n\t\t        run: rustup component add rustfmt\n\t\t      - name: sui-execution\n\n\t@@ -359,11 +347,6 @@ jobs:\n\t\t    runs-on: [ubuntu-ghcloud]\n\t\t    steps:\n\t\t      - uses: actions/checkout@v3\n\t\t      - name: Install cargo-hakari, and cache the binary\n\t\t        uses: baptiste0928/cargo-install@30f432979e99f3ea66a8fa2eede53c07063995d8\n\t\t        with:\n\t\t          crate: cargo-hakari\n\t\t          locked: true\n\t\t      - name: Make cut\n\t\t        run: ./scripts/execution_layer.py cut for_ci_test\n\t\t      - name: Check execution builds\n\n\t\n0 comments on commit 97528c6\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "[CI] Fix workflow (#17717) · MystenLabs/sui@7da47ba · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/7da47ba7eded196287c34cba422c73ab29ef4a2c",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\n[CI] Fix workflow (#17717)\nBrowse files\n## Description \n\nDescribe the changes or additions included in this PR.\n\n## Test plan \n\nHow did you test the new or updated feature?\n\n---\n\n## Release notes\n\nCheck each box that your changes affect. If none of the boxes relate to\nyour changes, release notes aren't required.\n\nFor each box you select, include information after the relevant heading\nthat describes the impact of your changes that a user might notice and\nany actions they must take to implement updates.\n\n- [ ] Protocol: \n- [ ] Nodes (Validators and Full nodes): \n- [ ] Indexer: \n- [ ] JSON-RPC: \n- [ ] GraphQL: \n- [ ] CLI: \n- [ ] Rust SDK:\n Loading branch information\nstefan-mysten committed  \n1 parent c930657\ncommit 7da47ba\nShowing 1 changed file with 2 additions and 0 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\n  \n2 changes: 2 additions & 0 deletions\n2  \n.github/workflows/github-issues-monitor.yml\n\t@@ -16,6 +16,7 @@ jobs:\n\t\t        uses: peter-evans/repository-dispatch@ff45666b9427631e3450c54a1bcbee4d9ff4d7c0 # pin@v3.0.0\n\t\t        with: \n\t\t          repository: MystenLabs/sui-operations\n\t\t          token: ${{ secrets.DOCKER_BINARY_BUILDS_DISPATCH }}\n\t\t          event-type: github-issues-external-prs-monitor\n\t\t          client-payload: '{\"author\": \"${{github.event.pull_request.user.login}}\", \"event_name\": \"pull_request\", \"pull_request_number\": \"${{github.event.pull_request.number}}\"}'\n\t\t\n\n\n\t@@ -28,6 +29,7 @@ jobs:\n\t\t        uses: peter-evans/repository-dispatch@ff45666b9427631e3450c54a1bcbee4d9ff4d7c0 # pin@v3.0.0\n\t\t        with: \n\t\t          repository: MystenLabs/sui-operations\n\t\t          token: ${{ secrets.DOCKER_BINARY_BUILDS_DISPATCH }}\n\t\t          event-type: github-issues-external-prs-monitor\n\t\t          client-payload: '{\"author\": \"${{github.event.issue.user.login}}\", \"event_name\": \"issue\", \"issue_number\": \"${{github.event.issue.number}}\"}'\n\t\t\n\n0 comments on commit 7da47ba\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Version Packages by sui-merge-bot[bot] · Pull Request #17746 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/17746",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\nVersion Packages #17746\n Merged\nhayes-mysten merged 1 commit into main from changeset-release/main \n+25 −10 \n Conversation 2\n Commits 1\n Checks 49\n Files changed 8\nConversation\nContributor\nsui-merge-bot bot commented \n\nThis PR was opened by the Changesets release GitHub action. When you're ready to do a release, you can merge this and publish to npm yourself or setup this action to publish automatically. If you're not ready to do a release yet, that's fine, whenever you add more changesets to main, this PR will be updated.\n\nReleases\n@mysten/create-dapp@0.2.19\nPatch Changes\nUpdated dependencies [2da78f7]\n@mysten/dapp-kit@0.13.1\n@mysten/dapp-kit@0.13.1\nPatch Changes\n2da78f7: Update stashed logo and fix detection of stashed wallet\nUpdated dependencies [2da78f7]\n@mysten/zksend@0.8.1\n@mysten/zksend@0.8.1\nPatch Changes\n2da78f7: Update stashed logo and fix detection of stashed wallet\nVersion Packages\nca3a97c\n sui-merge-bot bot requested a review from a team as a code owner \nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nmultisig-toolkit\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMay 15, 2024 0:25am\nsui-docs\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMay 15, 2024 0:25am\nsui-kiosk\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMay 15, 2024 0:25am\nsui-typescript-docs\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMay 15, 2024 0:25am\n vercel bot deployed to Preview – multisig-toolkit \nView deployment\nContributor\ngithub-actions bot commented \n\n⚠️ 🦋 Changesets Warning: This PR has changes to public npm packages, but does not contain a changeset. You can create a changeset easily by running pnpm changeset in the root of the Sui repo, and following the prompts. If your change does not need a changeset (e.g. a documentation-only change), you can ignore this message. This warning will be removed when a changeset is added to this pull request.\n\nLearn more about Changesets.\n\n vercel bot deployed to Preview – sui-docs \nView deployment\n vercel bot deployed to Preview – sui-kiosk \nView deployment\n vercel bot deployed to Preview – sui-typescript-docs \nView deployment\nhayes-mysten approved these changes \nView reviewed changes\nView details\n hayes-mysten merged commit 44fdff9 into main \n53 checks passed\n hayes-mysten deleted the changeset-release/main branch \nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\nhayes-mysten\n\nAssignees\nNo one assigned\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n1 participant\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Version Packages (#17746) · MystenLabs/sui@44fdff9 · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/44fdff9962b27914a079077784ee14c6bd4a2e1d",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\nVersion Packages (#17746)\nBrowse files\nThis PR was opened by the [Changesets\nrelease](https://github.com/changesets/action) GitHub action. When\nyou're ready to do a release, you can merge this and publish to npm\nyourself or [setup this action to publish\nautomatically](https://github.com/changesets/action#with-publishing). If\nyou're not ready to do a release yet, that's fine, whenever you add more\nchangesets to main, this PR will be updated.\n\n\n# Releases\n## @mysten/create-dapp@0.2.19\n\n### Patch Changes\n\n-   Updated dependencies [2da78f7]\n    -   @mysten/dapp-kit@0.13.1\n\n## @mysten/dapp-kit@0.13.1\n\n### Patch Changes\n\n-   2da78f7: Update stashed logo and fix detection of stashed wallet\n-   Updated dependencies [2da78f7]\n    -   @mysten/zksend@0.8.1\n\n## @mysten/zksend@0.8.1\n\n### Patch Changes\n\n-   2da78f7: Update stashed logo and fix detection of stashed wallet\n\nCo-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>\n Loading branch information\nsui-merge-bot[bot] and github-actions[bot] committed  \n1 parent 2da78f7\ncommit 44fdff9\n \nShowing 8 changed files with 25 additions and 10 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\n.changeset\nlong-teachers-complain.md\nsdk\ncreate-dapp\nCHANGELOG.md\npackage.json\ndapp-kit\nCHANGELOG.md\npackage.json\ntypescript/src\nversion.ts\nzksend\nCHANGELOG.md\npackage.json\n \n6 changes: 0 additions & 6 deletions\n6  \n.changeset/long-teachers-complain.md\nLoad diff\n\nThis file was deleted.\n\n \n7 changes: 7 additions & 0 deletions\n7  \nsdk/create-dapp/CHANGELOG.md\n\t\t@@ -1,5 +1,12 @@\n\t\t# @mysten/create-dapp\n\t\t\n\n\t\t## 0.2.19\n\t\t\n\n\t\t### Patch Changes\n\t\t\n\n\t\t- Updated dependencies [2da78f77a3]\n\t\t  - @mysten/dapp-kit@0.13.1\n\t\t\n\n\t\t## 0.2.18\n\t\t\n\n\t\t### Patch Changes\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \nsdk/create-dapp/package.json\n\t@@ -3,7 +3,7 @@\n\t\t\t\"author\": \"Mysten Labs <build@mystenlabs.com>\",\n\t\t\t\"description\": \"A CLI for creating new Sui dApps\",\n\t\t\t\"homepage\": \"https://sdk.mystenlabs.com\",\n\t\t\t\"version\": \"0.2.18\",\n\t\t\t\"version\": \"0.2.19\",\n\t\t\t\"license\": \"Apache-2.0\",\n\t\t\t\"files\": [\n\t\t\t\t\"CHANGELOG.md\",\n\n\t\n \n8 changes: 8 additions & 0 deletions\n8  \nsdk/dapp-kit/CHANGELOG.md\n\t\t@@ -1,5 +1,13 @@\n\t\t# @mysten/dapp-kit\n\t\t\n\n\t\t## 0.13.1\n\t\t\n\n\t\t### Patch Changes\n\t\t\n\n\t\t- 2da78f77a3: Update stashed logo and fix detection of stashed wallet\n\t\t- Updated dependencies [2da78f77a3]\n\t\t  - @mysten/zksend@0.8.1\n\t\t\n\n\t\t## 0.13.0\n\t\t\n\n\t\t### Minor Changes\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \nsdk/dapp-kit/package.json\n\t@@ -3,7 +3,7 @@\n\t\t\t\"author\": \"Mysten Labs <build@mystenlabs.com>\",\n\t\t\t\"description\": \"A collection of React hooks and components for interacting with the Sui blockchain and wallets.\",\n\t\t\t\"homepage\": \"https://sdk.mystenlabs.com/typescript\",\n\t\t\t\"version\": \"0.13.0\",\n\t\t\t\"version\": \"0.13.1\",\n\t\t\t\"license\": \"Apache-2.0\",\n\t\t\t\"files\": [\n\t\t\t\t\"CHANGELOG.md\",\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \nsdk/typescript/src/version.ts\n\t@@ -4,4 +4,4 @@\n\t\t// This file is generated by genversion.mjs. Do not edit it directly.\n\t\t\n\n\t\texport const PACKAGE_VERSION = '0.54.1';\n\t\texport const TARGETED_RPC_VERSION = '1.25.0';\n\t\texport const TARGETED_RPC_VERSION = '1.26.0';\n \n6 changes: 6 additions & 0 deletions\n6  \nsdk/zksend/CHANGELOG.md\n\t\t@@ -1,5 +1,11 @@\n\t\t# @mysten/zksend\n\t\t\n\n\t\t## 0.8.1\n\t\t\n\n\t\t### Patch Changes\n\t\t\n\n\t\t- 2da78f77a3: Update stashed logo and fix detection of stashed wallet\n\t\t\n\n\t\t## 0.8.0\n\t\t\n\n\t\t### Minor Changes\n\n\t\n \n2 changes: 1 addition & 1 deletion\n2  \nsdk/zksend/package.json\n\t\t@@ -1,6 +1,6 @@\n\t\t{\n\t\t\t\"name\": \"@mysten/zksend\",\n\t\t\t\"version\": \"0.8.0\",\n\t\t\t\"version\": \"0.8.1\",\n\t\t\t\"description\": \"TODO: Write Description\",\n\t\t\t\"license\": \"Apache-2.0\",\n\t\t\t\"author\": \"Mysten Labs <build@mystenlabs.com>\",\n\n\t\n0 comments on commit 44fdff9\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Add a new clippy target to run on mysql feature protected code by sadhansood · Pull Request #17548 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/17548",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\nAdd a new clippy target to run on mysql feature protected code #17548\n Merged\nsadhansood merged 1 commit into main from sadhan/mysql_clippy \n Conversation 3\n Commits 1\n Checks 43\n Files changed\nConversation\nContributor\nsadhansood commented \nDescription\n\nWithout this PR, with xclippy we run cargo clippy --all-features but that does not get run on mysql protected code since we enable only one code path i.e. either postgres or mysql and postgres is set as default everywhere. We want to however run clippy on mysql code paths as well. With this, we should be able to do so.\n\nTest plan\n\nThis PR\n\nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nsui-docs\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMay 7, 2024 6:20pm\n3 Ignored Deployments\n vercel bot deployed to Preview – sui-docs \nView deployment\n sadhansood requested review from emmazzz, bmwill, gegaowp and phoenix-o \n sadhansood force-pushed the sadhan/mysql_clippy branch from e35ba4c to e376ad3 \nCompare\n vercel bot deployed to Preview – sui-docs \nView deployment\nAdd a new clippy target to run on mysql feature protected code\n44fd938\n sadhansood force-pushed the sadhan/mysql_clippy branch from e376ad3 to 44fd938 \nCompare\n vercel bot deployed to Preview – sui-docs \nView deployment\nemmazzz reviewed \nView reviewed changes\ncrates/sui-indexer/src/models/events.rs\n\t\t@@ -53,7 +53,7 @@ pub struct StoredEvent {\n\t\t    #[diesel(sql_type = diesel::sql_types::Text)]\n\t\t    pub event_type: String,\n\t\t\n\n\t\t    #[diesel(sql_type = diesel::sql_types::Bytea)]\n\t\t    #[diesel(sql_type = diesel::sql_types::Binary)]\nContributor\n emmazzz \n\nWhy do we need to change this?\n\nContributor\nAuthor\n sadhansood \n\nBytea is defined in diesel/postgres but Binary is defined in diesel. But Bytea is nothing but a type alias for binary pub type Bytea = Binary , so using Binary makes it possible to be used across both postgres and mysql code paths\n\n1\n sadhansood requested a review from emmazzz \nemmazzz approved these changes \nView reviewed changes\nView details\n sadhansood merged commit aeb37cd into main \n47 checks passed\n sadhansood deleted the sadhan/mysql_clippy branch \nbenr-ml pushed a commit that referenced this pull request \nAdd a new clippy target to run on mysql feature protected code (#17548) …\n29df7d0\nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\nemmazzz\n\nbmwill\n\ngegaowp\n\nphoenix-o\n\nAssignees\nNo one assigned\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n2 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Commits · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/commits/main/",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommits\nBranch selector\n main\nUser selector\nAll users\nDatepicker\nAll time\nCommit History\nCommits on May 15, 2024\nEnsure Non Zero Bridge Amount (#17745)\nBridgerz\ncommitted\ne2dc6ad\n[fix][homebrew] don't panic if git commit unavailable (#17760)\njohnjmartin\ncommitted\nf1aba95\n[cleanup][move] A bit of cleaning in language storage and removing read-write-set-types since it is no longer used. (#17757)\ntzakian\ncommitted\nb8dfe64\n[cli] Fix cli client publish path (#17749)\nstefan-mysten\ncommitted\nefd50a3\nupdate extension to use new SUINS format (#17738)\nplam-ml\ncommitted\n1c4dbbe\nuse env var to set consensus min delay in tests (#17750)\nlongbowlu\ncommitted\n0616027\n[SuiNS Indexer] Mainnet values & stricter check (#17754)\nmanolisliolios\ncommitted\n4f90ab7\nFix Windows build (#17752)\nmwtian\ncommitted\n3f85bfa\n[consensus] Add failpoint for leader schedule change (#17732)\narun-koshy\ncommitted\n33c110b\n[Consensus][tonic] authenticate client and server with self signed TLS certificates (#17645)\nmwtian\ncommitted\nbc60e8c\nUpdate Move examples of EC operations (#17635)\nbenr-ml\ncommitted\n4da91c4\n[move-ide] Bump version number for publishing (#17748)\nawelc\ncommitted\n764ab3f\nVersion Packages (#17746)\nsui-merge-bot[bot]\nand\ngithub-actions[bot]\ncommitted\n44fdff9\nFix stashed logo (#17744)\nhayes-mysten\ncommitted\n2da78f7\nCommits on May 14, 2024\n[Linter] Constant naming (#16819)\ndzungdinh94\nand\njamedzung\ncommitted\n9dcb3ef\nVault reentrancy guard (#17487)\nBridgerz\ncommitted\n3a11153\n[docs] Tip about flag (#17736)\nronny-mysten\nand\nstefan-mysten\ncommitted\na5491e5\nindexer logging: DB connection & reset info (#17728)\ngegaowp\ncommitted\n23dac89\n[GraphQL/Consistency][chore] Update checkpoint_viewed_at comment (#17695)\namnn\ncommitted\nae1ac35\n[GraphQL/DB][EASY] Debug print query (#17694)\namnn\ncommitted\nf907cfd\n[GraphQL][EASY] Remove MovePackage.checkpoint_viewed_at (#17691)\namnn\ncommitted\ndc27ec8\n[Indexer/Schema] Remove query cost function (#17689)\namnn\ncommitted\n60770fa\n[move-2024][docs] Update plinko.mdx (#17373)\ncgswords\ncommitted\nc6a2219\nTiDB indexer: minor README change (#17684)\ngegaowp\ncommitted\n8d5807d\n[Indexer/TiDB] Standardize prefix lengths for blob indices (#17688)\namnn\ncommitted\n008253f\n[docs] Update sponsored-transactions.mdx (#17703)\nstefan-mysten\ncommitted\n4d735dc\nFilter out ignored tx from checkpoint roots (not just deferred) (#17664)\naschran\ncommitted\nc5dfd80\ncherry-pick from release branch to main (#17729)\ndariorussi\ncommitted\n413d8af\n[Indexer/TiDB][chore] Fix schema indentation and capitalization (#17687)\namnn\ncommitted\nd86e28d\nUse same react-query version in docs site to fix rendering issue (#17723)\nhayes-mysten\ncommitted\n08649ce\n[Indexer/TiDB][EASY] Add pre-requisites to README. (#17686)\namnn\ncommitted\nfb43cf8\nfix: Remove redundant dot in error message (#17362)\nhowjmay\ncommitted\n34ba00f\n[consensus] Fix crash recovery when no commit info was flushed (#17712)\narun-koshy\ncommitted\n6b08134\n[CI] Fix workflow (#17717)\nstefan-mysten\ncommitted\n7da47ba\n[sui-client] Add basic auth option to client rpc config (#17652)\nlxfind\ncommitted\nc930657\nPagination\nPrevious\nNext\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Add a new clippy target to run on mysql feature protected code (#17548) · MystenLabs/sui@aeb37cd · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/aeb37cdce66a87c1485474be8893456fd9cad88f",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\nAdd a new clippy target to run on mysql feature protected code (#17548)\nBrowse files\n## Description \n\nWithout this PR, with xclippy we run `cargo clippy --all-features` but\nthat does not get run on mysql protected code since we enable only one\ncode path i.e. either postgres or mysql and postgres is set as default\neverywhere. We want to however run clippy on mysql code paths as well.\nWith this, we should be able to do so.\n\n## Test plan \n\nThis PR\n Loading branch information\nsadhansood committed  \n1 parent 83952af\ncommit aeb37cd\n \nShowing 4 changed files with 23 additions and 1 deletion.\nWhitespace\nIgnore whitespace\nSplit\nUnified\n.cargo\nconfig\n.github/workflows\nrust.yml\ncrates/sui-indexer/src\nmodels\nevents.rs\nschema\nmod.rs\n  \n15 changes: 15 additions & 0 deletions\n15  \n.cargo/config\n\t@@ -24,5 +24,20 @@ move-clippy = [\n\t\t    \"-Aclippy::new_without_default\",\n\t\t]\n\t\t\n\n\t\tmysql-clippy = [\n\t\t    \"clippy\",\n\t\t    \"--package\",\n\t\t    \"sui-indexer\",\n\t\t    \"--features\",\n\t\t    \"mysql-feature\",\n\t\t    \"--no-default-features\",\n\t\t    \"--\",\n\t\t    \"-Wclippy::all\",\n\t\t    \"-Wclippy::disallowed_methods\",\n\t\t    \"-Aclippy::upper_case_acronyms\",\n\t\t    \"-Aclippy::type_complexity\",\n\t\t    \"-Aclippy::new_without_default\",\n\t\t]\n\t\t\n\n\t\t[build]\n\t\trustflags = [\"-C\", \"force-frame-pointers=yes\", \"-C\", \"force-unwind-tables=yes\"]\n  \n3 changes: 3 additions & 0 deletions\n3  \n.github/workflows/rust.yml\n\t@@ -353,6 +353,9 @@ jobs:\n\t\t      - name: cargo clippy\n\t\t        run: cargo xclippy -D warnings\n\t\t\n\n\t\t      - name: cargo mysql-clippy\n\t\t        run: cargo mysql-clippy -D warnings\n\t\t\n\n\t\t  rustfmt:\n\t\t    needs: diff\n\t\t    if: needs.diff.outputs.isRust == 'true'\n\n\t\n  \n2 changes: 1 addition & 1 deletion\n2  \ncrates/sui-indexer/src/models/events.rs\n\t@@ -53,7 +53,7 @@ pub struct StoredEvent {\n\t\t    #[diesel(sql_type = diesel::sql_types::Text)]\n\t\t    pub event_type: String,\n\t\t\n\n\t\t    #[diesel(sql_type = diesel::sql_types::Bytea)]\n\t\t    #[diesel(sql_type = diesel::sql_types::Binary)]\n\t\t    pub event_type_package: Vec<u8>,\n\t\t\n\n\t\t    #[diesel(sql_type = diesel::sql_types::Text)]\n\n\t\n  \n4 changes: 4 additions & 0 deletions\n4  \ncrates/sui-indexer/src/schema/mod.rs\n\t@@ -3,7 +3,11 @@\n\t\t\n\n\t\t#![allow(clippy::all)]\n\t\t\n\n\t\t#[cfg(feature = \"mysql-feature\")]\n\t\t#[cfg(not(feature = \"postgres-feature\"))]\n\t\tmod mysql;\n\t\t\n\n\t\t#[cfg(feature = \"postgres-feature\")]\n\t\tmod pg;\n\t\t\n\n\t\t#[cfg(feature = \"postgres-feature\")]\n\n\t\n0 comments on commit aeb37cd\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Ensure Non Zero Bridge Amount by Bridgerz · Pull Request #17745 · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pull/17745",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n384\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nNew issue\nEnsure Non Zero Bridge Amount #17745\n Merged\nBridgerz merged 2 commits into main from hackenproof-94 \n+8 −0 \n Conversation 2\n Commits 2\n Checks 47\n Files changed 2\nConversation\nContributor\nBridgerz commented \n\nhttps://hackenproof.com/manager/sui/sui-protocol/reports/SUIPR-94\n\nUpdate SuiBridge.sol\n7ee724c\n Bridgerz assigned longbowlu and chargarlic \nvercel bot commented  • \nedited \n\nThe latest updates on your projects. Learn more about Vercel for Git ↗︎\n\nName\tStatus\tPreview\tComments\tUpdated (UTC)\nsui-docs\t✅ Ready (Inspect)\tVisit Preview\t💬 Add feedback\tMay 15, 2024 7:06pm\n3 Ignored Deployments\nlongbowlu approved these changes \nView reviewed changes\nContributor\nlongbowlu left a comment\n\nadd a test case?\n\n1\nUpdate SuiBridgeTest.t.sol\n814241c\n vercel bot deployed to Preview – sui-docs \nView deployment\nView details\n Bridgerz merged commit e2dc6ad into main \n51 checks passed\n Bridgerz deleted the hackenproof-94 branch \nSign up for free to join this conversation on GitHub. Already have an account? Sign in to comment\nReviewers\n\nlongbowlu\n\nAssignees\n\nlongbowlu\n\nchargarlic\n\nLabels\nNone yet\nProjects\nNone yet\nMilestone\nNo milestone\nDevelopment\n\nSuccessfully merging this pull request may close these issues.\n\nNone yet\n\n3 participants\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Commits · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/commits?author=Bridgerz",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n383\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommits\nBranch selector\n main\nUser selector\nBridgerz\nDatepicker\nAll time\nCommit History\nCommits on May 15, 2024\nEnsure Non Zero Bridge Amount (#17745)\nBridgerz\ncommitted\ne2dc6ad\nCommits on May 14, 2024\nVault reentrancy guard (#17487)\nBridgerz\ncommitted\n3a11153\nRemove sui bridge crate build (#17713)\nBridgerz\ncommitted\n9e476bf\nCommits on Mar 19, 2024\nAdd Bridge EVM Contract Project (#16449)\nBridgerz\ncommitted\n2d13f08\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Ensure Non Zero Bridge Amount (#17745) · MystenLabs/sui@e2dc6ad · GitHub",
      "url": "https://github.com/MystenLabs/sui/commit/e2dc6ad826455efe163276d8d6ef80d2b33a1794",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n383\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nCommit\nEnsure Non Zero Bridge Amount (#17745)\nBrowse files\nhttps://hackenproof.com/manager/sui/sui-protocol/reports/SUIPR-94\n main (#17745)\nBridgerz committed  \n1 parent f1aba95\ncommit e2dc6ad\n \nShowing 2 changed files with 8 additions and 0 deletions.\nWhitespace\nIgnore whitespace\nSplit\nUnified\nbridge/evm\ncontracts\nSuiBridge.sol\ntest\nSuiBridgeTest.t.sol\n  \n2 changes: 2 additions & 0 deletions\n2  \nbridge/evm/contracts/SuiBridge.sol\n\t@@ -156,6 +156,8 @@ contract SuiBridge is ISuiBridge, CommitteeUpgradeable, PausableUpgradeable {\n\t\t            IERC20Metadata(tokenAddress).decimals(), config.tokenSuiDecimalOf(tokenID), amount\n\t\t        );\n\t\t\n\n\t\t        require(suiAdjustedAmount > 0, \"SuiBridge: Invalid amount provided\");\n\t\t\n\n\t\t        emit TokensDeposited(\n\t\t            config.chainID(),\n\t\t            nonces[BridgeUtils.TOKEN_TRANSFER],\n\n\t\n  \n6 changes: 6 additions & 0 deletions\n6  \nbridge/evm/test/SuiBridgeTest.t.sol\n\t@@ -548,6 +548,12 @@ contract SuiBridgeTest is BridgeBaseTest, ISuiBridge {\n\t\t        reentrantAttack.attack();\n\t\t    }\n\t\t\n\n\t\t    function testSuiBridgeInvalidDecimalConversion() public {\n\t\t        IERC20(wETH).approve(address(bridge), 10 ether);\n\t\t        vm.expectRevert(bytes(\"SuiBridge: Invalid amount provided\"));\n\t\t        bridge.bridgeERC20(BridgeUtils.ETH, 1, abi.encode(\"suiAddress\"), 0);\n\t\t    }\n\t\t\n\n\t\t    // An e2e token transfer regression test covering message ser/de and signature verification\n\t\t    function testTransferSuiToEthRegressionTest() public {\n\t\t        address[] memory _committee = new address[](4);\n\n\t\n0 comments on commit e2dc6ad\nPlease sign in to comment.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Pulse · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pulse",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n383\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nInsights: MystenLabs/sui\nPulse\nContributors\nCommunity Standards\nCommits\nCode frequency\nDependency graph\nNetwork\nForks\nMay 8, 2024 – May 15, 2024\nPeriod: 1 week \nOverview\n169 Active pull requests\n13 Active issues\n 123\nMerged pull requests\n 46\nOpen pull requests\n 10\nClosed issues\n 3\nNew issues\n 2 Releases published by 1 person\ndevnet-v1.25.0\n\npublished \n\ntestnet-v1.25.0\n\npublished \n\n 123 Pull requests merged by 39 people\nEnsure Non Zero Bridge Amount\n\n#17745 merged \n\n[fix][homebrew] don't panic if git commit unavailable\n\n#17760 merged \n\n[cleanup][move] A bit of cleaning in language storage and removing read-write-set-types since it is no longer used.\n\n#17757 merged \n\n[cli] Fix cli client publish path\n\n#17749 merged \n\nupdate extension to use new SUINS format\n\n#17738 merged \n\nuse env var to set consensus min delay in tests\n\n#17750 merged \n\n[SuiNS Indexer] Mainnet values & stricter check\n\n#17754 merged \n\nFix Windows build\n\n#17752 merged \n\n[consensus] Add failpoint for leader schedule change\n\n#17732 merged \n\n[Consensus][tonic] authenticate client and server with self signed TLS certificates\n\n#17645 merged \n\nUpdate Move examples of EC operations\n\n#17635 merged \n\ncouple of fixes and compile model\n\n#17382 merged \n\n[move-ide] Bump version number for publishing\n\n#17748 merged \n\nVersion Packages\n\n#17746 merged \n\nFix stashed logo\n\n#17744 merged \n\n[Indexer] Index Package original ID, version, cp sequence number\n\n#17726 merged \n\n[Indexer] Create `objects_version` table.\n\n#17542 merged \n\n[cherry-pick][graphql] Add support for clever error resolution in graphql (#17338)\n\n#17711 merged \n\n[Linter] Constant naming\n\n#16819 merged \n\n[gql] thread cancellation token through indexer to address flaky grap…\n\n#17733 merged \n\nVault reentrancy guard\n\n#17487 merged \n\n[docs] Tip about flag\n\n#17736 merged \n\nindexer logging: DB connection & reset info\n\n#17728 merged \n\n[GraphQL/Consistency][chore] Update checkpoint_viewed_at comment\n\n#17695 merged \n\n[GraphQL/DB][EASY] Debug print query\n\n#17694 merged \n\n[GraphQL][EASY] Remove MovePackage.checkpoint_viewed_at\n\n#17691 merged \n\n[Indexer/Schema] Remove query cost function\n\n#17689 merged \n\n[move-2024][docs] Update plinko.mdx\n\n#17373 merged \n\nTiDB indexer: minor README change\n\n#17684 merged \n\n[Indexer/TiDB] Standardize prefix lengths for blob indices\n\n#17688 merged \n\n[docs] Update sponsored-transactions.mdx\n\n#17703 merged \n\nfix: cherrypick derived author check for zklogin signature verify\n\n#17715 merged \n\nfix: cherrypick use derived author for zklogin verify endpoint\n\n#17714 merged \n\nFilter out ignored tx from checkpoint roots (not just deferred)\n\n#17664 merged \n\nCP 17712\n\n#17730 merged \n\ncherry-pick from release branch to main\n\n#17729 merged \n\n[Indexer/TiDB][chore] Fix schema indentation and capitalization\n\n#17687 merged \n\nregenerate snapshots\n\n#17727 merged \n\nUse same react-query version in docs site to fix rendering issue\n\n#17723 merged \n\nBridge cherry-pick\n\n#17719 merged \n\n[Indexer/TiDB][EASY] Add pre-requisites to README.\n\n#17686 merged \n\n[Indexer] Index Package original ID, version, cp sequence number\n\n#17690 merged \n\nfix: Remove redundant dot in error message\n\n#17362 merged \n\n[consensus] Fix crash recovery when no commit info was flushed\n\n#17712 merged \n\n[CI] Fix workflow\n\n#17717 merged \n\n[sui-client] Add basic auth option to client rpc config\n\n#17652 merged \n\nRemove sui bridge crate build\n\n#17713 merged \n\nUse NonEmpty for SenderSignedData\n\n#17700 merged \n\n[cherry-pick][graphql] Add support for clever error resolution in graphql (#17338)\n\n#17708 merged \n\n[docs] Add more examples to sui client\n\n#17626 merged \n\nfix: use derived author for zklogin verify signature\n\n#17685 merged \n\nRemove unused import in simtest\n\n#17704 merged \n\nCheck for binary list file before reading it\n\n#17698 merged \n\nPin pnpm installed version in ci\n\n#17679 merged \n\n[indexer] primary key of tx_calls should include module and func\n\n#17602 merged \n\n[docs] fix ts sdk doc error\n\n#17634 merged \n\n[cherry-pick][GraphQL]Gql cherry pick available versions\n\n#17642 merged \n\nRandomness: remove partial sigs when full sig is received via checkpoint\n\n#17674 merged \n\n[suiop][docker-gen] e2e ts dockerfile template generation\n\n#17547 merged \n\nCherry pick 17673 & 17667\n\n#17675 merged \n\n[Consensus] break score ties in randomized and deterministic order\n\n#17667 merged \n\n[consensus] set stake threshold override for msim tests\n\n#17673 merged \n\nadd epoch/round to logs in case of RSU tx timeout\n\n#17647 merged \n\n[cherrypick] Only score committed leaders (#17668)\n\n#17672 merged \n\n[consensus] Only score committed leaders\n\n#17668 merged \n\nRevert random beacon in testnet\n\n#17671 merged \n\nQuorum driver take server requested retry interval into consideration\n\n#17520 merged \n\nRevert random beacon in testnet\n\n#17665 merged \n\n[consensus] Fix flaky test_leader_schedule_from_store test\n\n#17659 merged \n\n[cherrypick] Fix for stuck leader schedule on recovery (#17654)\n\n#17658 merged \n\n[consensus] Fix for stuck leader schedule on recovery\n\n#17654 merged \n\n[indexer] properly set key for cache in indexer reader\n\n#17649 merged \n\nRemove carriage returns on windows platform\n\n#17648 merged \n\nCreate consensus commit prologue transaction after finishing processing other transactions in a consensus commit batch\n\n#17405 merged \n\nAdd internal build names to dictionary\n\n#17644 merged \n\n[Traffic Control] Fix dry-run for fullnodes\n\n#17639 merged \n\n[GraphQL] Add available versions query to service config\n\n#17503 merged \n\nAdd binary list dictionary\n\n#17621 merged \n\n[tls] add ServerCertVerifier\n\n#17625 merged \n\nUpdate readme to run indexer writer with a local tidb\n\n#17638 merged \n\nMake sui-indexer writer work with tidb\n\n#17612 merged \n\nSui v1.26.0 Version bump\n\n#17624 merged \n\n[cli][refactor] Move all the commands logic into a function to reduce code duplication\n\n#17431 merged \n\nSui v1.25.0 Framework Snapshot\n\n#17623 merged \n\n[sui-framework] Reserve addresses for the deny list\n\n#17594 merged \n\nFix TODO for bridge\n\n#17620 merged \n\nVersion Packages\n\n#17618 merged \n\n[consensus] Gate scoring feature via protocol config and pass scores to sui for submission\n\n#17598 merged \n\nAdd RSU execution check timeout\n\n#17589 merged \n\nSplit ExecutionCacheRead into ObjectCacheRead and TransactionCacheRead\n\n#17555 merged \n\nFix npm audit warning for next <13.5.1\n\n#17619 merged \n\nSui Native bridge\n\n#17579 merged \n\nzkSend SDK Changes\n\n#17532 merged \n\n[consensus] Hookup LeaderSchedule change & Recovery paths\n\n#17040 merged \n\n[CI] Github issues & external PRs fix\n\n#17616 merged \n\nUpdate test util for creating shared objects\n\n#17582 merged \n\nfeat: enable zklogin inside multisig\n\n#17607 merged \n\n[CI] GitHub issue external prs monitor\n\n#17614 merged \n\nRevert \"[std] Better ASCII methods + minor cleanup in std (#17380)\"\n\n#17613 merged \n\n[Simtest] reduce surfer traffic and increase simtest nightly timeout\n\n#17599 merged \n\nUpdate to pnpm 9.1.0\n\n#17611 merged \n\nRemove extra dot from sui.exe path\n\n#17610 merged \n\nEnable random beacon on testnet\n\n#17601 merged \n\nUpdate ecvrf.mdx for hexdecimal mismatch\n\n#17604 merged \n\nfix: update links\n\n#17584 merged \n\nBeacon: Update links in documentation\n\n#17603 merged \n\ndocs: add dapp-kit (vue) to reference docs on siderbar\n\n#17571 merged \n\n[pick][GraphQL/DataLoader] Transaction DataLoader (#17042)\n\n#17585 merged \n\nRun recursively move tests under examples/\n\n#17600 merged \n\nadd caching for zklogin verify\n\n#17440 merged \n\n[pick] indexer: uhaul breaking changes from park to main (#17439)\n\n#17605 merged \n\nVersion Packages\n\n#17592 merged \n\n[sdk] fix gql.tada dependency\n\n#17606 merged \n\n[std] Better ASCII methods + minor cleanup in std\n\n#17380 merged \n\n[Consensus 2.0] convert use of std::time::Instant to tokio::time::Instant\n\n#17472 merged \n\nDKG: Limit messages size\n\n#17588 merged \n\n[gql] expose db_pool_size on ConnectionConfig (#17595)\n\n#17597 merged \n\n[gql] expose db_pool_size on ConnectionConfig (#17595)\n\n#17596 merged \n\n[gql] expose db_pool_size on ConnectionConfig\n\n#17595 merged \n\n[move] Add save hooks for extracting compiler information\n\n#17461 merged \n\n[move] Switch clever errors to 2024 beta\n\n#17593 merged \n\n[CLI] Add module binary version check when publishing and upgrading modules\n\n#17552 merged \n\n[move] Add minimum binary version\n\n#17536 merged \n\n 46 Pull requests opened by 27 people\nrest: add transaction execution endpoint\n\n#17608 opened \n\nCheckpointDiff, for displaying the concise difference between checkpoints in logs\n\n#17609 opened \n\nUpdate JSON representation to match feedback\n\n#17622 opened \n\nfix CLI command\n\n#17629 opened \n\nRevert \"Revert \"[std] Better ASCII methods + minor cleanup in std (#1…\n\n#17630 opened \n\nUpdate sui-bridging.mdx for the correct anchor link\n\n#17633 opened \n\n[move][ide] Add dot autocomplete behavior\n\n#17641 opened \n\nCP dry run fix\n\n#17643 opened \n\n[cherry-pick into v1.24] [indexer] properly set key for cache in indexer reader (#17649)\n\n#17650 opened \n\n[cherry-pick into v1.25][indexer] properly set key for cache in indexer reader (#17649)\n\n#17651 opened \n\n[Traffic Control] Add more metrics\n\n#17655 opened \n\n[Traffic Control] Distinguish IP source in traffic sketch\n\n#17656 opened \n\n[docs] update create-coin docs to 2024 grammar\n\n#17657 opened \n\nPrint full simtest command to logs for reproduction\n\n#17663 opened \n\nadd dark theme support\n\n#17670 opened \n\nRecord cancelled txn version assignment in consensus commit prologue V3\n\n#17678 opened \n\n[docs]: Fixed test_scenario comment error.\n\n#17680 opened \n\nfix rust sdk docs error\n\n#17683 opened \n\n[GraphQL/MovePackage] Query by ID and version\n\n#17692 opened \n\n[GraphQL/MovePackage] Query for latest version\n\n#17693 opened \n\n[GraphQL/MovePackage] Paginate by checkpoint\n\n#17696 opened \n\n[GraphQL/MovePackage] Paginate by version\n\n#17697 opened \n\n[move testing] allow introspection on emitted events in tests\n\n#17699 opened \n\n[GraphQL] Fix APY for a validator\n\n#17701 opened \n\nDo not insert client addr as a param\n\n#17702 opened \n\n[indexer] fix backfilling of objects snapshot to include all columns\n\n#17705 opened \n\n[7][15/n][enums/Move] Add flavor to serialized compiled module for versions >= 7\n\n#17706 opened \n\nRemove consensus hash\n\n#17709 opened \n\n[move-ide] Added support for macros\n\n#17710 opened \n\n[move] Simplify binary version override logic\n\n#17718 opened \n\n[WIP][docs] Examples\n\n#17722 opened \n\nUpdate wait_for_transactions_sequenced logging field\n\n#17724 opened \n\n[data ingestion] migrate analytics to data ingestion framework\n\n#17731 opened \n\nextend bridge e2e timeout\n\n#17734 opened \n\nMove DKG message size limit check into SuiTxValidator\n\n#17735 opened \n\nUpdate stale decimal precision value\n\n#17741 opened \n\n[GraphQL] Add a separate timeout field in ServiceConfig for mutations\n\n#17742 opened \n\nEnable Fee on Transfers Tokens\n\n#17743 opened \n\nCongestion control stress test\n\n#17751 opened \n\nfix-windews-build-error\n\n#17753 opened \n\n[move docs] Add enums to Move reference book\n\n#17755 opened \n\n[native-bridge] - enable bridge in testnet\n\n#17756 opened \n\nfeat: add more providers to devnet\n\n#17759 opened \n\n[Traffic Control] Disable ip injection by default\n\n#17761 opened \n\n[cleanup][move] Remove unused cargo deps + minor removal of some more unused things\n\n#17762 opened \n\n[cleanup][move] Remove stackless bytecode interpreter\n\n#17763 opened \n\n 10 Issues closed by 6 people\nSui Move VSCode Language Support Plugin gives false error in Hello World Program, builds fine\n\n#17531 closed \n\nClient-Side Exception Occurs for Wallet Components in SDK Documentation\n\n#17725 closed \n\nSui Code Bug or Feature Request\n\n#17739 closed \n\nSui Code Bug or Feature Request\n\n#17737 closed \n\nAn error message 404 was found on the source code redirect on this page\n\n#17640 closed \n\n[Bug] TS SDK GraphQL schemas error.\n\n#17681 closed \n\nSui Code Bug or Feature Request\n\n#17720 closed \n\nSui On-Chain Randomness Update Mechanism not Documented\n\n#17653 closed \n\nI would like to ask when will the random object 0x8 be available on the testnet?\n\n#17628 closed \n\n.\n\n#17677 closed \n\n 3 Issues opened by 3 people\nSyncing is stuck on various checkpoints\n\n#17682 opened \n\nNode JsonRPC `sui_executeTransactionBlock` got error response when omitted optional parameters\n\n#17666 opened \n\nTypescript sdk subscribe event error on mainnet.\n\n#17661 opened \n\n 33 Unresolved conversations\n\nSometimes conversations happen on old items that aren’t yet closed. Here is a list of all the Issues and Pull Requests with unresolved conversations.\n\nConsensus changes for SIP-19\n\n#17508 commented on  • 15 new comments\n\nFailed to build Move modules\n\n#16906 commented on  • 9 new comments\n\n[CLI] Add a check for the validity of the argument <NAME> in `sui move new`\n\n#17568 commented on  • 5 new comments\n\nBeacon: ignore larger than expected messages & blacklist peers that sent invalid partial sigs\n\n#17516 commented on  • 5 new comments\n\n[Checkpoint] wait for checkpoint service to stop during reconfig\n\n#17556 commented on  • 3 new comments\n\nMake cache implementation dynamically selectable\n\n#17191 commented on  • 2 new comments\n\nsui testnet unable to sync\n\n#16315 commented on  • 2 new comments\n\ngraphql filter 'function' does not work on testnet\n\n#16944 commented on  • 1 new comment\n\n[graphql] function filter could filter that the first function name of a PTB\n\n#17521 commented on  • 1 new comment\n\nAdd zkSend navigationAdd a navigation to the sdk document\n\n#17524 commented on  • 1 new comment\n\nPublish Error occurring when using sui::token\n\n#16065 commented on  • 1 new comment\n\nchore: remove repetitive words\n\n#17265 commented on  • 1 new comment\n\ntransactions subscribe Event not working\n\n#14355 commented on  • 1 new comment\n\n[docker]: migrate to debian and install system ca certs\n\n#16671 commented on  • 1 new comment\n\nadd option for fullnode devinspect to return written objects\n\n#16664 commented on  • 1 new comment\n\nAdd extra logging to check path deletes\n\n#16605 commented on  • 1 new comment\n\nNOOP (Heartbeat/Liveness example)\n\n#15250 commented on  • 1 new comment\n\nAdd VDF to sui framework\n\n#16196 commented on  • 1 new comment\n\nmove toolchain: fix multiple issues with bytecode dependencies\n\n#16523 commented on  • 1 new comment\n\n(no merge) even stake\n\n#8043 commented on  • 0 new comments\n\n[bcs] Add writerOptions to BcsTypeOptions\n\n#14740 commented on  • 0 new comments\n\n[GraphQL] Leverage `objects_version` table.\n\n#17543 commented on  • 0 new comments\n\n[core] Cleanup protocol version cheecks in transaction validity check\n\n#17530 commented on  • 0 new comments\n\nRPC 2.0\n\n#13700 commented on  • 0 new comments\n\nAdd simplified wallet standard methods for signing/executing txbs\n\n#17321 commented on  • 0 new comments\n\n[13/n][enums/Sui] Sui e2e tests for Move enums\n\n#17251 commented on  • 0 new comments\n\n[11/n][enums/Sui] Graphql and json-rpc support for enums\n\n#17250 commented on  • 0 new comments\n\n[10/n][enums/Sui] Update Sui package resolver for enums\n\n#17249 commented on  • 0 new comments\n\n[8/n][enums/Sui] Move enums in Sui execution\n\n#17248 commented on  • 0 new comments\n\n[6/n][enums/Sui] Sui types, protocol config, and misc changes for enums\n\n#17247 commented on  • 0 new comments\n\n[4/n][enums] Move enums all of the Move tests\n\n#17246 commented on  • 0 new comments\n\n[0/n][enums] Move enums implementation\n\n#17245 commented on  • 0 new comments\n\n[WIP] TS SDK 1.0\n\n#16735 commented on  • 0 new comments\n\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Security Overview · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/security",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n383\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nSecurity: MystenLabs/sui\nSecurity\nReport a vulnerability\nSECURITY.md\nIntroduction\n\nWe appreciate your participation in keeping the Sui network secure. This doc includes details on Sui's Bug Bounty Program, including information on how to report an issue, what bug bounties are available, and who is eligible for bounties.\n\nThe program is run in partnership with HackenProof. More information is available on their site.\n\nIf you have any questions or concerns, contact support@hackenproof.com.\n\nReporting and response process\n\nAll reports must be sent using HackenProof’s secure dashboard. DO NOT report a security issue using GitHub, email, or Discord.\n\nYou should receive an acknowledgement of your report within 48 hours for critical vulnerabilities and 96 hours for all other vulnerabilities.\n\nIf you do not get a response, contact info@hackenproof.com. DO NOT include attachments or provide detail regarding the security issue.\n\nIf you are reporting something outside the scope of HackenProof's Bug Bounty Program for Sui, contact security@sui.io\n\nBug bounties\n\nThe Sui Foundation offers bug bounties for security issues found at different levels of severity. If a vulnerability is found, follow the process detailed above to report the issue. All bug reports must come with a runnable testnet Proof-of-Concept with an end-effect impacting an asset-in-scope in order to be considered for a reward. You do not need to have a fix in order to submit a report or receive a bounty. By your participation in Sui Foundation’s bug bounty program you agree to be bound and abide by our terms of service and privacy policy .\n\nAssets in scope\n\nImpacts only apply to assets in active use by Sui.\n\nBlockchain/DLT\nSui Network Consensus\nSui Network\nSui Move\nSmart Contract\nSui Framework\nImpacts in Scope\n\nThe following impacts are accepted within this bug bounty program--refer to Sui's HackenProof Bug Bounty Program Page for an official and up-to-date listing. All other impacts are considered out-of-scope and ineligible for payout.\n\nCRITICAL [$100,000-$500,000 USD]\n\nExceeding the maximum supply of 10 billion SUI + allowing the attacker to claim the excess funds\nLoss of Funds which includes\nUnauthorized creation, copying, transfer or destruction of objects via bypass of or exploit of bugs in the Move or Sui bytecode verifier\nAddress Collision – creating two distinct authentication schemes that hash to the same SUI address in a manner that lead to significant loss of funds\nObject ID collision—creating two distinct objects with the same ID in a manner that leads to significant loss of funds.\nUnauthorized use of an owned object as a transaction input, resulting in significant loss of funds due to the inability to verify ownership and permission to transfer\nDynamically loading an object that is not directly or transitively owned by the transaction sender, in a manner that leads to significant loss of funds\nUnauthorized upgrade of a Move package, in a manner that leads to significant loss of funds\nStealing staking rewards that belong to another user, or claiming more than a user’s share of staking rewards, not including rounding errors that result in a minor, financially insignificant discrepancy\nViolating BFT assumptions, acquiring voting power vastly disproportionate to stake, or any other issue that can meaningfully compromise the integrity of the blockchain’s proof of stake governance does not include the following:\nVoting power that is redistributed because one or more other validators already has max voting power\nRounding errors that result in minor voting power discrepancies\nUnintended permanent chain split requiring hard fork (network partition requiring hard fork)\nNetwork not being able to confirm new transactions (total network shutdown) requiring a hard fork to resolve\nArbitrary, non-Move remote code execution on unmodified validator software\n\nHIGH [$50,000 USD]\n\nTemporary Total Network Shutdown (greater than 10 minutes of network downtime)\n\nMEDIUM [$10,000 USD]\n\nA bug that results in unintended and harmful smart contract behavior with no concrete funds at direct risk\nUnintended, permanent burning of SUI under the max cap.\nShutdown of greater than or equal to 30% of network processing nodes without brute force actions, but does not shut down the network\n\nLOW [$5,000 USD]\n\nSending a transaction that triggers invariant violation error code in unmodified validator software\nA remote call that crashes a Sui fullnode\nAudit Discoveries and Known Issues\n\nBug reports covering previously-discovered bugs are not eligible for any reward through the bug bounty program. If a bug report covers a known issue, it may be rejected together with proof of the issue being known before escalation of the bug report via HackenProof.\n\nPrevious audits and known issues can be found at:\n\nKnown Issue\tRelated Impact-in-Scope\nIn our staking contract, we have the concept of pool tokens and keep track of exchange rates between pool tokens and SUI tokens of all epochs, which increase as more rewards are added to the staking pools. When a user withdraws their stake, we retrieve from that record both the exchange rate at staking time and the current exchange rate (at withdrawing time), and calculate the rewards to be paid out based on the difference in exchange rates. While doing this calculation, we do conversions both ways: pool tokens -> SUI and SUI -> pool tokens. Rounding may happen along the way due to integer division. The exchange rate between the two tokens should stay roughly the same since we will be burning a proportional amount of pool tokens as SUI is withdrawn. However, in the extreme case where a user is unstaking 1 MIST, this rounding error may cause ZERO pool tokens to be burnt, causing the pool token to effectively depreciate. If an attacker has a lot of 1 MIST stakes, they can withdraw them one by one, causing the pool token exchange rate to drop and other takers to “lose” their staking rewards. I put quotation marks around “lose” because the attacker themselves won’t get any of that rewards so this attacker doesn’t actually make economic sense. Rather the rewards stay in the rewards pool and will become dust. This issue is mitigated by enforcing a minimum staking amount of 1 SUI or 10^9 MIST in this PR: #9961\tCritical - Any other issue leading to theft or loss of valuable objects, with severity depending on the consequences of the issue and the preconditions for exploiting it\nExcessive storage rebate on 0x5 object right after epoch change:\t\nEach on-chain object is associated with a storage rebate, which would be refunded to the owner if it ever gets deleted. Epoch change transactions are special in that they are system transactions without a sender, hence any excessive storage rebate generated in that transaction is kept in the 0x5 object. This means that the first person touching the 0x5 object in each epoch may be able to obtain those excessive rebate by simply touching this object (e.g. a failed staking request). We will look into a way to evenly distribute those excessive rebates such that is does not lead to any undesired behaviors.\t\nCrash Validator by providing a gas price of u64:max\tNetwork not being able to confirm new transactions (total network shutdown)\nPayment of bounties\nBounties are awarded on a rolling basis and eligibility to receive such awards shall be determined by Sui Foundation in its sole discretion.\nOnce a bug report is accepted as legitimate, assuming KYC has been completed successfully, bounties will be paid out on or about a time that is 14 days thereafter or less.\nBounties are denominated in USD but will be paid in USDC; provided if a bounty award winner is not eligible to receive USDC in compliance with applicable law, the bounty award shall be paid out in USD.\nMultiple vulnerabilities of a similar root cause will be paid out as one report, as a single bounty award, determined by the severity of the vulnerability as described above.\nOut of scope\n\nThe following vulnerabilities are excluded from the bug bounty program:\n\nAttacks that the reporter has already exploited themselves, leading to damage\nAttacks requiring access to leaked keys/credentials\nAttacks requiring access to privileged addresses (governance, strategist), except in such cases where the contracts are intended to have no privileged access to functions that make the attack possible\nBroken link hijacking\nSmart Contracts and Blockchain/DLT\nBasic economic governance attacks (e.g. 51% attack)\nLack of liquidity\nBest practice critiques\nSybil attacks\nCentralization risks\nWebsites and Apps\nTheoretical impacts without any proof or demonstration\nContent spoofing / text injection issues\nSelf-XSS\nCaptcha bypass using OCR\nCSRF with no security impact (logout CSRF, change language, etc.)\nMissing HTTP Security Headers (such as X-FRAME-OPTIONS) or cookie security flags (such as “httponly”)\nServer-side information disclosure such as IPs, server names, and most stack traces\nVulnerabilities used to enumerate or confirm the existence of users or tenants\nVulnerabilities requiring unlikely user actions\nURL Redirects (unless combined with another vulnerability to produce a more severe vulnerability)\nLack of SSL/TLS best practices\nAttacks involving DDoS\nAttacks requiring privileged access from within the organization\nSPF records for email domains\nFeature requests\nBest practices\nEligibility\nParticipants must use the HackenProof dashboard to report bugs or vulnerabilities. Reports made via email, Discord, or Twitter will not be eligible for bounties.\nBug reports that are disclosed publicly are not eligible for bounties.\nIf multiple reports are submitted for the same class of exploit, the first submission is eligible for the bounty.\nParticipants must complete KYC prior to distribution of a bounty.\nProhibited activities\n\nThe following activities are prohibited by this bug bounty program. Participating in these activities can result in a temporary suspension or permanent ban from the bug bounty platform, which may also result in the forfeiture and loss of access to all bug submissions and zero payout.\n\nThere is no tolerance for spam/low-quality/incomplete bug reports, “beg bounty” behavior, and misrepresentation of assets and severity.\n\nAny testing with mainnet or public testnet deployed code; all testing should be done on private testnets\nAttempting phishing or other social engineering attacks against Sui or HackenProof employees and/or customers\nAny testing with third party systems and applications (e.g. browser extensions) as well as websites (e.g. SSO providers, advertising networks)\nAny denial of service attacks\nAutomated testing of services that generates significant amounts of traffic\nPublic disclosure of an unpatched vulnerability in an embargoed bounty\nAny other actions prohibited by the HackenProof Rules. These rules are subject to change at any time.\nFAQ\n\nWhere can I find more information on the bug bounty program?\n\nAll of the program details along with a link to the dashboard to report a bug are available on HackenProof’s bounty program page for Sui.\n\nHow do I join the program?\n\nIf you find a bug or vulnerability, report it using the HackenProof dashboard. You should receive an acknowledgement of your report within 48 hours for critical vulnerabilities and 96 hours for all other vulnerabilities.\n\nWhere can I get technical questions answered?\n\nSui and HackenProof will be conducting Office Hours to answer questions. A date will be announced on Twitter by @SuiNetwork. If you are not able to attend, you can email questions to info@hackenproof.com. with questions regarding the Bug Bounty Program.\n\nFor additional security concerns/questions/comments outside the scope of the HackenProof Bug Bounty Program, reach out to Sui's Community Discord, Forums, or e-mail us at security@sui.io\n\nWho is behind this program?\n\nThe program is funded and managed by the Sui Foundation, in partnership with HackenProof.\n\nThere aren’t any published security advisories\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Home · MystenLabs/sui Wiki · GitHub",
      "url": "https://github.com/MystenLabs/sui/wiki",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n383\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nHome\nGeorge Danezis edited this page  · 3 revisions\n\nWelcome to the wiki!\n\nPages 1\nHome\nClone this wiki locally\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Projects · sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/projects?query=is%3Aopen",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n383\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nMystenLabs/sui projects\nProjects\nTemplates\nProjects (classic)\nSearch all projects\nSearch results\n 0 Open\n 0 Closed\nSort\nNo open projects\n\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Workflow runs · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/actions",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n383\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nActions: MystenLabs/sui\nActions\nAll workflows\nAttach Sui binaries to a release\nChangesets\nChangesets CI\nChangesets CI Comment\nCode Coverage\nCodeQL\nDocs\nDocs CI\nDocumentation\nEnd-to-end Tests\nShow more workflows...\nManagement\nCaches\nDeployments\nAttestations\nAll workflows\nShowing runs from all workflows\n339,310 workflow runs\nEvent \nStatus \nBranch \nActor \nChangesets CI Comment\nChangesets CI Comment #44327: completed by tzakian\n\t\t\n \n 11s\n[cleanup][move] Remove stackless bytecode interpreter\nNarwhal #1988: Pull request #17763 opened by tzakian\n\ttzakian/spring-cleaning-3\t\n \n In progress\n[cleanup][move] Remove stackless bytecode interpreter\nExternal crates #27038: Pull request #17763 opened by tzakian\n\ttzakian/spring-cleaning-3\t\n \n 5m 28s\n[cleanup][move] Remove stackless bytecode interpreter\nTurborepo CI #48661: Pull request #17763 opened by tzakian\n\ttzakian/spring-cleaning-3\t\n \n 1m 26s\n[cleanup][move] Remove stackless bytecode interpreter\nDocs CI #12565: Pull request #17763 opened by tzakian\n\ttzakian/spring-cleaning-3\t\n \n 3m 21s\n[cleanup][move] Remove stackless bytecode interpreter\nRust #68039: Pull request #17763 opened by tzakian\n\ttzakian/spring-cleaning-3\t\n \n In progress\n[cleanup][move] Remove stackless bytecode interpreter\nEnd-to-end Tests #40113: Pull request #17763 opened by tzakian\n\ttzakian/spring-cleaning-3\t\n \n In progress\n[cleanup][move] Remove stackless bytecode interpreter\nSplit Cluster Check #9986: Pull request #17763 opened by tzakian\n\ttzakian/spring-cleaning-3\t\n \n In progress\n[cleanup][move] Remove stackless bytecode interpreter\nPull Request Labeler #54879: Pull request #17763 opened by tzakian\n\t\t\n \n 14s\n[cleanup][move] Remove stackless bytecode interpreter\nChangesets CI #45926: Pull request #17763 opened by tzakian\n\ttzakian/spring-cleaning-3\t\n \n 57s\n[cleanup][move] Remove stackless bytecode interpreter\nGitHub Issues and External PRs Monitor #256: Pull request #17763 opened by tzakian\n\t\t\n \n 3s\n[cleanup][move] Remove stackless bytecode interpreter\nDocumentation #63661: Pull request #17763 opened by tzakian\n\ttzakian/spring-cleaning-3\t\n \n 19s\nSui v1.25.1 version bump\nRust #68038: Commit e3eb079 pushed by ebmifa\n\treleases/sui-v1.25.0-release\t\n \n In progress\nSui v1.25.1 version bump\nNarwhal #1987: Commit e3eb079 pushed by ebmifa\n\treleases/sui-v1.25.0-release\t\n \n In progress\nSui v1.25.1 version bump\nTrigger builds for images and binaries #513: Commit e3eb079 pushed by ebmifa\n\treleases/sui-v1.25.0-release\t\n \n 12s\nPush on releases/sui-v1.25.0-release\nCodeQL #1607: by ebmifa\n\t\t\n \n 2m 25s\n[fix][homebrew] don't panic if git commit unavailable (#17760)\nTrigger builds for images and binaries #512: Commit a794c2c pushed by ebmifa\n\treleases/sui-v1.25.0-release\t\n \n 15s\n[fix][homebrew] don't panic if git commit unavailable (#17760)\nRust #68037: Commit a794c2c pushed by ebmifa\n\treleases/sui-v1.25.0-release\t\n \n 15m 4s\n[fix][homebrew] don't panic if git commit unavailable (#17760)\nNarwhal #1986: Commit a794c2c pushed by ebmifa\n\treleases/sui-v1.25.0-release\t\n \n 15m 9s\nPush on releases/sui-v1.25.0-release\nCodeQL #1606: by ebmifa\n\t\t\n \n 2m 16s\nChangesets CI Comment\nChangesets CI Comment #44326: completed by hayes-mysten\n\t\t\n \n 16s\nAdd simplified wallet standard methods for signing/executing txbs\nExternal crates #27037: Pull request #17321 synchronize by hayes-mysten\n\tmh--sdk-v1-wallet-standard\t\n \n 3m 32s\nAdd simplified wallet standard methods for signing/executing txbs\nDocs CI #12564: Pull request #17321 synchronize by hayes-mysten\n\tmh--sdk-v1-wallet-standard\t\n \n 3m 5s\nAdd simplified wallet standard methods for signing/executing txbs\nSplit Cluster Check #9985: Pull request #17321 synchronize by hayes-mysten\n\tmh--sdk-v1-wallet-standard\t\n \n 11m 55s\nAdd simplified wallet standard methods for signing/executing txbs\nEnd-to-end Tests #40112: Pull request #17321 synchronize by hayes-mysten\n\tmh--sdk-v1-wallet-standard\t\n \n 17m 0s\nPrevious 1 2 3 4 5 … 13572 13573 Next"
    },
    {
      "title": "Pull requests · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/pulls",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n383\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nPull requests: MystenLabs/sui\n Labels 95\n Milestones 12\nNew pull request\n 383 Open  13,887 Closed\nAuthor \nLabel \nProjects  Milestones  Reviews \nAssignee \nSort \nPull requests list\n[cleanup][move] Remove stackless bytecode interpreter \n#17763 opened  by tzakian\nLoading…\n 1\n[cleanup][move] Remove unused cargo deps + minor removal of some more unused things \n#17762 opened  by tzakian\nLoading…\n 1\n[Traffic Control] Disable ip injection by default \n#17761 opened  by williampsmith\nLoading…\n7 tasks\n 2\nfeat: add more providers to devnet \n#17759 opened  by joyqvq\nLoading…\n7 tasks\n 1\n[native-bridge] - enable bridge in testnet \n#17756 opened  by patrickkuo\nLoading…\n7 tasks\n 2\n[move docs] Add enums to Move reference book \n#17755 opened  by tzakian\nLoading…\n 1\nfix-windews-build-error \n#17753 opened  by VishvaWang\nLoading…\n 2\nCongestion control stress test \n#17751 opened  by halfprice\n• Draft\n7 tasks\n 2\nEnable Fee on Transfers Tokens \n#17743 opened  by Bridgerz\nLoading…\n 2\n[GraphQL] Add a separate timeout field in ServiceConfig for mutations \n#17742 opened  by stefan-mysten\nLoading…\n7 tasks\n 15\nUpdate stale decimal precision value \n#17741 opened  by Bridgerz\nLoading…\n 2\nMove DKG message size limit check into SuiTxValidator \n#17735 opened  by aschran\nLoading…\n 1\nextend bridge e2e timeout \n#17734 opened  by longbowlu\n• Draft\n7 tasks\n 1\n[data ingestion] migrate analytics to data ingestion framework \n#17731 opened  by phoenix-o\n• Draft\n 2\nUpdate wait_for_transactions_sequenced logging field \n#17724 opened  by halfprice\nLoading…\n7 tasks\n 2\n[WIP][docs] Examples  Type: Documentation\n#17722 opened  by ronny-mysten\nLoading…\n7 tasks\n 2\n[move] Simplify binary version override logic \n#17718 opened  by tzakian\nLoading…\n 12\n[move-ide] Added support for macros \n#17710 opened  by awelc\nLoading…\n 17\nRemove consensus hash \n#17709 opened  by mystenmark\nLoading…\n 6\n[7][15/n][enums/Move] Add flavor to serialized compiled module for versions >= 7 \n#17706 opened  by tzakian\nLoading…\n7 tasks\n 5\n[indexer] fix backfilling of objects snapshot to include all columns \n#17705 opened  by emmazzz\nLoading…\n7 tasks\n 2\nDo not insert client addr as a param \n#17702 opened  by mystenmark\nLoading…\n 1\n[GraphQL] Fix APY for a validator \n#17701 opened  by stefan-mysten\n• Draft\n7 tasks\n 8\n[move testing] allow introspection on emitted events in tests \n#17699 opened  by sblackshear\nLoading…\n 12\n[GraphQL/MovePackage] Paginate by version \n#17697 opened  by amnn\nLoading…\n1 of 7 tasks\n 2\nPrevious 1 2 3 4 5 … 15 16 Next\n ProTip! Exclude everything labeled bug with -label:bug.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "MystenLabs/sui · Discussions · GitHub",
      "url": "https://github.com/MystenLabs/sui/discussions",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n383\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nMystenLabs sui Discussions\nSearch all discussions\nis:open \n \nClear\nSort by: Latest activity\nLabel \nFilter: Open\nCategories, most helpful, and community links\nCategories\nView all discussions\nAnnouncements\nGeneral\nIdeas\nPolls\nQ&A\nShow and tell\nCommunity links\nCommunity guidelines\nsui.io\nDiscussions\n1\nAre there any latency requirements for validators\nok-ul-ch asked  in Q&A · Unanswered\n 1\n1\nHow to create shortcut in a new launcher?\nNikunjKhangwal asked  in Q&A · Unanswered\n 0\n1\npnpm turbo build error\nkakudo asked  in Q&A · Unanswered\n 0\n1\ncannot build when use sui move build\nlaowai502 asked  in Q&A · Unanswered\n 0\n1\ninstallation\nblackemmanuelstar asked  in Q&A · Unanswered\n 0\n7\n[fastx] How to facilitate Bulk Sync between authorities, authorities and full replicas\nPriority: High sui-node\ngdanezis started  in General\n 19\n1\nFinding suitable solution to make object data management much simpler.\npegasussx asked  in Q&A · Unanswered\n 0\n1\nQuery Sui Blockchain\ngoku0000001 asked  in Q&A · Unanswered\n 0\n1\nEvaluate Profile-Guided Optimization (PGO) and LLVM BOLT\nzamazan4ik started  in Ideas\n 0\n1\nUnable to publish a contract on Sui Devnet\nTanmay53 asked  in Q&A · Unanswered\n 10\n1\nTypescript SDK export deprecations\nhayes-mysten started  in General\n 2\n1\nStaking SUI\n24hourwealthcoach asked  in Q&A · Unanswered\n 0\n1\nValidators Architecture\nhwerbi asked  in Q&A · Unanswered\n 0\n1\nI think the recent v1.4.2 release note is wrong.\nDahoonMoon started  in General\n 1\n1\n[ts-sdk] splitCoins call blocks and never returns and web page crushes NextJs@12\ntuncatunc asked  in Q&A · Unanswered\n 0\n1\nWay to find Balance for an address at a specific checkpoint\nIftequarIffu asked  in Q&A · Unanswered\n 0\n1\nHow does a Move call Transaction work?\nIftequarIffu asked  in Q&A · Unanswered\n 0\n1\nKiosks\nDaria-Khrushch asked  in Q&A · Unanswered\n 0\n1\nUnable Install Sui\nJustPandaEver asked  in Q&A · Unanswered\n 0\n1\nBug with provider.queryEvents()\nKoshkenS3 started  in General\n 0\n1\nSpinning up a full node on testnet, genesis unable to be parsed\njalw0tpyrc asked  in Q&A · Unanswered\n 3\n1\nsui wallet opening error\namanjui45 started  in General\n 5\n2\nUnable to continue installation\nseasonlei asked  in Q&A · Unanswered\n 2\n2\nsui wallet don't showing testnet network\nbabulsahoo20 started  in General\n 4\n1\nInstall sui Binaries In Linux, if you have a small storage\nfatmanweb3 started  in Ideas\n 0\nPrevious 1 2 3 Next\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Issues · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/issues",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n383\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nIssues: MystenLabs/sui\n Labels 95\n Milestones 12\nNew issue\n 388 Open  2,935 Closed\nAuthor \nLabel \nProjects  Milestones \nAssignee \nSort \nIssues list\nSyncing is stuck on various checkpoints\n#17682 opened  by cybercent\n 7\nNode JsonRPC sui_executeTransactionBlock got error response when omitted optional parameters rpc\n#17666 opened  by Ljzn\n 2\nTypescript sdk subscribe event error on mainnet. rpc\n#17661 opened  by KyrinCode\n 1\nProgrammable transaction Docs - add applications doc-issue\n#17567 opened  by kchalkias\nFailover strategy for Sui validator sui-core\n#17522 opened  by hritique\n 2\n[graphql] function filter could filter that the first function name of a PTB graphql\n#17521 opened  by enoloo\n 4\n[graphql] How to filter dynamicFields by OBJECT TYPE? doc-issue graphql\n#17519 opened  by enoloo\nPhishing scam - lost funds\n#17510 opened  by Jennyxs2024\nEnoki (ZkLogin) - signPersonalMessage enoki zklogin\n#17504 opened  by Sceat\nzklogin sdk signTransactionBlock returns 404 zklogin\n#17392 opened  by v1xingyue\n 1\nUnable to build sui from source, To run sui-test-validator. build-problem cli\n#17391 opened  by aravinddojima\n 4\nNetwork protocol version is ProtocolVersion(44), but the maximum supported version by the binary is 43. Please upgrade the binary cli\n#17383 opened  by NadigerAmit\n 16\nFullnode documentation doc-issue fullnode\n#17378 opened  by TheFox\nfullnode-x deployment bugs\n#17359 opened  by insistedMarin\n 2\nREGEX does not allow the usage of local nodes in format http://fullnode:9000 indexer sui-node\n#17337 opened  by cybercent\ndocker-compose.yml: version is obsolete docker\n#17312 opened  by Nelrann\nMake bounded_visitor default bound configurable rpc sui-node\n#17310 opened  by henrymai\nType 0x2::kiosk::Kiosk is not registered kiosk ts-sdk\n#17256 opened  by sudofina\n 5\nNeed sui::bcs::length(BCS&) method doc-issue\n#17173 opened  by enoloo\nHow to get previousVersion in graphQL graphql\n#17120 opened  by Wangmmx\n 2\nDebugging native rust functions cli doc-issue\n#17098 opened  by yuvalelmo\n 5\nexample move code build failed doc-issue move\n#17087 opened  by leihuhu\n 1\n[Deepbook SDK] Check user's locked balance before placing order. deepbook\n#17082 opened  by vivekascoder\n 2\nError [E01003] struct NFT { Invalid struct declaration. Internal struct declarations are not yet supported\n#17079 opened  by UXSciGuy\n 2\ngraphql filter 'function' does not work on testnet doc-issue graphql\n#16944 opened  by enoloo\n 7\nPrevious 1 2 3 4 5 … 15 16 Next\n ProTip! Type g i on any issue or pull request to go back to the issue listing page.\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Activity · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/activity",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n383\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nActivity\n All branches\nAll activity\nAll users\nAll time\nShowing most recent first \n[move-ide] Fix pre-compiled libs construction problems\nawelccreated aw/ide-cross-pkg-crash-fix • 2dce2f9 • 2 minutes ago\n[cleanup][move] Remove stackless bytecode interpreter\ntzakiancreated tzakian/spring-cleaning-3 • 413f0b6 • 14 minutes ago\nSui v1.25.1 version bump\nebmifapushed 1 commit to releases/sui-v1.25.0-release • a794c2c…e3eb079 • 21 minutes ago\n[fix][homebrew] don't panic if git commit unavailable (#17760)\nebmifapushed 1 commit to releases/sui-v1.25.0-release • b10ea73…a794c2c • 36 minutes ago\nAdd reportTransactionBlockEffects feature\nForce push\nhayes-mystenforce pushed to mh--sdk-v1-wallet-standard • 3856a4a…8e2b6e7 • 37 minutes ago\nDeleted branch\nBridgerzdeleted hackenproof-94 • 46 minutes ago\nEnsure Non Zero Bridge Amount (#17745)\nPull request merge\nBridgerzpushed 1 commit to main • f1aba95…e2dc6ad • 46 minutes ago\n[cleanup][move] Remove unused cargo deps + minor removal of some more…\nForce push\ntzakianforce pushed to tzakian/spring-cleaning-2 • 0975fd8…87c1af3 • 55 minutes ago\n[fix][homebrew] don't panic if git commit unavailable (#17760)\nPull request merge\njohnjmartinpushed 1 commit to main • b8dfe64…f1aba95 • 57 minutes ago\n[cleanup][move] Remove unused cargo deps + minor removal of some more…\ntzakiancreated tzakian/spring-cleaning-2 • 0975fd8 • 57 minutes ago\nadd snapshot\njoyqvqpushed 1 commit to joy/new-providers • 759f3b2…4df58d3 • 1 hour ago\n[Traffic Control] Disable ip injection by default\nwilliampsmithcreated william/fix-router • 5b8d246 • 1 hour ago\nDeleted branch\ntzakiandeleted tzakian/spring-cleaning-1 • 1 hour ago\n[cleanup][move] A bit of cleaning in language storage and removing re…\nPull request merge\ntzakianpushed 1 commit to main • efd50a3…b8dfe64 • 1 hour ago\nfeat: add more providers to devnet\njoyqvqcreated joy/new-providers • 759f3b2 • 1 hour ago\nFix issues after merge\ntnowackipushed 334 commits to tnowacki/move-model-refactor • b4b99b6…ad3747e • 1 hour ago\n[cli] Fix cli client publish path (#17749)\nPull request merge\nstefan-mystenpushed 1 commit to main • 1c4dbbe…efd50a3 • 2 hours ago\nDeleted branch\nplam-mldeleted APPS-update-new-suins-name • 2 hours ago\nupdate extension to use new SUINS format (#17738)\nPull request merge\nplam-mlpushed 1 commit to main • 0616027…1c4dbbe • 2 hours ago\nUpdate SuiBridgeTest.t.sol\nBridgerzpushed 1 commit to hackenproof-94 • 7ee724c…814241c • 2 hours ago\nrename\nplam-mlpushed 1 commit to APPS-update-new-suins-name • 16a0429…c875e1d • 3 hours ago\n[cleanu][move] A bit of cleaning in language storeage and removing re…\nForce push\ntzakianforce pushed to tzakian/spring-cleaning-1 • 73fac10…757603c • 3 hours ago\nupdate snapshot\npatrickkuopushed 1 commit to pat/bridge-testnet • c6c55dc…acb45ab • 3 hours ago\n[cleanu][move] A bit of cleaning in language storeage and removing re…\ntzakiancreated tzakian/spring-cleaning-1 • 73fac10 • 3 hours ago\n[Traffic Control] Distinguish IP source in traffic sketch\nForce push\nwilliampsmithforce pushed to william/distinguish-ips-for-cms • f223409…592be3c • 3 hours ago\nenable bridge in testnet\npatrickkuocreated pat/bridge-testnet • c6c55dc • 3 hours ago\nAddressed review comment\nawelcpushed 1 commit to aw/ide-macros • 20c6df1…1b5ac5e • 4 hours ago\nDeleted branch\nlongbowludeleted use-env-to-tweak-consensus-min-delay-in-test • 4 hours ago\nuse env var to set consensus min delay in tests (#17750)\nPull request merge\nlongbowlupushed 1 commit to main • 4f90ab7…0616027 • 4 hours ago\nUpdate JSON representation to match feedback\nForce push\nhayes-mystenforce pushed to mh--sdk-v1-transaction-format-updates • 1ea2d6d…e59e028 • 4 hours ago\nShare feedback about this page\nPreviousNext\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Tags · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/tags",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n383\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nTags: MystenLabs/sui\nReleases\nTags\n Tags\nsui_v1.26.0_1715807075_rel_notes\nVerified\n   b8dfe64  zip  tar.gz\nsui_v1.26.0_1715802985_ci\nVerified\n   0616027  zip  tar.gz\nsui_v1.26.0_1715796274_rel_notes\nVerified\n   0616027  zip  tar.gz\nsui_v1.26.0_1715791180_ci\nVerified\n   4f90ab7  zip  tar.gz\nsui_v1.26.0_1715785455_rel_notes\nVerified\n   4f90ab7  zip  tar.gz\nsui_v1.26.0_1715768724_ci\nVerified\n   33c110b  zip  tar.gz\nsui_v1.26.0_1715763920_rel_notes\nVerified\n   33c110b  zip  tar.gz\nsui_v1.26.0_1715758425_ci\nVerified\n   4da91c4  zip  tar.gz\nsui_v1.26.0_1715753097_rel_notes\nVerified\n   4da91c4  zip  tar.gz\nsui_v1.26.0_1715747701_ci\nVerified\n   764ab3f  zip  tar.gz\nPreviousNext\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Branches · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/branches",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n383\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nBranches\nOverview\nActive\nStale\nAll\nSearch\nDefault\nBranch\nUpdated\nCheck status\nBehind\nAhead\nPull request\nAction menu\nmain\n \nActive branches\nBranch\nUpdated\nCheck status\nBehind\nAhead\nPull request\nAction menu\naw/ide-cross-pkg-crash-fix\n \ntzakian/spring-cleaning-3\n \nreleases/sui-v1.25.0-release\n \nmh--sdk-v1-wallet-standard\n \ntzakian/spring-cleaning-2\n \nView more branches \nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Forks · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/forks",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n383\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nInsights: MystenLabs/sui\nPulse\nContributors\nCommunity Standards\nCommits\nCode frequency\nDependency graph\nNetwork\nForks\nSwitch to tree view\nForks\nPeriod: 2 years\nRepository type: Active \nSort: Most starred\n eqlabs / bullshark-bft\n 8\n 0\n 0\n 1\nCreated \nUpdated \n amaradumi94 / sui\n 7\n 0\n 0\n 1\nCreated \nUpdated \n sonararun04 / sui\n 6\n 0\n 0\n 0\nCreated \nUpdated \n sblackshear / sui\n 5\n 0\n 0\n 0\nCreated \nUpdated \n oldewa / sui\n 4\n 0\n 0\n 0\nCreated \nUpdated \n mouzzarr / sui\n 3\n 0\n 0\n 0\nCreated \nUpdated \n suiet / sui\n 3\n 0\n 0\n 0\nCreated \nUpdated \n snoopfear / sui\n 3\n 0\n 0\n 1\nCreated \nUpdated \n upupnoah / sui\n 2\n 0\n 0\n 0\nCreated \nUpdated \n YFiN99 / sui\n 2\n 0\n 0\n 0\nCreated \nUpdated \n futureengco / sui-discord-\n 2\n 0\n 0\n 0\nCreated \nUpdated \n quanghiep1906 / sui\n 2\n 0\n 0\n 0\nCreated \nUpdated \n flechemano / sui\n 2\n 0\n 0\n 0\nCreated \nUpdated \n Nanathdheera / sui\n 2\n 0\n 0\n 0\nCreated \nUpdated \n koltigin / Sui-Devnet-Fullnode-Turkce-Kurulum-Rehberi\n 2\n 0\n 0\n 0\nCreated \nUpdated \n arty-arty / sui\n 1\n 0\n 0\n 0\nCreated \nUpdated \n Pradip9180 / sui\n 1\n 0\n 0\n 0\nCreated \nUpdated \n ArtiKing37 / sui\n 1\n 0\n 0\n 0\nCreated \nUpdated \n Starceps / starcep\n 1\n 0\n 0\n 0\nCreated \nUpdated \n aruna8669 / sui\n 1\n 0\n 0\n 0\nCreated \nUpdated \n Thomsonseeker / sui\n 1\n 0\n 0\n 0\nCreated \nUpdated \n oxnonstope / sui\n 1\n 0\n 0\n 0\nCreated \nUpdated \n asjadnft / sui\n 1\n 0\n 0\n 0\nCreated \nUpdated \n AsnfAderopo / sui\n 1\n 0\n 0\n 1\nCreated \nUpdated \n KeystoneHQ / sui\n 1\n 0\n 0\n 0\nCreated \nUpdated \nPrevious 1 2 3 4 5 … 43 44 Next\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "Stargazers · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/stargazers",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n383\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nStargazers\nAll 5,000+\nYou know\nvirjilakrum\n\nIs from Cyberspace\nCyberspace\n\nFollow\nmeandSSH\n\n Joined on Jun 27, 2022\n\nFollow\nYunZrr\n\n Joined on Apr 19, 2024\n\nFollow\nDannyXY\n\n Joined on Sep 24, 2020\n\nFollow\nPhread049\n\n Joined on May 14, 2024\n\nFollow\nedottrading\n\n Joined on Mar 5, 2024\n\nFollow\nabhaydee\n\nWorks for NorthEastern University\nNorthEastern University\n\nFollow\nbadhack\n\n Joined on Dec 5, 2012\n\nFollow\nnastari\n\n Joined on Mar 13, 2019\n\nFollow\nmerlijndetovenaar84\n\nIs from Santiago, Chile\nSantiago, Chile\n\nFollow\ndcwon\n\n Joined on Oct 12, 2018\n\nFollow\nJellyman447\n\nWorks for jellyman447@github.com\njellyman447@github.com\n\nFollow\nmpvasilis\n\nIs from Greece\nGreece\n\nFollow\nKyrinCode\n\n Joined on Aug 9, 2017\n\nFollow\nwfnuser\n\nWorks for @36node @ArkTicketTech\n@36node @ArkTicketTech\n\nFollow\ncapitaharlock\n\nWorks for soundpickr\nsoundpickr\n\nFollow\negyptjoy\n\nWorks for Noemi Platform Cap\nNoemi Platform Cap\n\nFollow\nTomLeel\n\n Joined on Nov 28, 2016\n\nFollow\nkiri2sama\n\n Joined on May 18, 2021\n\nFollow\nEch0zr\n\n Joined on Jan 16, 2022\n\nFollow\nJames4Ever0\n\n Joined on Apr 19, 2022\n\nFollow\npreethamd98\n\nWorks for Microsoft\nMicrosoft\n\nFollow\ny-pakorn\n\n Joined on Mar 7, 2019\n\nFollow\nhkxiaoyu118\n\nIs from China,Chengdu\nChina,Chengdu\n\nFollow\ny-tana009\n\n Joined on Jan 18, 2024\n\nFollow\n03kalven\n\nIs from Yale\nYale\n\nFollow\n0xdwong\n\n Joined on Dec 21, 2022\n\nFollow\nDevious3901\n\n Joined on Apr 11, 2022\n\nFollow\nbrandtcormorant\n\n Joined on Apr 6, 2024\n\nFollow\nWPWhite93\n\n Joined on Apr 14, 2023\n\nFollow\nsummertoo\n\n Joined on Jan 27, 2014\n\nFollow\nFog3211\n\n Joined on Oct 30, 2016\n\nFollow\nxiaolang007\n\n Joined on Jun 27, 2013\n\nFollow\nxtheing\n\nIs from Chengdu city\nChengdu city\n\nFollow\nexo9planet\n\n Joined on Jul 23, 2023\n\nFollow\nhars310\n\n Joined on Aug 23, 2022\n\nFollow\nchefwagmi\n\n Joined on Feb 7, 2022\n\nFollow\nsenni000\n\n Joined on Mar 26, 2024\n\nFollow\nbycassius\n\nWorks for @biipio\n@biipio\n\nFollow\npiledog\n\n Joined on Aug 6, 2014\n\nFollow\nankara020\n\n Joined on Jan 23, 2023\n\nFollow\nHT-Moh\n\nWorks for Bicatalyst\nBicatalyst\n\nFollow\nsrdrxatk\n\n Joined on Jul 27, 2023\n\nFollow\nLearning420\n\n Joined on Jun 21, 2021\n\nFollow\niriniStrangeloop\n\n Joined on Dec 29, 2018\n\nFollow\nBeiXiao\n\n Joined on Dec 27, 2012\n\nsengulatik66\n\n Joined on Jul 25, 2023\n\nFollow\nhxdhero\n\n Joined on Sep 27, 2012\n\nPreviousNext\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    },
    {
      "title": "sui/LICENSE at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/blob/main/LICENSE",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n383\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nconsensus\ncrates\ndapps\ndashboards\ndoc\ndocker\ndocs\nexamples\nexternal-crates\nkiosk\nnarwhal\nnre\nscripts\nsdk\nsui-execution\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui\n/LICENSE\nMystenLabs/sui is licensed under the\nApache License 2.0\nA permissive license whose main conditions require preservation of copyright and license notices. Contributors provide an express grant of patent rights. Licensed works, modifications, and larger works may be distributed under different terms and without source code.\nPermissions\nCommercial use\nModification\nDistribution\nPatent use\nPrivate use\nLimitations\nTrademark use\nLiability\nWarranty\nConditions\nLicense and copyright notice\nState changes\nThis is not legal advice. Learn more about repository licenses\nLatest commit\nma2bd\nand\nAlberto Sonnino\ninitial commit\n20f3abf\n · \nHistory\nHistory\nFile metadata and controls\nCode\nBlame\n201 lines (169 loc) · 11.1 KB\nRaw\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n185\n186\n187\n188\n189\n190\n191\n192\n193\n194\n195\n196\n197\n198\n199\n200\n201"
    },
    {
      "title": "sui/LICENSE-docs at main · MystenLabs/sui · GitHub",
      "url": "https://github.com/MystenLabs/sui/blob/main/LICENSE-docs",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n383\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nFiles\n main\n.cargo\n.changeset\n.config\n.github\n.vscode\napps\nbridge\nchocolatey\nconsensus\ncrates\ndapps\ndashboards\ndoc\ndocker\ndocs\nexamples\nexternal-crates\nkiosk\nnarwhal\nnre\nscripts\nsdk\nsui-execution\nsui_programmability\n.clippy.toml\n.dockerignore\n.eslintrc.js\n.gitattributes\n.gitignore\n.lycheeignore\n.npmrc\n.prettierignore\n.typos.toml\nCODE_OF_CONDUCT.MD\nCONTRIBUTING.md\nCargo.lock\nCargo.toml\nLICENSE\nLICENSE-docs\nREADME.md\nRELEASES.md\nSECURITY.md\nbinary-build-list.json\ndeny.toml\ngraphql.config.ts\npackage.json\npnpm-lock.yaml\npnpm-workspace.yaml\nprettier.config.js\nrust-toolchain.toml\nrustfmt.toml\nturbo.json\nvercel.json\nBreadcrumbs\nsui\n/LICENSE-docs\nLatest commit\nma2bd\nand\nAlberto Sonnino\ninitial commit\n20f3abf\n · \nHistory\nHistory\nFile metadata and controls\nCode\nBlame\n384 lines (303 loc) · 17.7 KB\nRaw\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n311\n312\n313\n314\n315\n316\n317\n318\n319\n320\n321\n322\n323\n324\n325\n326\n327\n328\n329\n330\n331\n332\n333\n334\n335\n336\n337\n338\n339\n340\n341\n342\n343\n344\n345\n346\n347\n348\n349\n350\n351\n352\n353\n354\n355\n356\n357\n358\n359\n360\n361\n362\n363\n364\n365\n366\n367\n368\n369\n370\n371\n372\n373\n374\n375\n376\n377\n378\n379\n380\n381\n382\n383\n384"
    },
    {
      "title": "GitHub - MystenLabs/sui: Sui, a next-generation smart contract platform with high throughput, low latency, and an asset-oriented programming model powered by the Move programming language",
      "url": "https://github.com/MystenLabs/sui/",
      "html": "Skip to content\nNavigation Menu\nProduct\nSolutions\nOpen Source\nPricing\nSearch or jump to...\nSign in\nSign up\nMystenLabs\n/\nsui\nPublic\nNotifications\nFork 11k\n Star 5.8k\nCode\nIssues\n388\nPull requests\n383\nDiscussions\nActions\nProjects\n3\nWiki\nSecurity\nInsights\nMystenLabs/sui\n main\n1,779 Branches\n3,995 Tags\nCode\nFolders and files\nName\tLast commit message\tLast commit date\n\nLatest commit\nBridgerz\nEnsure Non Zero Bridge Amount (#17745)\ne2dc6ad\n · \nHistory\n12,947 Commits\n\n\n.cargo\n\t\nAdd a new clippy target to run on mysql feature protected code (#17548)\n\t\n\n\n.changeset\n\t\nVersion Packages (#17746)\n\t\n\n\n.config\n\t\nsunset workspace-hack\n\t\n\n\n.github\n\t\n[CI] Fix workflow (#17717)\n\t\n\n\n.vscode\n\t\nmove prettier and eslint config to root of repo (#12497)\n\t\n\n\napps\n\t\nupdate extension to use new SUINS format (#17738)\n\t\n\n\nbridge\n\t\nEnsure Non Zero Bridge Amount (#17745)\n\t\n\n\nchocolatey\n\t\nchocolatey: fix verification file path (#15901)\n\t\n\n\nconsensus\n\t\nuse env var to set consensus min delay in tests (#17750)\n\t\n\n\ncrates\n\t\n[fix][homebrew] don't panic if git commit unavailable (#17760)\n\t\n\n\ndapps\n\t\n[Kiosk demo] Add support for network selector (#17434)\n\t\n\n\ndashboards\n\t\nadd node operator documentation (#9190)\n\t\n\n\ndoc/paper\n\t\nreview revisions\n\t\n\n\ndocker\n\t\nRevert \"[indexer/dockerfile] adjust arg\" (#17163)\n\t\n\n\ndocs\n\t\n[docs] Tip about flag (#17736)\n\t\n\n\nexamples\n\t\nUpdate Move examples of EC operations (#17635)\n\t\n\n\nexternal-crates\n\t\n[cleanup][move] A bit of cleaning in language storage and removing re…\n\t\n\n\nkiosk\n\t\n[kiosk] Remove kiosk package from sui (#16701)\n\t\n\n\nnarwhal\n\t\nnarwhal: stop transaction interface binding on 0.0.0.0 when 127.0.0.1…\n\t\n\n\nnre\n\t\n[nre] update config template for consensus 2.0 (#17238)\n\t\n\n\nscripts\n\t\n[move] Split bytecode's absint into its own crate (#17459)\n\t\n\n\nsdk\n\t\nVersion Packages (#17746)\n\t\n\n\nsui-execution\n\t\nSui Native bridge (#17579)\n\t\n\n\nsui_programmability/examples\n\t\nMove \"Random\" examples to the new examples folder, and update them (#…\n\t\n\n\n.clippy.toml\n\t\nDisallow futures::executor::block_on (#10912)\n\t\n\n\n.dockerignore\n\t\nDeterministic Build using StageX (#16522)\n\t\n\n\n.eslintrc.js\n\t\nchore: remove repetitive words (#17148)\n\t\n\n\n.gitattributes\n\t\nAdd graphql package (#16067)\n\t\n\n\n.gitignore\n\t\n[docs] Framework docs (#16844)\n\t\n\n\n.lycheeignore\n\t\nSkip gateway and 127.0.0.1 address in link checker (#2260)\n\t\n\n\n.npmrc\n\t\nmove prettier and eslint config to root of repo (#12497)\n\t\n\n\n.prettierignore\n\t\nAdd GraphQL transport for SuiClient (#14646)\n\t\n\n\n.typos.toml\n\t\nBump crate-ci/typos from 1.14.12 to 1.16.11 (#13682)\n\t\n\n\nCODE_OF_CONDUCT.MD\n\t\n[docs] Update CONTRIBUTING.md (#16149)\n\t\n\n\nCONTRIBUTING.md\n\t\n[docs] Update CONTRIBUTING.md (#16149)\n\t\n\n\nCargo.lock\n\t\n[cleanup][move] A bit of cleaning in language storage and removing re…\n\t\n\n\nCargo.toml\n\t\n[cleanup][move] A bit of cleaning in language storage and removing re…\n\t\n\n\nLICENSE\n\t\ninitial commit\n\t\n\n\nLICENSE-docs\n\t\ninitial commit\n\t\n\n\nREADME.md\n\t\n[Docs] Update link to reseach in README.md (#17437)\n\t\n\n\nRELEASES.md\n\t\nAdding a permanent link to releases (#12369)\n\t\n\n\nSECURITY.md\n\t\nupdate references to HackenProof For Bug Bounty (#13729)\n\t\n\n\nbinary-build-list.json\n\t\nAdd internal build names to dictionary (#17644)\n\t\n\n\ndeny.toml\n\t\nUpgrade rustls (#17257)\n\t\n\n\ngraphql.config.ts\n\t\n[TS SDK] Add script to update GraphQL schemas in SDK (#17587)\n\t\n\n\npackage.json\n\t\nPin pnpm installed version in ci (#17679)\n\t\n\n\npnpm-lock.yaml\n\t\nUse same react-query version in docs site to fix rendering issue (#17723\n\t\n\n\npnpm-workspace.yaml\n\t\n[sdk] Move Bytecode Template (#16551)\n\t\n\n\nprettier.config.js\n\t\nRemove sui explorer (#17036)\n\t\n\n\nrust-toolchain.toml\n\t\n[Rust] upgrade to 1.75 toolchain (#15659)\n\t\n\n\nrustfmt.toml\n\t\nchore: switch to Rust edition 2021\n\t\n\n\nturbo.json\n\t\nTurborepo script adjustments (#15088)\n\t\n\n\nvercel.json\n\t\nTry disabling deployments using root vercel.json (#10444)\n\t\nRepository files navigation\nREADME\nApache-2.0 license\nCC-BY-4.0 license\nSecurity\n\nWelcome to Sui\n\nSui is a next-generation smart contract platform with high throughput, low latency, and an asset-oriented programming model powered by the Move programming language.\n\nSui Highlights\n\nSui offers the following benefits and capabilities:\n\nUnmatched scalability, instant settlement\nA safe smart contract language accessible to mainstream developers\nAbility to define rich and composable on-chain assets\nBetter user experience for web3 apps\n\nSui is the only blockchain today that can scale with the growth of web3 while achieving industry-leading performance, cost, programmability, and usability. As Sui approaches Mainnet launch, it will demonstrate capacity beyond the transaction processing capabilities of established systems – traditional and blockchain alike. Sui is the first internet-scale programmable blockchain platform, a foundational layer for web3.\n\nSui Architecture\nSui Overview\n\nSui is a smart contract platform maintained by a permissionless set of authorities that play a role similar to validators or miners in other blockchain systems.\n\nSui offers scalability and unprecedented low-latency for common use cases. Sui makes the vast majority of transactions processable in parallel, which makes better use of processing resources, and offers the option to increase throughput with more resources. Sui forgoes consensus to instead use simpler and lower-latency primitives for common use cases, such as payment transactions and asset transfers. This is unprecedented in the blockchain world and enables a number of new latency-sensitive distributed applications, ranging from gaming to retail payment at physical points of sale.\n\nSui is written in Rust and supports smart contracts written in the Move programming language to define assets that may have an owner. Move programs define operations on these assets including custom rules for their creation, the transfer of these assets to new owners, and operations that mutate assets.\n\nSui has a native token called SUI, with a fixed supply. The SUI token is used to pay for gas, and is also used as delegated stake on authorities within an epoch. The voting power of authorities within this epoch is a function of this delegated stake. Authorities are periodically reconfigured according to the stake delegated to them. In any epoch, the set of authorities is Byzantine fault tolerant. At the end of the epoch, fees collected through all transactions processed are distributed to authorities according to their contribution to the operation of the system. Authorities can in turn share some of the fees as rewards to users that delegated stakes to them.\n\nSui is backed by a number of state-of-the-art peer-reviewed works and years of open source development.\n\nMore About Sui\n\nUse the following links to learn more about Sui and the Sui ecosystem:\n\nLearn more about working with Sui in the Sui Documentation.\nJoin the Sui community on Sui Discord.\nFind out more about the Sui ecosystem on the Sui Resources page.\nReview information about Sui governance, decentralization, and Developer Grants Program on the Sui Foundation site.\nAbout\n\nSui, a next-generation smart contract platform with high throughput, low latency, and an asset-oriented programming model powered by the Move programming language\n\nsui.io\nTopics\nsmart-contracts blockchain move distributed-ledger-technology\nResources\n Readme\nLicense\n Apache-2.0, CC-BY-4.0 licenses found\nSecurity policy\n Security policy\n Activity\n Custom properties\nStars\n 5.8k stars\nWatchers\n 161 watching\nForks\n 11k forks\nReport repository\n\n\nReleases 139\ntestnet-v1.25.0\nLatest\n+ 138 releases\n\n\nPackages\nNo packages published\n\n\n\nContributors\n295\n+ 281 contributors\n\n\nLanguages\nRust\n72.7%\n \nMove\n16.6%\n \nTypeScript\n8.6%\n \nSolidity\n0.6%\n \nPython\n0.6%\n \nMDX\n0.5%\n \nOther\n0.4%\nFooter\n© 2024 GitHub, Inc.\nFooter navigation\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact\nManage cookies\nDo not share my personal information"
    }
  ]